/*! For license information please see main.f1be571c.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(288)},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function j(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return j((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+T(e,0):s,x(a)?(i="",null!=u&&(i=u.replace(_,"$&/")+"/"),j(a,t,i,"",function(e){return e})):null!=a&&(N(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===s?".":s+":";if(x(e))for(var m=0;m<e.length;m++)u+=j(s=e[m],t,i,o=p+T(s,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=j(s=s.value,t,i,o=p+T(s,m++),a);else if("object"===o){if("function"===typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,D)}catch(s){D(s)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(623)},517:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n=e=>e.match(t)||[],r=e=>e[0].toUpperCase()+e.slice(1),i=(e,t)=>n(e).join(t).toLowerCase(),s=e=>n(e).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,"");e.exports={words:n,upperFirst:r,camelCase:s,pascalCase:e=>r(s(e)),snakeCase:e=>i(e,"_"),kebabCase:e=>i(e,"-"),sentenceCase:e=>r(i(e," ")),titleCase:e=>n(e).map(r).join(" ")}},575:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,o=new t(512),l=new t(512),c=new t(512);function u(e){return o.get(e)||o.set(e,d(e).map(function(e){return e.replace(a,"$2")}))}function d(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function f(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return s.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:u,setter:function(e){var t=u(e);return l.get(e)||l.set(e,function(e,n){for(var r=0,i=t.length,s=e;r<i-1;){var a=t[r];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;s=s[t[r++]]}s[t[r]]=n})},getter:function(e,t){var n=u(e);return c.get(e)||c.set(e,function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e})},join:function(e){return e.reduce(function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(e,t,n){!function(e,t,n){var r,i,s,a,o=e.length;for(i=0;i<o;i++)(r=e[i])&&(f(r)&&(r='"'+r+'"'),s=!(a=h(r))&&/^\d+$/.test(r),t.call(n,r,a,s,i,e))}(Array.isArray(e)?e:d(e),t,n)}}},579:(e,t,n)=>{"use strict";e.exports=n(799)},623:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var j=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var P=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],F=-1;function V(e){return{current:e}}function U(e){0>F||(e.current=L[F],L[F]=null,F--)}function z(e,t){F++,L[F]=e.current,e.current=t}var $=V(null),q=V(null),B=V(null),H=V(null);function W(e,t){switch(z(B,t),z(q,e),z($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U($),z($,e)}function K(){U($),U(q),U(B)}function G(e){null!==e.memoizedState&&z(H,e);var t=$.current,n=sd(t,e.type);t!==n&&(z(q,e),z($,n))}function Q(e){q.current===e&&(U($),U(q)),H.current===e&&(U(H),Gd._currentValue=M)}var J=Object.prototype.hasOwnProperty,Y=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=ve(r):0!==(a&=o)?i=ve(a):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~s)?i=ve(o):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),De="__reactFiber$"+Ae,Pe="__reactProps$"+Ae,Re="__reactContainer$"+Ae,Oe="__reactEvents$"+Ae,Me="__reactListeners$"+Ae,Le="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,Ve="__reactMarker$"+Ae;function Ue(e){delete e[De],delete e[Pe],delete e[Oe],delete e[Me],delete e[Le]}function ze(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[De])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[De]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Be(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Ve]=!0}var We=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Je,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,J.call(et,i)||!J.call(Ze,i)&&(Xe.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Je)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Ye=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Ye}var st=!1;function at(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(P(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Pt=null;function Rt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Pe]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Mt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Dt||null!==Pt)&&(zc(),Dt&&(t=Dt,e=Pt,Pt=Dt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Pe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ph){Vt=!1}var zt=null,$t=null,qt=null;function Bt(){if(qt)return qt;var e,t,n=$t,r=n.length,i="value"in zt?zt.value:zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Qt,Jt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Qt=e.screenX-Yt.screenX,Jt=e.screenY-Yt.screenY):Jt=Qt=0,Yt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),rn=Gt(nn),sn=Gt(h({},nn,{dataTransfer:0})),an=Gt(h({},en,{relatedTarget:0})),on=Gt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Gt(h({},Xt,{newState:0,oldState:0})),xn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var En=Ft&&"TextEvent"in window&&!Sn,Nn=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),_n=String.fromCharCode(32),Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Pn(e,t,n,r){Dt?Pt?Pt.push(r):Pt=[r]:Dt=r,0<(t=Bu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,On=null;function Mn(e){Mu(e,0)}function Ln(e){if(ht(qe(e)))return e}function Fn(e,t){if("change"===e)return t}var Vn=!1;if(Ft){var Un;if(Ft){var zn="oninput"in document;if(!zn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),zn="function"===typeof $n.oninput}Un=zn}else Un=!1;Vn=Un&&(!document.documentMode||9<document.documentMode)}function qn(){Rn&&(Rn.detachEvent("onpropertychange",Bn),On=Rn=null)}function Bn(e){if("value"===e.propertyName&&Ln(On)){var t=[];Pn(t,On,e,At(e)),Mt(Mn,t)}}function Hn(e,t,n){"focusin"===e?(qn(),On=n,(Rn=t).attachEvent("onpropertychange",Bn)):"focusout"===e&&qn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(On)}function Kn(e,t){if("click"===e)return Ln(t)}function Gn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!J.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Jn(sr,r)||(sr=r,0<(r=Bu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),Ge(t,[e])}xr.push("scrollEnd");var Sr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Nr=[],_r=0,Tr=0;function Cr(){for(var e=_r,t=Tr=_r=0;t<e;){var n=Nr[t];Nr[t++]=null;var r=Nr[t];Nr[t++]=null;var i=Nr[t];Nr[t++]=null;var s=Nr[t];if(Nr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Dr(n,i,s)}}function jr(e,t,n,r){Nr[_r++]=e,Nr[_r++]=t,Nr[_r++]=n,Nr[_r++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return jr(e,t,n,r),Pr(e)}function Ar(e,t){return jr(e,null,null,t),Pr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Pr(e){if(50<Dc)throw Dc=0,Pc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Or(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Mr(31,n,t,i)).elementType=T,e.lanes=s,e;case g:return zr(n.children,i,s,t);case y:o=8,i|=24;break;case v:return(e=Mr(12,n,t,2|i)).elementType=v,e.lanes=s,e;case S:return(e=Mr(13,n,t,i)).elementType=S,e.lanes=s,e;case E:return(e=Mr(19,n,t,i)).elementType=E,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:o=10;break e;case w:o=9;break e;case k:o=11;break e;case N:o=14;break e;case _:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function zr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Br=[],Hr=0,Wr=null,Kr=0,Gr=[],Qr=0,Jr=null,Yr=1,Xr="";function Zr(e,t){Br[Hr++]=Kr,Br[Hr++]=Wr,Wr=e,Kr=t}function ei(e,t,n){Gr[Qr++]=Yr,Gr[Qr++]=Xr,Gr[Qr++]=Jr,Jr=e;var r=Yr;e=Xr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yr=1<<32-fe(t)+i|n<<i|r,Xr=s+e}else Yr=1<<s|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Wr;)Wr=Br[--Hr],Br[Hr]=null,Kr=Br[--Hr],Br[Hr]=null;for(;e===Jr;)Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null,Yr=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,si=!1,ai=null,oi=!1,li=Error(a(519));function ci(e){throw mi(Er(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Pe]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)Lu(Ru[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ju(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Yu),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!si)return di(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=ai;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=V(null),yi=null,vi=null;function bi(e,t,n){z(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,U(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xi(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),xi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Si(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ni(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _i(e){return Ci(yi,e)}function Ti(e,t){return null===yi&&Ni(e),Ci(e,t)}function Ci(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var ji="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ii=r.unstable_scheduleCallback,Ai=r.unstable_NormalPriority,Di={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pi(){return{controller:new ji,data:new Map,refCount:0}}function Ri(e){e.refCount--,0===e.refCount&&Ii(Ai,function(){e.controller.abort()})}var Oi=null,Mi=0,Li=0,Fi=null;function Vi(){if(0===--Mi&&null!==Oi){null!==Fi&&(Fi.status="fulfilled");var e=Oi;Oi=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Oi){var n=Oi=[];Mi=0,Li=ju(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(Vi,Vi)}(0,t),null!==Ui&&Ui(e,t)};var zi=V(null);function $i(){var e=zi.current;return null!==e?e:rc.pooledCache}function qi(e,t){z(zi,null===t?zi.current:t.pool)}function Bi(){var e=$i();return null===e?null:{parent:Di._currentValue,pool:e}}var Hi=Error(a(460)),Wi=Error(a(474)),Ki=Error(a(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ji(){}function Yi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ji,Ji),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ji,Ji);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Xi=t,Hi}}var Xi=null;function Zi(){if(null===Xi)throw Error(a(459));var e=Xi;return Xi=null,e}function es(e){if(e===Hi||e===Ki)throw Error(a(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Pr(e),Dr(e,null,n),t}return jr(e,r,t,n),Pr(e)}function as(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Fi)throw Fi}}function us(e,t,n,r){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(sc&f)===f:(r&f)===f){0!==f&&f===Li&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ts=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=d}}function ds(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ds(n[e],t)}var fs=V(null),ps=V(0);function ms(e,t){z(ps,e=dc),z(fs,t),dc=e|t.baseLanes}function gs(){z(ps,dc),z(fs,fs.current)}function ys(){dc=ps.current,U(fs),U(ps)}var vs=0,bs=null,ws=null,xs=null,ks=!1,Ss=!1,Es=!1,Ns=0,_s=0,Ts=null,Cs=0;function js(){throw Error(a(321))}function Is(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function As(e,t,n,r,i,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Ha:Wa,Es=!1,s=n(r,i),Es=!1,Ss&&(s=Ps(t,n,r,i)),Ds(e),s}function Ds(e){R.H=Ba;var t=null!==ws&&null!==ws.next;if(vs=0,xs=ws=bs=null,ks=!1,_s=0,Ts=null,t)throw Error(a(300));null===e||To||null!==(e=e.dependencies)&&Ei(e)&&(To=!0)}function Ps(e,t,n,r){bs=e;var i=0;do{if(Ss&&(Ts=null),_s=0,Ss=!1,25<=i)throw Error(a(301));if(i+=1,xs=ws=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=Ka,s=t(n,r)}while(Ss);return s}function Rs(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Us(t):t,e=e.useState()[0],(null!==ws?ws.memoizedState:null)!==e&&(bs.flags|=1024),t}function Os(){var e=0!==Ns;return Ns=0,e}function Ms(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ls(e){if(ks){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ks=!1}vs=0,xs=ws=bs=null,Ss=!1,_s=Ns=0,Ts=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xs?bs.memoizedState=xs=e:xs=xs.next=e,xs}function Vs(){if(null===ws){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=ws.next;var t=null===xs?bs.memoizedState:xs.next;if(null!==t)xs=t,ws=e;else{if(null===e){if(null===bs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ws=e).memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},null===xs?bs.memoizedState=xs=e:xs=xs.next=e}return xs}function Us(e){var t=_s;return _s+=1,null===Ts&&(Ts=[]),e=Yi(Ts,e,t),t=bs,null===(null===xs?t.memoizedState:xs.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Ha:Wa),e}function zs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Us(e);if(e.$$typeof===x)return _i(e)}throw Error(a(438,String(e)))}function $s(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function qs(e,t){return"function"===typeof t?t(e):t}function Bs(e){return Hs(Vs(),ws,e)}function Hs(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(sc&h)===h:(vs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((vs&f)===f){u=u.next,f===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,bs.lanes|=f,fc|=f}h=u.action,Es&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,bs.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Qn(s,e.memoizedState)&&(To=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ws(e){var t=Vs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Qn(s,t.memoizedState)||(To=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ks(e,t,n){var r=bs,i=Vs(),s=si;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Qn((ws||i).memoizedState,n);if(o&&(i.memoizedState=n,To=!0),i=i.queue,ga(2048,8,Js.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==xs&&1&xs.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,i,n,t),null),null===rc)throw Error(a(349));s||0!==(124&vs)||Gs(r,t,n)}return n}function Gs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qs(e,t,n,r){t.value=n,t.getSnapshot=r,Ys(t)&&Xs(e)}function Js(e,t,n){return n(function(){Ys(t)&&Xs(e)})}function Ys(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Xs(e){var t=Ar(e,2);null!==t&&Mc(t,e,2)}function Zs(e){var t=Fs();if("function"===typeof e){var n=e;if(e=n(),Es){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Hs(e,ws,"function"===typeof r?r:qs)}function ta(e,t,n,r,i){if(za(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function na(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=R.T,a={};R.T=a;try{var o=n(i,r),l=R.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){sa(e,t,c)}finally{R.T=s}}else try{ra(e,t,s=n(i,r))}catch(u){sa(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ia(e,t,n)},function(n){return sa(e,t,n)}):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function sa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(si){var n=rc.formState;if(null!==n){e:{var r=bs;if(si){if(ii){t:{for(var i=ii,s=oi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Fa.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=Ua.bind(null,bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fs()).queue=i,n=ta.bind(null,bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(Vs(),ws,e)}function ua(e,t,n){if(t=Hs(e,t,oa)[0],e=Bs(qs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Us(t)}catch(a){if(a===Hi)throw Ki;throw a}else r=t;var i=(t=Vs()).queue,s=i.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,fa(9,{destroy:void 0,resource:void 0},da.bind(null,i,n),null)),[r,s,e]}function da(e,t){e.action=t}function ha(e){var t=Vs(),n=ws;if(null!==n)return ua(t,n,e);Vs(),t=t.memoizedState;var r=(n=Vs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(){return Vs().memoizedState}function ma(e,t,n,r){var i=Fs();r=void 0===r?null:r,bs.flags|=e,i.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var i=Vs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==ws&&null!==r&&Is(r,ws.memoizedState.deps)?i.memoizedState=fa(t,s,n,r):(bs.flags|=e,i.memoizedState=fa(1|t,s,n,r))}function ya(e,t){ma(8390656,8,e,t)}function va(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function wa(e,t){return ga(4,4,e,t)}function xa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,xa.bind(null,t,e),n)}function Sa(){}function Ea(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Is(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Na(e,t){var n=Vs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Is(t,r[1]))return r[0];if(r=e(),Es){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function _a(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),bs.lanes|=e,fc|=e,n)}function Ta(e,t,n,r){return Qn(n,t)?n:null!==fs.current?(e=_a(e,n,r),Qn(e,t)||(To=!0),e):0===(42&vs)?(To=!0,e.memoizedState=n):(e=Oc(),bs.lanes|=e,fc|=e,t)}function Ca(e,t,n,r,i){var s=O.p;O.p=0!==s&&8>s?s:8;var a=R.T,o={};R.T=o,Ua(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Va(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Rc());else Va(e,t,r,Rc())}catch(u){Va(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{O.p=s,R.T=a}}function ja(){}function Ia(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Aa(e).queue;Ca(e,i,t,M,null===n?ja:function(){return Da(e),n(r)})}function Aa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Da(e){Va(e,Aa(e).next.queue,{},Rc())}function Pa(){return _i(Gd)}function Ra(){return Vs().memoizedState}function Oa(){return Vs().memoizedState}function Ma(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=ss(t,e=is(n),n);return null!==r&&(Mc(r,t,n),as(r,t,n)),t={cache:Pi()},void(e.payload=t)}t=t.return}}function La(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},za(e)?$a(t,n):null!==(n=Ir(e,t,n,r))&&(Mc(n,e,r),qa(n,t,r))}function Fa(e,t,n){Va(e,t,n,Rc())}function Va(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(za(e))$a(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,a))return jr(e,t,i,0),null===rc&&Cr(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Mc(n,e,r),qa(n,t,r),!0}return!1}function Ua(e,t,n,r){if(r={lane:2,revertLane:ju(),action:r,hasEagerState:!1,eagerState:null,next:null},za(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Mc(t,e,2)}function za(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function $a(e,t){Ss=ks=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Ba={readContext:_i,use:zs,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useLayoutEffect:js,useInsertionEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useSyncExternalStore:js,useId:js,useHostTransitionStatus:js,useFormState:js,useActionState:js,useOptimistic:js,useMemoCache:js,useCacheRefresh:js},Ha={readContext:_i,use:zs,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=Fs();t=void 0===t?null:t;var r=e();if(Es){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fs();if(void 0!==n){var i=n(t);if(Es){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=La.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Fa.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sa,useDeferredValue:function(e,t){return _a(Fs(),e,t)},useTransition:function(){var e=Zs(!1);return e=Ca.bind(null,bs,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,i=Fs();if(si){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&sc)||Gs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ya(Js.bind(null,r,s,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,s,n,t),null),n},useId:function(){var e=Fs(),t=rc.identifierPrefix;if(si){var n=Xr;t="\xab"+t+"R"+(n=(Yr&~(1<<32-fe(Yr)-1)).toString(32)+n),0<(n=Ns++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Cs++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Pa,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ua.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:$s,useCacheRefresh:function(){return Fs().memoizedState=Ma.bind(null,bs)}},Wa={readContext:_i,use:zs,useCallback:Ea,useContext:_i,useEffect:va,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:Na,useReducer:Bs,useRef:pa,useState:function(){return Bs(qs)},useDebugValue:Sa,useDeferredValue:function(e,t){return Ta(Vs(),ws.memoizedState,e,t)},useTransition:function(){var e=Bs(qs)[0],t=Vs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Ks,useId:Ra,useHostTransitionStatus:Pa,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Vs(),0,e,t)},useMemoCache:$s,useCacheRefresh:Oa},Ka={readContext:_i,use:zs,useCallback:Ea,useContext:_i,useEffect:va,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:Na,useReducer:Ws,useRef:pa,useState:function(){return Ws(qs)},useDebugValue:Sa,useDeferredValue:function(e,t){var n=Vs();return null===ws?_a(n,e,t):Ta(n,ws.memoizedState,e,t)},useTransition:function(){var e=Ws(qs)[0],t=Vs().memoizedState;return["boolean"===typeof e?e:Us(e),t]},useSyncExternalStore:Ks,useId:Ra,useHostTransitionStatus:Pa,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Vs();return null!==ws?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$s,useCacheRefresh:Oa},Ga=null,Qa=0;function Ja(e){var t=Qa;return Qa+=1,null===Ga&&(Ga=[]),Yi(Ga,e,t)}function Ya(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xa(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&Za(s)===t.type)?(Ya(t=i(t,n.props),n),t.return=e,t):(Ya(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=zr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Ya(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),n)}if(P(t)||I(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ja(t),n);if(t.$$typeof===x)return h(e,Ti(e,t),n);Xa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case _:return f(e,t,n=(i=n._init)(n._payload),r)}if(P(n)||I(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ja(n),r);if(n.$$typeof===x)return f(e,t,Ti(e,n),r);Xa(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(P(r)||I(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ja(r),i);if(r.$$typeof===x)return y(e,t,n,Ti(t,r),i);Xa(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&Za(b)===c.type){n(l,c.sibling),Ya(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=zr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Ya(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return o(l);case _:return v(l,c,u=(b=u._init)(u._payload),d)}if(P(u))return function(i,a,o,l){for(var c=null,u=null,d=a,p=a=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=s(g,a,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(i,d),si&&Zr(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(a=s(d,a,p),null===u?c=d:u.sibling=d,u=d);return si&&Zr(i,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,i,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),a=s(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),si&&Zr(i,p),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),o=s(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),si&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return si&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),si&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ja(u),d);if(u.$$typeof===x)return v(l,c,Ti(l,u),d);Xa(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=$r(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Qa=0;var i=v(e,t,n,r);return Ga=null,i}catch(a){if(a===Hi||a===Ki)throw a;var s=Mr(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var to=eo(!0),no=eo(!1),ro=V(null),io=null;function so(e){var t=e.alternate;z(co,1&co.current),z(ro,e),null===io&&(null===t||null!==fs.current||null!==t.memoizedState)&&(io=e)}function ao(e){if(22===e.tag){if(z(co,co.current),z(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){z(co,co.current),z(ro,ro.current)}function lo(e){U(ro),io===e&&(io=null),U(co)}var co=V(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Mc(t,e,r),as(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Mc(t,e,r),as(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Mc(t,e,n),as(t,e,n))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(i,s))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function wo(e){yo(e)}function xo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function So(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){xo(e,t)},n}function Eo(e){return(e=is(e)).tag=3,e}function No(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){ko(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof i&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var _o=Error(a(461)),To=!1;function Co(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ni(t),r=As(e,t,n,a,s,i),o=Os(),null===e||To?(si&&o&&ti(t),t.flags|=1,Co(e,t,r,i),t.child):(Ms(e,t,i),Qo(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Lr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ao(e,t,s,r,i))}if(s=e.child,!Jo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(a,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Jn(s,r)&&e.ref===t.ref){if(To=!1,t.pendingProps=r=s,!Jo(e,i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(To=!0)}}return Oo(e,t,n,r,i)}function Do(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Po(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Po(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),ao(t)}else null!==s?(qi(0,s.cachePool),ms(t,s),oo(),t.memoizedState=null):(null!==e&&qi(0,null),gs(),oo());return Co(e,t,i,n),t.child}function Po(e,t,n,r){var i=$i();return i=null===i?null:{parent:Di._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),gs(),ao(t),null!==e&&Si(e,t,r,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,r,i){return Ni(t),n=As(e,t,n,r,void 0,i),r=Os(),null===e||To?(si&&r&&ti(t),t.flags|=1,Co(e,t,n,i),t.child):(Ms(e,t,i),Qo(e,t,i))}function Mo(e,t,n,r,i,s){return Ni(t),t.updateQueue=null,n=Ps(t,r,n,i),Ds(e),r=Os(),null===e||To?(si&&r&&ti(t),t.flags|=1,Co(e,t,n,s),t.child):(Ms(e,t,s),Qo(e,t,s))}function Lo(e,t,n,r,i){if(Ni(t),null===t.stateNode){var s=Rr,a=n.contextType;"object"===typeof a&&null!==a&&(s=_i(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),a=n.contextType,s.context="object"===typeof a&&null!==a?_i(a):Rr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&fo.enqueueReplaceState(s,s.state,null),us(t,r,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(n,o);s.props=l;var c=s.context,u=n.contextType;a=Rr,"object"===typeof u&&null!==u&&(a=_i(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&mo(t,s,r,a),ts=!1;var h=t.memoizedState;s.state=h,us(t,r,s,i),cs(),c=t.memoizedState,o||h!==c||ts?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ts||po(t,n,l,r,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=go(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=_i(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&mo(t,s,r,l),ts=!1,h=t.memoizedState,s.state=h,us(t,r,s,i),cs();var f=t.memoizedState;a!==d||h!==f||ts||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ts||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ro(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):Co(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Qo(e,t,i),e}function Fo(e,t,n,r){return fi(),t.flags|=256,Co(e,t,n,r),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:Bi()}}function zo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function $o(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?so(t):oo(),si){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jr?{id:Yr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,s?(oo(),c=Bo({mode:"hidden",children:c},s=t.mode),i=zr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=Uo(n),s.childLanes=zo(e,r,n),t.memoizedState=Vo,i):(so(t),qo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Ho(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=i.fallback,c=t.mode,i=Bo({mode:"visible",children:i.children},c),(s=zr(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Uo(n),i.childLanes=zo(e,r,n),t.memoizedState=Vo,t=s);else if(so(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ho(e,t,n)}else if(To||Si(e,t,n,!1),r=0!==(n&e.childLanes),To||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ce(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ar(e,i),Mc(r,e,i),_o;"$?"===c.data||Kc(),t=Ho(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,si=!0,ai=null,oi=!1,null!==e&&(Gr[Qr++]=Yr,Gr[Qr++]=Xr,Gr[Qr++]=Jr,Yr=e.id,Xr=e.overflow,Jr=t),(t=qo(t,i.children)).flags|=4096);return t}return s?(oo(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Fr(u,s):(s=zr(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=Uo(n):(null!==(l=c.cachePool)?(u=Di._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Bi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=zo(e,r,n),t.memoizedState=Vo,i):(so(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qo(e,t){return(t=Bo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Bo(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,n){return to(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Ko(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Co(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ko(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ko(t,!0,n,null,s);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Jo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Yo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!Jo(e,n)&&0===(128&t.flags))return To=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),bi(0,Di,e.memoizedState.cache),fi();break;case 27:case 5:G(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(so(t),null!==(e=Qo(e,t,n))?e.sibling:null);so(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Do(e,t,n);case 24:bi(0,Di,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);To=0!==(131072&e.flags)}else To=!1,si&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===k){t.tag=11,t=jo(null,t,r,e,n);break e}if(i===N){t.tag=14,t=Io(null,t,r,e,n);break e}}throw t=D(r)||r,Error(a(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Oo(null,t,r,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Di,r),r!==s.cache&&ki(t,[Di],n,!0),cs(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(a(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,si=!0,ai=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qo(e,t,n);break e}Co(e,t,r,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=rd(B.current).createElement(n))[De]=t,r[Pe]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&si&&(r=t.stateNode=wd(t.type,t.pendingProps,B.current),ri=t,oi=!0,i=ii,fd(t.type)?(vd=i,ii=yd(r.firstChild)):ii=i),Co(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,ad(i,s)?r=null:null!==o&&ad(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=As(e,t,Rs,null,null,n),Gd._currentValue=i),Ro(e,t),Co(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return $o(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Co(e,t,r,n),t.child;case 11:return jo(e,t,t.type,t.pendingProps,n);case 7:return Co(e,t,t.pendingProps,n),t.child;case 8:case 12:return Co(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Co(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ni(t),r=r(i=_i(i)),t.flags|=1,Co(e,t,r,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Bo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Do(e,t,n);case 24:return Ni(t),r=_i(Di),null===e?(null===(i=$i())&&(i=rc,s=Pi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),bi(0,Di,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Di,r)):(r=s.cache,bi(0,Di,r),r!==i.cache&&ki(t,[Di],n,!0))),Co(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=ro.current)&&((4194048&sc)===sc?null!==io:(62914560&sc)!==sc&&0===(536870912&sc)||t!==io))throw Xi=Gi,Wi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Di),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xo(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=B.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=$.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Xo(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=$.current,hi(t))ui(t);else{switch(i=rd(B.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[De]=t,e[Pe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=B.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Ju(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[De]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[De]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(U(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(i,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return z(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return nl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,z(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Di),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Di),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(co),null;case 4:return K(),null;case 10:return wi(t.type),null;case 22:case 23:return lo(t),ys(),null!==e&&U(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Di),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:wi(Di),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:lo(t);break;case 19:U(co);break;case 10:wi(t.type);break;case 22:case 23:lo(t),ys(),null!==e&&U(zi);break;case 24:wi(Di)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hs(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Xu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Xu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Xu(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Xu(e,t,o,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(_t(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Xu(e,t,h,f,r,p)}(r,e.type,n,t),r[Pe]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[De]=e,t[Pe]=n}catch(s){uu(e,e.return,s)}}var bl=!1,wl=!1,xl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&al(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hs(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var s=wl;bl=r,(wl=t)&&!s?Vl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=i,wl=s}break;case 30:break;default:Ll(e,n)}}function Nl(e){var t=e.alternate;null!==t&&(e.alternate=null,Nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,Tl=!1;function Cl(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:wl||dl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=_l,i=Tl;fd(n.type)&&(_l=n.stateNode,Tl=!1),Cl(e,t,n),xd(n.stateNode),_l=r,Tl=i;break;case 5:wl||dl(n,t);case 6:if(r=_l,i=Tl,_l=null,Cl(e,t,n),Tl=i,null!==(_l=r))if(Tl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{_l.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==_l&&(Tl?(pd(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Th(e)):pd(_l,n.stateNode));break;case 4:r=_l,i=Tl,_l=n.stateNode.containerInfo,Tl=!0,Cl(e,t,n),_l=r,Tl=i;break;case 0:case 11:case 14:case 15:wl||ol(2,n,t),wl||ol(4,n,t),Cl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Cl(e,t,n),wl=r;break;default:Cl(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){_l=l.stateNode,Tl=!1;break e}break;case 5:_l=l.stateNode,Tl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===_l)throw Error(a(160));jl(s,o,i),_l=null,Tl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Pl=null;function Rl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),Ol(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Dl(t,e),Ol(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Pl;if(Dl(t,e),Ol(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ve]||s[De]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),ed(s,r,n),s[De]=e,He(s),r=s;break e;case"link":var o=Vd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Vd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[De]=e,He(s),r=s}e.stateNode=r}else Ud(i,e.type,e.stateNode);else e.stateNode=Rd(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Ud(i,e.type,e.stateNode):Rd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),Ol(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),Ol(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Dl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,i=Pl,Pl=Ed(t.containerInfo),Dl(t,e),Pl=i,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(p){uu(e,e.return,p)}xl&&(xl=!1,Ml(e));break;case 4:r=Pl,Pl=Ed(e.stateNode.containerInfo),Dl(t,e),Ol(e),Pl=r;break;case 12:default:Dl(t,e),Ol(e);break;case 13:Dl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,Dl(t,e),wl=d,bl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Dl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(kt(s,""),n.flags&=-33),yl(e,ml(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:xd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Vl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Vl(i,s,n),al(4,s);break;case 1:if(Vl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ds(l[i],o)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(s),ul(s,s.return);break;case 27:vl(s);case 26:case 5:Vl(i,s,n),n&&null===r&&4&a&&hl(s),ul(s,s.return);break;case 12:Vl(i,s,n);break;case 13:Vl(i,s,n),n&&4&a&&Il(i,s);break;case 22:null===s.memoizedState&&Vl(i,s,n),ul(s,s.return);break;case 30:break;default:Vl(i,s,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ri(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e)));break;case 12:if(2048&i){$l(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else $l(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?$l(e,t,n,r):Hl(e,t):2&s._visibility?$l(e,t,n,r):(s._visibility|=2,Bl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Ul(a,t);break;case 24:$l(e,t,n,r),2048&i&&zl(t.alternate,t)}}function Bl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Bl(s,a,o,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Bl(s,a,o,l,i):Hl(s,a):(u._visibility|=2,Bl(s,a,o,l,i)),i&&2048&c&&Ul(a.alternate,a);break;case 24:Bl(s,a,o,l,i),i&&2048&c&&zl(a.alternate,a);break;default:Bl(s,a,o,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&Ul(r.alternate,r);break;case 24:Hl(n,r),2048&i&&zl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Wl=8192;function Kl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===$d)throw Error(a(475));var r=$d;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=jd(n.href),s=e.querySelector(Id(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Bd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void He(s);s=e.ownerDocument||e,n=Ad(n),(i=kd.get(i))&&Md(n,i),He(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Bd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Pl;Pl=Ed(e.stateNode.containerInfo),Kl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Kl(e),Wl=t):Kl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Jl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ri(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,s=r.return;if(Nl(r),r===n){Sl=null;break e}if(null!==i){i.return=s,Sl=i;break e}Sl=s}}}var ec={getCacheForType:function(e){var t=_i(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,sc=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,xc=0,kc=1/0,Sc=null,Ec=null,Nc=0,_c=null,Tc=null,Cc=0,jc=0,Ic=null,Ac=null,Dc=0,Pc=null;function Rc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==R.T){return 0!==Li?Li:ju()}return Ie()}function Oc(){0===gc&&(gc=0===(536870912&sc)||si?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Mc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(qc(e,0),Uc(e,sc,gc,!1)),Ne(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Uc(e,sc,gc,!1)),ku(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Hc(),i=Wc();rc!==e||sc!==t?(Sc=null,kc=te()+500,qc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var s=oc;t:switch(ac){case 1:ac=0,oc=null,Zc(e,t,s,1);break;case 2:case 9:if(Qi(s)){ac=0,oc=null,Xc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),ku(e)},s.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Qi(s)?(ac=0,oc=null,Xc(t)):(ac=0,oc=null,Zc(e,t,s,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||zd(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}ac=0,oc=null,Zc(e,t,s,5);break;case 6:ac=0,oc=null,Zc(e,t,s,6);break;case 8:$c(),hc=6;break e;default:throw Error(a(462))}}Jc();break}catch(d){Bc(e,d)}return vi=yi=null,R.H=r,R.A=i,nc=n,null!==ic?0:(rc=null,sc=0,Cr(),hc)}(e,t):Gc(e,t,!0),s=r;;){if(0===i){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!s||Vc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,o).flags|=256),2!==(o=Gc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,i=4;break e}s=bc,bc=i,null!==s&&(null===bc?bc=s:bc.push.apply(bc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){qc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,Sc,wc,t,gc,pc,yc,lc,s,2,-0,0),i)}else Fc(r,n,bc,Sc,wc,t,gc,pc,yc,lc,s,0,-0,0)}break}i=Gc(e,t,!1),s=!1}ku(e)}function Fc(e,t,n,r,i,s,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&($d={stylesheets:null,count:0,unsuspend:qd},Gl(t),null!==(h=function(){if(null===$d)throw Error(a(475));var e=$d;return e.stylesheets&&0===e.count&&Wd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,s,n,r,i,o,l,c,d,1,f,p)),void Uc(e,s,o,!u);nu(e,t,s,n,r,i,o,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&_e(e,n,t)}function zc(){return 0!==(6&nc)||(Su(0,!1),!1)}function $c(){if(null!==ic){if(0===ac)var e=ic.return;else vi=yi=null,Ls(e=ic),Ga=null,Qa=0,e=ic;for(;null!==e;)sl(e.alternate,e),e=e.return;ic=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$c(),rc=e,ic=n=Fr(e.current,null),sc=t,ac=0,oc=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return dc=t,Cr(),n}function Bc(e,t){bs=null,R.H=Ba,t===Hi||t===Ki?(t=Zi(),ac=3):t===Wi?(t=Zi(),ac=4):ac=t===_o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(hc=1,xo(e,Er(t,e.current)))}function Hc(){var e=R.H;return R.H=Ba,null===e?Ba:e}function Wc(){var e=R.A;return R.A=ec,e}function Kc(){hc=4,lc||(4194048&sc)!==sc&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Uc(rc,sc,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var i=Hc(),s=Wc();rc===e&&sc===t||(Sc=null,qc(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==ic){var o=ic,l=oc;switch(ac){case 8:$c(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ac;if(ac=0,oc=null,Zc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Zc(e,o,l,c)}}Qc(),a=hc;break}catch(u){Bc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,R.H=i,R.A=s,null===ic&&(rc=null,sc=0,Cr()),a}function Qc(){for(;null!==ic;)Yc(ic)}function Jc(){for(;null!==ic&&!Z();)Yc(ic)}function Yc(e){var t=Yo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mo(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Mo(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Ls(t);default:sl(n,t),t=Yo(n,t=ic=Vr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,Ls(t),Ga=null,Qa=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(a(435,n.tag))}return du(e,r,i),Kc(),!1}if(si)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),os(e,i=So(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var s=Error(a(520),{cause:r});if(s=Er(s,n),null===vc?vc=[s]:vc.push(s),4!==hc&&(hc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,os(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Ec||!Ec.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,No(i=Eo(i),e,n,r),os(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sc))return hc=1,xo(e,Er(n,e.current)),void(ic=null)}catch(s){if(null!==i)throw ic=i,s;return hc=1,xo(e,Er(n,e.current)),void(ic=null)}32768&t.flags?(si||1===r?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Nc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Tr,o,l,c),e===rc&&(ic=rc=null,sc=0),Tc=t,_c=e,Cc=n,jc=s,Ic=i,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(se,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,i=O.p,O.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(s=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=o,O.p=i,R.T=r}}Nc=1,ru(),iu(),su()}}function ru(){if(1===Nc){Nc=0;var e=_c,t=Tc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=O.p;O.p=2;var i=nc;nc|=4;try{Rl(t,e);var s=nd,a=er(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=Xn(o,m),v=Xn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,O.p=r,R.T=n}}e.current=t,Nc=2}}function iu(){if(2===Nc){Nc=0;var e=_c,t=Tc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=O.p;O.p=2;var i=nc;nc|=4;try{El(e,t.alternate,t)}finally{nc=i,O.p=r,R.T=n}}Nc=3}}function su(){if(4===Nc||3===Nc){Nc=0,ee();var e=_c,t=Tc,n=Cc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Nc=5:(Nc=0,Tc=_c=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ec=null),je(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,i=O.p,O.p=2,R.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{R.T=t,O.p=i}}0!==(3&Cc)&&ou(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Pc?Dc++:(Dc=0,Pc=e):Dc=0,Su(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ri(t)))}function ou(e){return ru(),iu(),su(),lu()}function lu(){if(5!==Nc)return!1;var e=_c,t=jc;jc=0;var n=je(Cc),r=R.T,i=O.p;try{O.p=32>n?32:n,R.T=null,n=Ic,Ic=null;var s=_c,o=Cc;if(Nc=0,Tc=_c=null,Cc=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Yl(s.current),ql(s,s.current,o,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{O.p=i,R.T=r,au(e,t)}}function cu(e,t,n){t=Er(n,t),null!==(e=ss(e,t=So(e.stateNode,t,2),2))&&(Ne(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=ss(t,n=Eo(2),2))&&(No(n,r,t,e),Ne(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===hc||3===hc&&(62914560&sc)===sc&&300>te()-xc?0===(2&nc)&&qc(e,0):mc|=n,yc===sc&&(yc=0)),ku(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Ar(e,t))&&(Ne(e,t),ku(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,wu=!1,xu=0;function ku(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?Y(re,Eu):Nu()}))}function Su(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Cu(r,s))}else s=sc,0===(3&(s=be(r,r===rc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,s)||(n=!0,Cu(r,s));r=r.next}}while(n);wu=!1}}function Eu(){Nu()}function Nu(){bu=vu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,s=_u(r,t);0===s?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&s))&&(bu=!0)),r=i}Su(e,!1)}function _u(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-fe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=xe(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=sc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),je(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=oe}return r=Tu.bind(null,e),n=Y(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Nc&&5!==Nc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),_u(e,te()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Cu(e,t){if(ou())return null;Lc(e,t,!0)}function ju(){return 0===xu&&(xu=ke()),xu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<xr.length;Du++){var Pu=xr[Du];kr(Pu.toLowerCase(),"on"+(Pu[0].toUpperCase()+Pu.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}}}}function Lu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Vu]){e[Vu]=!0,We.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,Fu("selectionchange",!1,t))}}function zu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $u(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=ze(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Mt(function(){var r=s,i=At(n),a=[];e:{var o=wr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(qu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Re])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:qe(c),p=null==u?o:qe(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,ze(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Hu(d),f=Hu(f)}d=null}else d=null;null!==c&&Wu(a,o,c,d,!1),null!==u&&null!==h&&Wu(a,h,u,d,!0)}if("select"===(c=(o=r?qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(Dn(o))if(Vn)y=Gn;else{y=Wn;var v=Hn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(y=Fn):y=Kn;switch(y&&(y=y(e,r))?Pn(a,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?qe(r):window,e){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var b;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else In?Cn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Nn&&"ko"!==n.locale&&(In||"onCompositionStart"!==w?"onCompositionEnd"===w&&In&&(b=Bt()):($t="value"in(zt=i)?zt.value:zt.textContent,In=!0)),0<(v=Bu(r,w)).length&&(w=new cn(w,e,null,n,i),a.push({event:w,listeners:v}),b?w.data=b:null!==(b=jn(n))&&(w.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Tn=!0,_n);case"textInput":return(e=t.data)===_n&&Tn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!kn&&Cn(e,t)?(e=Bt(),qt=$t=zt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Bu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Iu((i[Pe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Pe]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=a?Au(i,a):new FormData(i);Ia(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Au(i,a):new FormData(i),Ia(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Mu(a,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Lt(e,n))&&r.unshift(qu(e,i,s)),null!=(i=Lt(e,t))&&r.push(qu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Lt(n,s))&&a.unshift(qu(n,c,l)):i||null!=(c=Lt(n,s))&&a.push(qu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ku=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace(Gu,"")}function Ju(e,t){return t=Qu(t),Qu(e)===t}function Yu(){}function Xu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Nt(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=jt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function Zu(e,t,n,r,i,s){switch(n){case"style":Nt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Pe]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,r,o,n,null)}}return s&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Xu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,o,s,!1),void dt(e);case"select":for(s in Lu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Xu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Lu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Xu(e,t,o,l,n,null)}return xt(e,i,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(i=0;i<Ru.length;i++)Lu(Ru[i],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&xd(a.documentElement),2&n&&xd(a.body),4&n)for(xd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ve]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void Th(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Th(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,Sd=new Set;function Ed(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Nd=O.d;O.d={f:function(){var e=Nd.f(),t=zc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?Da(t):Nd.r(e)},D:function(e){Nd.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Nd.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){Nd.L(e,t,n);var r=_d;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=jd(e);break;case"script":s=Dd(e)}kd.has(s)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Id(s))||"script"===t&&r.querySelector(Pd(s))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Nd.m(e,t);var n=_d;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Dd(e)}if(!kd.has(s)&&(e=h({rel:"modulepreload",href:e},t),kd.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pd(s)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Nd.X(e,t);var n=_d;if(n&&e){var r=Be(n).hoistableScripts,i=Dd(e),s=r.get(i);s||((s=n.querySelector(Pd(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&Ld(e,t),He(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Nd.S(e,t,n);var r=_d;if(r&&e){var i=Be(r).hoistableStyles,s=jd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Id(s)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(s))&&Md(e,n);var l=a=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Od(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){Nd.M(e,t);var n=_d;if(n&&e){var r=Be(n).hoistableScripts,i=Dd(e),s=r.get(i);s||((s=n.querySelector(Pd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Ld(e,t),He(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var _d="undefined"===typeof document?null:document;function Td(e,t,n){var r=_d;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Sd.has(i)||(Sd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Cd(e,t,n,r){var i,s,o,l,c=(c=B.current)?Ed(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=jd(n.href),(r=(n=Be(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=jd(n.href);var u=Be(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Id(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(i=c,s=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ed(s,"link",o),He(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Dd(n),(r=(n=Be(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function jd(e){return'href="'+mt(e)+'"'}function Id(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+mt(e)+'"]'}function Pd(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Od(r,n.precedence,e),t.instance=r;case"stylesheet":i=jd(n.href);var s=e.querySelector(Id(i));if(s)return t.state.loading|=4,t.instance=s,He(s),s;r=Ad(n),(i=kd.get(i))&&Md(r,i),He(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",r),t.state.loading|=4,Od(s,n.precedence,e),t.instance=s;case"script":return s=Dd(n.src),(i=e.querySelector(Pd(s)))?(t.instance=i,He(i),i):(r=n,(i=kd.get(s))&&Ld(r=h({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Od(r,n.precedence,e));return t.instance}function Od(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Vd(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ve]||s[De]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var $d=null;function qd(){}function Bd(){if(this.count--,0===this.count)if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Wd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Kd,e),Hd=null,Bd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Bd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:x,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Qd(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Jd(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Qd(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Mr(3,null,null,t),e.current=s,s.stateNode=e,(t=Pi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Yd(e){return e?e=Rr:Rr}function Xd(e,t,n,r,i,s){i=Yd(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Mc(n,0,t),as(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Mc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=R.T;R.T=null;var s=O.p;try{O.p=2,sh(e,t,n,r)}finally{O.p=s,R.T=i}}function ih(e,t,n,r){var i=R.T;R.T=null;var s=O.p;try{O.p=8,sh(e,t,n,r)}finally{O.p=s,R.T=i}}function sh(e,t,n,r){if(nh){var i=ah(r);if(null===i)$u(e,t,r,oh,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return fh=bh(fh,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ph.set(s,bh(ph.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mh.set(s,bh(mh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var s=$e(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=ve(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-fe(a);o.entanglements[1]|=l,a&=~l}ku(s),0===(6&nc)&&(kc=te()+500,Su(0,!1))}}break;case 13:null!==(o=Ar(s,2))&&Mc(o,0,2),zc(),eh(s,2)}if(null===(s=ah(r))&&$u(e,t,r,oh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $u(e,t,r,null,n)}}function ah(e){return lh(e=At(e))}var oh=null;function lh(e){if(oh=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=Ce(e);var t=Ar(n,e);null!==t&&Mc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function kh(e,t,n){xh(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&xh(dh)&&(dh=null),null!==hh&&xh(hh)&&(hh=null),null!==fh&&xh(fh)&&(fh=null),ph.forEach(kh),mh.forEach(kh)}function Eh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sh)))}var Nh=null;function _h(e){Nh!==e&&(Nh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nh===e&&(Nh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var s=$e(n);null!==s&&(e.splice(t,3),t-=3,Ia(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Th(e){function t(t){return Eh(t,e)}null!==dh&&Eh(dh,e),null!==hh&&Eh(hh,e),null!==fh&&Eh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Pe]||null;if("function"===typeof s)a||_h(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Pe]||null)o=a.formAction;else if(null!==lh(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),_h(n)}}}function Ch(e){this._internalRoot=e}function jh(e){this._internalRoot=e}jh.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xd(t.current,Rc(),e,t,null,null)},jh.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),zc(),t[Re]=null}},jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Ih=i.version;if("19.1.1"!==Ih)throw Error(a(527,Ih,"19.1.1"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{ue=Dh.inject(Ah),de=Dh}catch(Rh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=vo,s=bo,l=wo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Jd(e,1,!1,null,0,n,r,i,s,l,0,null),e[Re]=t.current,Uu(e),new Ch(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=vo,l=bo,c=wo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Jd(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Yd(null),n=t.current,(i=is(r=Ce(r=Rc()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,Ne(t,n),ku(t),e[Re]=t.current,Uu(e),new jh(t)},t.version="19.1.1"},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},704:e=>{function t(e,t){var n=e.length,r=new Array(n),i={},s=n,a=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach(function(e){if(!o.has(e[0])||!o.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(e[s],s,new Set);return r;function l(e,t,s){if(s.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!o.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var u=a.get(e)||new Set;if(t=(u=Array.from(u)).length){s.add(e);do{var d=u[--t];l(d,o.get(d),s)}while(t);s.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,E||(E=!0,S());else{var t=r(u);null!==t&&D(k,t.startTime-e)}}var S,E=!1,N=-1,_=5,T=-1;function C(){return!!y||!(t.unstable_now()-T<_)}function j(){if(y=!1,E){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(N),N=-1),p=!0;var s=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&D(k,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof w)S=function(){w(j)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=j,S=function(){A.postMessage(null)}}else S=function(){v(j,0)};function D(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(N),N=-1):g=!0,D(k,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".e19c008c.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ungservice:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ungservice/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkungservice=self.webpackChunkungservice||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r="popstate";function i(){return d(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=u(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),l("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:c(t))},function(e,t){a("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ft){}}}function o(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?u(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,u="POP",d=null,f=p();function p(){return(c.state||{idx:null}).idx}function m(){u="POP";let e=p(),t=null==e?null:e-f;f=e,d&&d({action:u,location:y.location,delta:t})}function g(e){return h(e)}null==f&&(f=0,c.replaceState({...c.state,idx:f},""));let y={get action(){return u},get location(){return e(s,c)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(r,m),d=e,()=>{s.removeEventListener(r,m),d=null}},createHref:e=>t(s,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let r=l(y.location,e,t);n&&n(r,e),f=p()+1;let i=o(r,f),h=y.createHref(r);try{c.pushState(i,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(h)}a&&d&&d({action:u,location:y.location,delta:1})},replace:function(e,t){u="REPLACE";let r=l(y.location,e,t);n&&n(r,e),f=p();let i=o(r,f),s=y.createHref(r);c.replaceState(i,"",s),a&&d&&d({action:u,location:y.location,delta:0})},go:e=>c.go(e)};return y}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),s(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:c(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=j(("string"===typeof t?u(t):t).pathname||"/",n);if(null==i)return null;let s=m(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=C(i);a=N(s[o],e,r)}return a}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(s(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=R([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))i(e,t,n);else i(e,t)}),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=g(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var y=/^:[\w-]+$/,v=3,b=2,w=1,x=10,k=-2,S=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=k),t&&(r+=b),n.filter(e=>!S(e)).reduce((e,t)=>e+(y.test(t)?v:""===t?w:x),r)}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:R([s,u.pathname]),pathnameBase:O(R([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=R([s,u.pathnameBase]))}return a}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=T(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function C(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e){let t=A(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function P(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=u(e):(r={...e},s(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),s(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),s(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let a,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?u(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(r),hash:L(i)}}(r,a),d=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var R=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var V=["POST","PUT","PATCH","DELETE"],U=(new Set(V),["GET",...V]);new Set(U),Symbol("ResetLoaderData");var z=e.createContext(null);z.displayName="DataRouter";var $=e.createContext(null);$.displayName="DataRouterState";var q=e.createContext(!1);var B=e.createContext({isTransitioning:!1});B.displayName="ViewTransition";var H=e.createContext(new Map);H.displayName="Fetchers";var W=e.createContext(null);W.displayName="Await";var K=e.createContext(null);K.displayName="Navigation";var G=e.createContext(null);G.displayName="Location";var Q=e.createContext({outlet:null,matches:[],isDataRoute:!1});Q.displayName="Route";var J=e.createContext(null);J.displayName="RouteError";function Y(){return null!=e.useContext(G)}function X(){return s(Y(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(G).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(t){e.useContext(K).static||e.useLayoutEffect(t)}function te(){let{isDataRoute:t}=e.useContext(Q);return t?function(){let{router:t}=de("useNavigate"),n=fe("useNavigate"),r=e.useRef(!1);ee(()=>{r.current=!0});let i=e.useCallback(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(r.current,Z),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))},[t,n]);return i}():function(){s(Y(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(z),{basename:n,navigator:r}=e.useContext(K),{matches:i}=e.useContext(Q),{pathname:o}=X(),l=JSON.stringify(D(i)),c=e.useRef(!1);ee(()=>{c.current=!0});let u=e.useCallback(function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(c.current,Z),!c.current)return;if("number"===typeof e)return void r.go(e);let s=P(e,JSON.parse(l),o,"path"===i.relative);null==t&&"/"!==n&&(s.pathname="/"===s.pathname?n:R([n,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)},[n,r,l,o,t]);return u}()}e.createContext(null);function ne(){let{matches:t}=e.useContext(Q),n=t[t.length-1];return n?n.params:{}}function re(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(Q),{pathname:i}=X(),s=JSON.stringify(D(r));return e.useMemo(()=>P(t,JSON.parse(s),i,"path"===n),[t,s,i,n])}function ie(t,n,r,i){s(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=e.useContext(K),{matches:l}=e.useContext(Q),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let e=m&&m.path||"";ge(h,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=X();if(n){let e="string"===typeof n?u(n):n;s("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",b=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=f(t,{pathname:b});a(m||null!=w,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),a(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=ce(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:R([p,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:R([p,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,i);return n&&x?e.createElement(G.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function se(){let t=pe(),n=F(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:a},"ErrorBoundary")," or"," ",e.createElement("code",{style:a},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,o)}var ae=e.createElement(se,null),oe=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Q.Provider,{value:this.props.routeContext},e.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function le(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(z);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Q.Provider,{value:n},i)}function ce(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,a=r?.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==a?.[e.route.id]);s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||s){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight((t,s,c)=>{let u,d=!1,h=null,f=null;r&&(u=a&&s.route.id?a[s.route.id]:void 0,h=s.route.errorElement||ae,o&&(l<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=s.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:s.route.Component?e.createElement(s.route.Component,null):s.route.element?s.route.element:t,e.createElement(le,{match:s,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===c)?e.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(t){let n=e.useContext(z);return s(n,ue(t)),n}function he(t){let n=e.useContext($);return s(n,ue(t)),n}function fe(t){let n=function(t){let n=e.useContext(Q);return s(n,ue(t)),n}(t),r=n.matches[n.matches.length-1];return s(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function pe(){let t=e.useContext(J),n=he("useRouteError"),r=fe("useRouteError");return void 0!==t?t:n.errors?.[r]}var me={};function ge(e,t,n){t||me[e]||(me[e]=!0,a(!1,n))}var ye={};function ve(e,t){e||ye[t]||(ye[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:n,state:r}=e;return ie(t,void 0,r,n)});function be(t){let{to:n,replace:r,state:i,relative:o}=t;s(Y(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=e.useContext(K);a(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=e.useContext(Q),{pathname:u}=X(),d=te(),h=P(n,D(c),u,"path"===o),f=JSON.stringify(h);return e.useEffect(()=>{d(JSON.parse(f),{replace:r,state:i,relative:o})},[d,f,o,r,i]),null}function we(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xe(t){let{basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:l,static:c=!1}=t;s(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=e.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);"string"===typeof i&&(i=u(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=i,v=e.useMemo(()=>{let e=j(f,d);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:o}},[d,f,p,m,g,y,o]);return a(null!=v,`<Router basename="${d}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:e.createElement(K.Provider,{value:h},e.createElement(G.Provider,{children:r,value:v}))}function ke(e){let{children:t,location:n}=e;return ie(Se(t),n)}e.Component;function Se(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,i)=>{if(!e.isValidElement(t))return;let a=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,Se(t.props.children,a));s(t.type===we,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Se(t.props.children,a)),r.push(o)}),r}var Ee="get",Ne="application/x-www-form-urlencoded";function _e(e){return null!=e&&"string"===typeof e.tagName}function Te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}var Ce=null;var je=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ie(e){return null==e||je.has(e)?e:(a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ne}"`),null)}function Ae(e,t){let n,r,i,s,a;if(function(e){return _e(e)&&"form"===e.tagName.toLowerCase()}(e)){let a=e.getAttribute("action");r=a?j(a,t):null,n=e.getAttribute("method")||Ee,i=Ie(e.getAttribute("enctype"))||Ne,s=new FormData(e)}else if(function(e){return _e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return _e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?j(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ee,i=Ie(e.getAttribute("formenctype"))||Ie(a.getAttribute("enctype"))||Ne,s=new FormData(a,e),!function(){if(null===Ce)try{new FormData(document.createElement("form"),0),Ce=!1}catch(ft){Ce=!0}return Ce}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(_e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ee,r=null,i=Ne,a=e}return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function De(e){return{__html:e}}function Pe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Re(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===j(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Oe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Me(e){return null!=e&&"string"===typeof e.page}function Le(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Fe(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ve(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Ue(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Me(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function ze(e,t){return"lazy"===e.mode&&!0===t}function $e(){let t=e.useContext(z);return Pe(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qe(){let t=e.useContext($);return Pe(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Be=e.createContext(void 0);function He(){let t=e.useContext(Be);return Pe(t,"You must render this element inside a <HydratedRouter> element"),t}function We(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ke(e,t,n){if(n&&!Ye)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Be.displayName="FrameworkContext";function Ge(t){let{page:n,...r}=t,{router:i}=$e(),s=e.useMemo(()=>f(i.routes,n,i.basename),[i.routes,n,i.basename]);return s?e.createElement(Je,{page:n,matches:s,...r}):null}function Qe(t){let{manifest:n,routeModules:r}=He(),[i,s]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Oe(r,n);return e.links?e.links():[]}return[]}));return Ue(r.flat(1).filter(Le).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(t,n,r).then(t=>{e||s(t)}),()=>{e=!0}},[t,n,r]),i}function Je(t){let{page:n,matches:r,...i}=t,s=X(),{manifest:a,routeModules:o}=He(),{basename:l}=$e(),{loaderData:c,matches:u}=qe(),d=e.useMemo(()=>Fe(n,r,u,a,s,"data"),[n,r,u,a,s]),h=e.useMemo(()=>Fe(n,r,u,a,s,"assets"),[n,r,u,a,s]),f=e.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===n.route.id)&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=Re(n,l,"data");return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[l,c,s,a,d,r,n,o]),p=e.useMemo(()=>Ve(h,a),[h,a]),m=Qe(h);return e.createElement(e.Fragment,null,f.map(t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i})),p.map(t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...i})),m.map(t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})}))}var Ye=!1;function Xe(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:s,routeDiscovery:a,ssr:o}=He(),{router:l,static:c,staticContext:u}=$e(),{matches:d}=qe(),h=e.useContext(q),p=ze(a,o);s&&(s.didRenderScripts=!0);let m=Ke(d,null,i);e.useEffect(()=>{0},[]);let g=e.useMemo(()=>{if(h)return null;let i=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${p?"":`import ${JSON.stringify(n.url)}`};\n${m.map((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];Pe(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${p?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push(`/${s.join("/")}`),s.pop();a.forEach(e=>{let n=f(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let o=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:o,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${m.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:De(i),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:De(s),type:"module",async:!0}))},[]),y=Ye||h?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(Ve(m,n,{includeHydrateFallback:!0}))),v="object"===typeof n.sri?n.sri:{};return ve(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Ye||h?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,p?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:v[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:v[n.entry.module],suppressHydrationWarning:!0}),y.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:v[n],suppressHydrationWarning:!0})),g)}function Ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function et(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(F(n))return e.createElement(tt,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(tt,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function tt(t){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=t,{routeModules:a}=He();return a.root?.Layout&&!i?s:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?e.createElement(Xe,null):null)))}var nt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{nt&&(window.__reactRouterVersion="7.7.1")}catch(ft){}function rt(t){let{basename:n,children:r,window:s}=t,a=e.useRef();null==a.current&&(a.current=i({window:s,v5Compat:!0}));let o=a.current,[l,c]=e.useState({action:o.action,location:o.location}),u=e.useCallback(t=>{e.startTransition(()=>c(t))},[c]);return e.useLayoutEffect(()=>o.listen(u),[o,u]),e.createElement(xe,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var it=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=e.forwardRef(function(t,n){let r,{onClick:i,discover:o="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=t,{basename:b}=e.useContext(K),w="string"===typeof m&&it.test(m),x=!1;if("string"===typeof m&&w&&(r=m,nt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=j(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:x=!0}catch(ft){a(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(K),{hash:a,pathname:o,search:l}=re(t,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:R([r,o])),i.createHref({pathname:c,search:l,hash:a})}(m,{relative:u}),[S,E,N]=function(t,n){let r=e.useContext(Be),[i,s]=e.useState(!1),[a,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return r?"intent"!==t?[a,f,{}]:[a,f,{onFocus:We(l,p),onBlur:We(c,m),onMouseEnter:We(u,p),onMouseLeave:We(d,m),onTouchStart:We(h,p)}]:[!1,f,{}]}(l,v),_=function(t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=te(),u=X(),d=re(t,{relative:a});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:c(u)===c(d);l(t,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,r,i,n,t,s,a,o])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:u,viewTransition:y});let T=e.createElement("a",{...v,...N,href:r||k,onClick:x||d?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:Ze(n,E),target:p,"data-discover":w||"render"!==o?void 0:"true"});return S&&!w?e.createElement(e.Fragment,null,T,e.createElement(Ge,{page:k})):T});st.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d,...h}=t,f=re(c,{relative:h.relative}),p=X(),m=e.useContext($),{navigator:g,basename:y}=e.useContext(K),v=null!=m&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(B);s(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=lt("useViewTransitionState"),a=re(t,{relative:n});if(!r.isTransitioning)return!1;let o=j(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=j(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=_(a.pathname,l)||null!=_(a.pathname,o)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&y&&(x=j(x,y)||x);const k="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,E=w===b||!o&&w.startsWith(b)&&"/"===w.charAt(k),N=null!=x&&(x===b||!o&&x.startsWith(b)&&"/"===x.charAt(b.length)),T={isActive:E,isPending:N,isTransitioning:v},C=E?r:void 0;S="function"===typeof a?a(T):[a,E?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(T):l;return e.createElement(st,{...h,"aria-current":C,className:S,ref:n,style:I,to:c,viewTransition:u},"function"===typeof d?d(T):d)}).displayName="NavLink";var at=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:i,navigate:a,reloadDocument:o,replace:l,state:u,method:d=Ee,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=t,v=ht(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(K),i=e.useContext(Q);s(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...re(t||".",{relative:n})},l=X();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:R([r,o.pathname]));return c(o)}(h,{relative:p}),w="get"===d.toLowerCase()?"get":"post",x="string"===typeof h&&it.test(h);return e.createElement("form",{ref:n,method:w,action:b,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":x||"render"!==r?void 0:"true"})});function ot(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lt(t){let n=e.useContext(z);return s(n,ot(t)),n}function ct(t){a("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=e.useRef(Te(t)),r=e.useRef(!1),i=X(),s=e.useMemo(()=>function(e,t){let n=Te(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(i.search,r.current?null:n.current),[i.search]),o=te(),l=e.useCallback((e,t)=>{const n=Te("function"===typeof e?e(new URLSearchParams(s)):e);r.current=!0,o("?"+n,t)},[o,s]);return[s,l]}at.displayName="Form";var ut=0,dt=()=>`__${String(++ut)}__`;function ht(){let{router:t}=lt("useSubmit"),{basename:n}=e.useContext(K),r=fe("useRouteId");return e.useCallback(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=Ae(e,n);if(!1===i.navigate){let e=i.fetcherKey||dt();await t.fetch(e,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,n,r])}let ft={data:""},pt=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ft,mt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gt=/\/\*[^]*?\*\/|  +/g,yt=/\n+/g,vt=(e,t)=>{let n="",r="",i="";for(let s in e){let a=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+a+";":r+="f"==s[1]?vt(a,s):s+"{"+vt(a,"k"==s[1]?"":t)+"}":"object"==typeof a?r+=vt(a,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=a&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=vt.p?vt.p(s,a):s+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},bt={},wt=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+wt(e[n]);return t}return e},xt=(e,t,n,r,i)=>{let s=wt(e),a=bt[s]||(bt[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!bt[a]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=mt.exec(e.replace(gt,""));)t[4]?r.shift():t[3]?(n=t[3].replace(yt," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(yt," ").trim();return r[0]})(e);bt[a]=vt(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let o=n&&bt.g?bt.g:null;return n&&(bt.g=bt[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(bt[a],t,r,o),a};function kt(e){let t=this||{},n=e.call?e(t.p):e;return xt(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":vt(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,pt(t.target),t.g,t.o,t.k)}kt.bind({g:1});let St,Et,Nt,_t=kt.bind({k:1});function Tt(e,t){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:Et&&Et()},o),n.o=/ *go\d+/.test(l),o.className=kt.apply(n,r)+(l?" "+l:""),t&&(o.ref=a);let c=e;return e[0]&&(c=o.as||e,delete o.as),Nt&&c[0]&&Nt(o),St(c,o)}return t?t(i):i}}var Ct=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,jt=(()=>{let e=0;return()=>(++e).toString()})(),It=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),At=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:n}=t;return At(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},Dt=[],Pt={toasts:[],pausedAt:void 0},Rt=e=>{Pt=At(Pt,e),Dt.forEach(e=>{e(Pt)})},Ot={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Mt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||jt()}}(t,e,n);return Rt({type:2,toast:r}),r.id},Lt=(e,t)=>Mt("blank")(e,t);Lt.error=Mt("error"),Lt.success=Mt("success"),Lt.loading=Mt("loading"),Lt.custom=Mt("custom"),Lt.dismiss=e=>{Rt({type:3,toastId:e})},Lt.remove=e=>Rt({type:4,toastId:e}),Lt.promise=(e,t,n)=>{let r=Lt.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?Ct(t.success,e):void 0;return i?Lt.success(i,{id:r,...n,...null==n?void 0:n.success}):Lt.dismiss(r),e}).catch(e=>{let i=t.error?Ct(t.error,e):void 0;i?Lt.error(i,{id:r,...n,...null==n?void 0:n.error}):Lt.dismiss(r)}),e};var Ft=(e,t)=>{Rt({type:1,toast:{id:e,height:t}})},Vt=()=>{Rt({type:5,time:Date.now()})},Ut=new Map,zt=t=>{let{toasts:n,pausedAt:r}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,e.useState)(Pt),i=(0,e.useRef)(Pt);(0,e.useEffect)(()=>(i.current!==Pt&&r(Pt),Dt.push(r),()=>{let e=Dt.indexOf(r);e>-1&&Dt.splice(e,1)}),[]);let s=n.toasts.map(e=>{var n,r,i;return{...t,...t[e.type],...e,removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||Ot[e.type],style:{...t.style,...null==(i=t[e.type])?void 0:i.style,...e.style}}});return{...n,toasts:s}}(t);(0,e.useEffect)(()=>{if(r)return;let e=Date.now(),t=n.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>Lt.dismiss(t.id),n);t.visible&&Lt.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[n,r]);let i=(0,e.useCallback)(()=>{r&&Rt({type:6,time:Date.now()})},[r]),s=(0,e.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=t||{},a=n.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<o&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,e.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Ut.has(e))return;let n=setTimeout(()=>{Ut.delete(e),Rt({type:4,toastId:e})},t);Ut.set(e,n)}(e.id,e.removeDelay);else{let t=Ut.get(e.id);t&&(clearTimeout(t),Ut.delete(e.id))}})},[n]),{toasts:n,handlers:{updateHeight:Ft,startPause:Vt,endPause:i,calculateOffset:s}}},$t=_t`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qt=_t`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bt=_t`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ht=Tt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$t} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qt} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Bt} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wt=_t`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Kt=Tt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Wt} 1s linear infinite;
`,Gt=_t`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Qt=_t`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Jt=Tt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Gt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Qt} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Yt=Tt("div")`
  position: absolute;
`,Xt=Tt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Zt=_t`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,en=Tt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Zt} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tn=t=>{let{toast:n}=t,{icon:r,type:i,iconTheme:s}=n;return void 0!==r?"string"==typeof r?e.createElement(en,null,r):r:"blank"===i?null:e.createElement(Xt,null,e.createElement(Kt,{...s}),"loading"!==i&&e.createElement(Yt,null,"error"===i?e.createElement(Ht,{...s}):e.createElement(Jt,{...s})))},nn=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,rn=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,sn=Tt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,an=Tt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,on=e.memo(t=>{let{toast:n,position:r,style:i,children:s}=t,a=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=It()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[nn(n),rn(n)];return{animation:t?`${_t(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_t(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(n.position||r||"top-center",n.visible):{opacity:0},o=e.createElement(tn,{toast:n}),l=e.createElement(an,{...n.ariaProps},Ct(n.message,n));return e.createElement(sn,{className:n.className,style:{...a,...i,...n.style}},"function"==typeof s?s({icon:o,message:l}):e.createElement(e.Fragment,null,o,l))});!function(e,t,n,r){vt.p=t,St=e,Et=n,Nt=r}(e.createElement);var ln=t=>{let{id:n,className:r,style:i,onHeightUpdate:s,children:a}=t,o=e.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;s(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return e.createElement("div",{ref:o,className:r,style:i},a)},cn=kt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,un=t=>{let{reverseOrder:n,position:r="top-center",toastOptions:i,gutter:s,children:a,containerStyle:o,containerClassName:l}=t,{toasts:c,handlers:u}=zt(i);return e.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(t=>{let i=t.position||r,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:It()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(i,u.calculateOffset(t,{reverseOrder:n,gutter:s,defaultPosition:r}));return e.createElement(ln,{id:t.id,key:t.id,onHeightUpdate:u.updateHeight,className:t.visible?cn:"",style:o},"custom"===t.type?Ct(t.message,t):a?a(t):e.createElement(on,{toast:t,position:i}))}))},dn=Lt;const hn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new pn;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mn=function(e){return function(e){const t=hn(e);return fn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},gn=function(e){try{return fn.decodeString(e,!0)}catch(ft){console.error("base64Decode failed: ",ft)}return null};function yn(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const vn=()=>{try{return yn().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/ungservice",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ft){return}const t=e&&gn(e[1]);return t&&JSON.parse(t)})()}catch(ft){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ft}`)}},bn=e=>vn()?.emulatorHosts?.[e],wn=()=>vn()?.config,xn=e=>vn()?.[`_${e}`];class kn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Sn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function En(e){return(await fetch(e,{credentials:"include"})).ok}const Nn={};let _n=!1;function Tn(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Sn(window.location.host)||Nn[e]===t||Nn[e]||_n)return;function n(e){return`__firebase__banner__${e}`}Nn[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Nn))Nn[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{_n=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Cn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function jn(){const e=vn()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(ft){return!1}}function In(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function An(){return!jn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dn(){try{return"object"===typeof indexedDB}catch(ft){return!1}}function Pn(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}function Rn(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class On extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}}class Mn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Ln,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new On(n,s,t)}}const Ln=/\{\$([^}]+)}/g;function Fn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Vn(n)&&Vn(s)){if(!Fn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vn(e){return null!==e&&"object"===typeof e}function Un(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function $n(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class qn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Bn),void 0===r.error&&(r.error=Bn),void 0===r.complete&&(r.complete=Bn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ft){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ft){"undefined"!==typeof console&&console.error&&console.error(ft)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bn(){}function Hn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Wn(e){return e&&e._delegate?e._delegate:e}class Kn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gn="[DEFAULT]";class Qn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new kn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ft){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(ft){if(n)return null;throw ft}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch(ft){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ft){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Gn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn;return this.component?this.component.multipleInstances?e:Gn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Jn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yn=[];var Xn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xn||(Xn={}));const Zn={debug:Xn.DEBUG,verbose:Xn.VERBOSE,info:Xn.INFO,warn:Xn.WARN,error:Xn.ERROR,silent:Xn.SILENT},er=Xn.INFO,tr={[Xn.DEBUG]:"log",[Xn.VERBOSE]:"log",[Xn.INFO]:"info",[Xn.WARN]:"warn",[Xn.ERROR]:"error"},nr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=tr[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class rr{constructor(e){this.name=e,this._logLevel=er,this._logHandler=nr,this._userLogHandler=null,Yn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Zn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xn.DEBUG,...t),this._logHandler(this,Xn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xn.VERBOSE,...t),this._logHandler(this,Xn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xn.INFO,...t),this._logHandler(this,Xn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xn.WARN,...t),this._logHandler(this,Xn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xn.ERROR,...t),this._logHandler(this,Xn.ERROR,...t)}}let ir,sr;const ar=new WeakMap,or=new WeakMap,lr=new WeakMap,cr=new WeakMap,ur=new WeakMap;let dr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return or.get(e);if("objectStoreNames"===t)return e.objectStoreNames||lr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function hr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(sr||(sr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(mr(this),n),pr(ar.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pr(e.apply(mr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(mr(this),t,...r);return lr.set(s,t.sort?t.sort():[t]),pr(s)}}function fr(e){return"function"===typeof e?hr(e):(e instanceof IDBTransaction&&function(e){if(or.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});or.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,ir||(ir=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,dr):e)}function pr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(pr(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&ar.set(t,e)}).catch(()=>{}),ur.set(t,e),t}(e);if(cr.has(e))return cr.get(e);const t=fr(e);return t!==e&&(cr.set(e,t),ur.set(t,e)),t}const mr=e=>ur.get(e);function gr(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=pr(a);return r&&a.addEventListener("upgradeneeded",e=>{r(pr(a.result),e.oldVersion,e.newVersion,pr(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}function yr(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),pr(n).then(()=>{})}const vr=["get","getKey","getAll","getAllKeys","count"],br=["put","add","delete","clear"],wr=new Map;function xr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wr.get(t))return wr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=br.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vr.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return wr.set(t,s),s}dr=(e=>({...e,get:(t,n,r)=>xr(t,n)||e.get(t,n,r),has:(t,n)=>!!xr(t,n)||e.has(t,n)}))(dr);class kr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Sr="@firebase/app",Er="0.14.0",Nr=new rr("@firebase/app"),_r="@firebase/app-compat",Tr="@firebase/analytics-compat",Cr="@firebase/analytics",jr="@firebase/app-check-compat",Ir="@firebase/app-check",Ar="@firebase/auth",Dr="@firebase/auth-compat",Pr="@firebase/database",Rr="@firebase/data-connect",Or="@firebase/database-compat",Mr="@firebase/functions",Lr="@firebase/functions-compat",Fr="@firebase/installations",Vr="@firebase/installations-compat",Ur="@firebase/messaging",zr="@firebase/messaging-compat",$r="@firebase/performance",qr="@firebase/performance-compat",Br="@firebase/remote-config",Hr="@firebase/remote-config-compat",Wr="@firebase/storage",Kr="@firebase/storage-compat",Gr="@firebase/firestore",Qr="@firebase/ai",Jr="@firebase/firestore-compat",Yr="firebase",Xr="[DEFAULT]",Zr={[Sr]:"fire-core",[_r]:"fire-core-compat",[Cr]:"fire-analytics",[Tr]:"fire-analytics-compat",[Ir]:"fire-app-check",[jr]:"fire-app-check-compat",[Ar]:"fire-auth",[Dr]:"fire-auth-compat",[Pr]:"fire-rtdb",[Rr]:"fire-data-connect",[Or]:"fire-rtdb-compat",[Mr]:"fire-fn",[Lr]:"fire-fn-compat",[Fr]:"fire-iid",[Vr]:"fire-iid-compat",[Ur]:"fire-fcm",[zr]:"fire-fcm-compat",[$r]:"fire-perf",[qr]:"fire-perf-compat",[Br]:"fire-rc",[Hr]:"fire-rc-compat",[Wr]:"fire-gcs",[Kr]:"fire-gcs-compat",[Gr]:"fire-fst",[Jr]:"fire-fst-compat",[Qr]:"fire-vertex","fire-js":"fire-js",[Yr]:"fire-js-all"},ei=new Map,ti=new Map,ni=new Map;function ri(e,t){try{e.container.addComponent(t)}catch(ft){Nr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,ft)}}function ii(e){const t=e.name;if(ni.has(t))return Nr.debug(`There were multiple attempts to register component ${t}.`),!1;ni.set(t,e);for(const n of ei.values())ri(n,e);for(const n of ti.values())ri(n,e);return!0}function si(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ai(e){return null!==e&&void 0!==e&&void 0!==e.settings}const oi=new Mn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class li{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const ci="12.0.0";function ui(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r={name:Xr,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!==typeof i||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=wn()),!n)throw oi.create("no-options");const s=ei.get(i);if(s){if(Fn(n,s.options)&&Fn(r,s.config))return s;throw oi.create("duplicate-app",{appName:i})}const a=new Jn(i);for(const l of ni.values())a.addComponent(l);const o=new li(n,r,a);return ei.set(i,o),o}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr;const t=ei.get(e);if(!t&&e===Xr&&wn())return ui();if(!t)throw oi.create("no-app",{appName:e});return t}function hi(e,t,n){let r=Zr[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Nr.warn(e.join(" "))}ii(new Kn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const fi="firebase-heartbeat-store";let pi=null;function mi(){return pi||(pi=gr("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(fi)}catch(ft){console.warn(ft)}}}).catch(e=>{throw oi.create("idb-open",{originalErrorMessage:e.message})})),pi}async function gi(e,t){try{const n=(await mi()).transaction(fi,"readwrite"),r=n.objectStore(fi);await r.put(t,yi(e)),await n.done}catch(ft){if(ft instanceof On)Nr.warn(ft.message);else{const t=oi.create("idb-set",{originalErrorMessage:ft?.message});Nr.warn(t.message)}}}function yi(e){return`${e.name}!${e.options.appId}`}class vi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wi(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=bi();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(ft){Nr.warn(ft)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=bi(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),xi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=mn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(ft){return Nr.warn(ft),""}}}function bi(){return(new Date).toISOString().substring(0,10)}class wi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Dn()&&Pn().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await mi()).transaction(fi),n=await t.objectStore(fi).get(yi(e));return await t.done,n}catch(ft){if(ft instanceof On)Nr.warn(ft.message);else{const t=oi.create("idb-get",{originalErrorMessage:ft?.message});Nr.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return gi(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return gi(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function xi(e){return mn(JSON.stringify({version:2,heartbeats:e})).length}var ki;ki="",ii(new Kn("platform-logger",e=>new kr(e),"PRIVATE")),ii(new Kn("heartbeat",e=>new vi(e),"PRIVATE")),hi(Sr,Er,ki),hi(Sr,Er,"esm2020"),hi("fire-js","");function Si(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ei=Si,Ni=new Mn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_i=new rr("@firebase/auth");function Ti(e){if(_i.logLevel<=Xn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_i.error(`Auth (${ci}): ${e}`,...n)}}function Ci(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pi(e,...n)}function ji(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pi(e,...n)}function Ii(e,t,n){const r={...Ei(),[t]:n};return new Mn("auth","Firebase",r).create(t,{appName:e.name})}function Ai(e){return Ii(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Di(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ci(e,"argument-error"),Ii(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ni.create(e,...n)}function Ri(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Pi(t,...r)}}function Oi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ti(t),new Error(t)}function Mi(e,t){e||Oi(t)}function Li(){return"undefined"!==typeof self&&self.location?.href||""}function Fi(){return"http:"===Vi()||"https:"===Vi()}function Vi(){return"undefined"!==typeof self&&self.location?.protocol||null}class Ui{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fi()||In()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function zi(e,t){Mi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class $i{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bi=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hi=new Ui(3e4,6e4);function Wi(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ki(e,t,n,r){return Gi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Un({key:e.config.apiKey,...s}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:o,...i};return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Sn(e.emulatorConfig.host)&&(l.credentials="include"),$i.fetch()(await Ji(e,e.config.apiHost,n,a),l)})}async function Gi(e,t,n){e._canInitEmulator=!1;const r={...qi,...t};try{const t=new Xi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Zi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Zi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Zi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Zi(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ii(e,o,a);Ci(e,o)}}catch(ft){if(ft instanceof On)throw ft;Ci(e,"network-request-failed",{message:String(ft)})}}async function Qi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ki(e,t,n,r,i);return"mfaPendingCredential"in s&&Ci(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ji(e,t,n,r){const i=`${t}${n}?${r}`,s=e,a=s.config.emulator?zi(e.config,i):`${e.config.apiScheme}://${i}`;if(Bi.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function Yi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ji(this.auth,"network-request-failed")),Hi.get())})}}function Zi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ji(e,t,r);return i.customData._tokenResponse=n,i}function es(e){return void 0!==e&&void 0!==e.enterprise}class ts{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ns(e,t){return Ki(e,"GET","/v2/recaptchaConfig",Wi(e,t))}async function rs(e,t){return Ki(e,"POST","/v1/accounts:lookup",t)}function is(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ft){}}function ss(e){return 1e3*Number(e)}function as(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ti("JWT malformed, contained fewer than 3 sections"),null;try{const e=gn(n);return e?JSON.parse(e):(Ti("Failed to decode base64 JWT payload"),null)}catch(ft){return Ti("Caught error parsing JWT payload as JSON",ft?.toString()),null}}function os(e){const t=as(e);return Ri(t,"internal-error"),Ri("undefined"!==typeof t.exp,"internal-error"),Ri("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ls(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ft){throw ft instanceof On&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(ft)&&e.auth.currentUser===e&&await e.auth.signOut(),ft}}class cs{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ft){return void("auth/network-request-failed"===ft?.code&&this.schedule(!0))}this.schedule()}}class us{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=is(this.lastLoginAt),this.creationTime=is(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ds(e){const t=e.auth,n=await e.getIdToken(),r=await ls(e,rs(t,{idToken:n}));Ri(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?hs(i.providerUserInfo):[],a=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),o=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!a?.length,c=!!o&&l,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new us(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,u)}function hs(e){return e.map(e=>{let{providerId:t,...n}=e;return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ri(e.idToken,"internal-error"),Ri("undefined"!==typeof e.idToken,"internal-error"),Ri("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):os(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ri(0!==e.length,"internal-error");const t=os(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ri(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Gi(e,{},async()=>{const n=Un({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Ji(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&Sn(e.emulatorConfig.host)&&(o.credentials="include"),$i.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new fs;return n&&(Ri("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ri("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ri("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fs,this.toJSON())}_performRefresh(){return Oi("not implemented")}}function ps(e,t){Ri("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ms{constructor(e){let{uid:t,auth:n,stsTokenManager:r,...i}=e;this.providerId="firebase",this.proactiveRefresh=new cs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new us(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ls(this,this.stsTokenManager.getToken(this.auth,e));return Ri(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Wn(e),r=await n.getIdToken(t),i=as(r);Ri(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:is(ss(i.auth_time)),issuedAtTime:is(ss(i.iat)),expirationTime:is(ss(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Wn(e);await ds(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ri(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ri(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ds(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await ls(this,async function(e,t){return Ki(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:p}=t;Ri(u&&p,e,"internal-error");const m=fs.fromJSON(this.name,p);Ri("string"===typeof u,e,"internal-error"),ps(n,e.name),ps(r,e.name),Ri("boolean"===typeof d,e,"internal-error"),Ri("boolean"===typeof h,e,"internal-error"),ps(i,e.name),ps(s,e.name),ps(a,e.name),ps(o,e.name),ps(l,e.name),ps(c,e.name);const g=new ms({uid:u,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:h,photoURL:s,phoneNumber:i,tenantId:a,stsTokenManager:m,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new fs;r.updateFromServerResponse(t);const i=new ms({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ds(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ri(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?hs(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!i?.length,a=new fs;a.updateFromIdToken(n);const o=new ms({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new us(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(o,l),o}}const gs=new Map;function ys(e){Mi(e instanceof Function,"Expected a class definition");let t=gs.get(e);return t?(Mi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gs.set(e,t),t)}class vs{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vs.type="NONE";const bs=vs;function ws(e,t,n){return`firebase:${e}:${t}:${n}`}class xs{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ws(this.userKey,r.apiKey,i),this.fullPersistenceKey=ws("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await rs(this.auth,{idToken:e}).catch(()=>{});return t?ms._fromGetAccountInfoResponse(this.auth,t,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new xs(ys(bs),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ys(bs);const s=ws(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){let n;if("string"===typeof t){const r=await rs(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ms._fromGetAccountInfoResponse(e,r,t)}else n=ms._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch{}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch{}})),new xs(i,e,n)):new xs(i,e,n)}}function ks(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_s(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ss(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cs(t))return"Blackberry";if(js(t))return"Webos";if(Es(t))return"Safari";if((t.includes("chrome/")||Ns(t))&&!t.includes("edge/"))return"Chrome";if(Ts(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function Ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/firefox\//i.test(e)}function Es(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/crios\//i.test(e)}function _s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/iemobile/i.test(e)}function Ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/android/i.test(e)}function Cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/blackberry/i.test(e)}function js(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/webos/i.test(e)}function Is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function As(){return function(){const e=Cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return Is(e)||Ts(e)||js(e)||Cs(e)||/windows phone/i.test(e)||_s(e)}function Ps(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ks(Cn());break;case"Worker":t=`${ks(Cn())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${ci}/${r}`}class Rs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(ft){r(ft)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ft){t.reverse();for(const n of t)try{n()}catch(Jt){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:ft?.message})}}}class Os{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ms{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fs(this),this.idTokenSubscription=new Fs(this),this.beforeStateQueue=new Rs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ni,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ys(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xs.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ft){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await rs(this,{idToken:e}),n=await ms._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ai(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==i||!s?.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(ft){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(ft))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ri(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ft){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ds(e)}catch(ft){if("auth/network-request-failed"!==ft?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(Ai(this));const t=e?Wn(e):null;return t&&Ri(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ri(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ki(e,"GET","/v2/passwordPolicy",Wi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Os(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ki(e,"POST","/v2/accounts:revokeToken",Wi(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ys(e)||this._popupRedirectResolver;Ri(t,this,"argument-error"),this.redirectPersistenceManager=await xs.create(this,[ys(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ri(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ri(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ps(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e){if(_i.logLevel<=Xn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_i.warn(`Auth (${ci}): ${e}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ls(e){return Wn(e)}class Fs{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new qn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Ri(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vs={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Us(e){return Vs.loadJS(e)}function zs(e){return`__${e}${Math.floor(1e6*Math.random())}`}class $s{constructor(){this.enterprise=new qs}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qs{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Bs="NO_RECAPTCHA";class Hs{constructor(e){this.type="recaptcha-enterprise",this.auth=Ls(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;es(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Bs)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new $s).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ns(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new ts(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&es(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Vs.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Us(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ws(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Hs(e);let a;if(i)a=Bs;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ks(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ws(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ws(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const i=await Ws(e,t,n);return r(e,i).catch(async i=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Ws(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ws(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Gs(e){const t=Ls(e),n=await ns(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ts(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Hs(t).verify()}}function Qs(e,t,n){const r=Ls(e);Ri(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=Js(t),{host:a,port:o}=function(e){const t=Js(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ys(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ys(t)}}}(t),l=null===o?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Ri(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ri(Fn(c,r.config.emulator)&&Fn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Sn(a)?(En(`${s}//${a}${l}`),Tn("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Js(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ys(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Xs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function Zs(e,t){return Ki(e,"POST","/v1/accounts:signUp",t)}async function ea(e,t){return Qi(e,"POST","/v1/accounts:signInWithPassword",Wi(e,t))}async function ta(e,t){return Ki(e,"POST","/v1/accounts:sendOobCode",Wi(e,t))}class na extends Xs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new na(e,t,"password")}static _fromEmailAndCode(e,t){return new na(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ks(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ea,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qi(e,"POST","/v1/accounts:signInWithEmailLink",Wi(e,t))}(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ks(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qi(e,"POST","/v1/accounts:signInWithEmailLink",Wi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ra(e,t){return Qi(e,"POST","/v1/accounts:signInWithIdp",Wi(e,t))}class ia extends Xs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...i}=t;if(!n||!r)return null;const s=new ia(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ra(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ra(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Un(t)}return e}}async function sa(e,t){return Ki(e,"POST","/v1/accounts:sendVerificationCode",Wi(e,t))}const aa={USER_NOT_FOUND:"user-not-found"};class oa extends Xs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new oa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new oa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qi(e,"POST","/v1/accounts:signInWithPhoneNumber",Wi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qi(e,"POST","/v1/accounts:signInWithPhoneNumber",Wi(e,t));if(n.temporaryProof)throw Zi(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Qi(e,"POST","/v1/accounts:signInWithPhoneNumber",Wi(e,{...t,operation:"REAUTH"}),aa)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new oa({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class la{constructor(e){const t=zn($n(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);Ri(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=zn($n(e)).link,n=t?zn($n(t)).deep_link_id:null,r=zn($n(e)).deep_link_id;return(r?zn($n(r)).link:null)||r||n||t||e}(e);try{return new la(t)}catch{return null}}}class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,t){return na._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=la.parseLink(t);return Ri(n,"argument-error"),na._fromEmailAndCode(e,n.code,n.tenantId)}}ca.PROVIDER_ID="password",ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ua{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class da extends ua{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ha extends da{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ha.credential(t.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com",ha.PROVIDER_ID="facebook.com";class fa extends da{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return fa.credential(n,r)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com",fa.PROVIDER_ID="google.com";class pa extends da{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pa.credential(t.oauthAccessToken)}catch{return null}}}pa.GITHUB_SIGN_IN_METHOD="github.com",pa.PROVIDER_ID="github.com";class ma extends da{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ma.credential(n,r)}catch{return null}}}async function ga(e,t){return Qi(e,"POST","/v1/accounts:signUp",Wi(e,t))}ma.TWITTER_SIGN_IN_METHOD="twitter.com",ma.PROVIDER_ID="twitter.com";class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ms._fromIdTokenResponse(e,n,r),s=va(n);return new ya({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=va(n);return new ya({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function va(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ba extends On{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ba.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ba(e,t,n,r)}}function wa(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw ba._fromErrorAndOperation(e,n,t,r);throw n})}async function xa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ls(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ya._forOperation(e,"link",r)}async function ka(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(ai(r.app))return Promise.reject(Ai(r));const i="reauthenticate";try{const s=await ls(e,wa(r,i,t,e),n);Ri(s.idToken,r,"internal-error");const a=as(s.idToken);Ri(a,r,"internal-error");const{sub:o}=a;return Ri(e.uid===o,r,"user-mismatch"),ya._forOperation(e,i,s)}catch(ft){throw"auth/user-not-found"===ft?.code&&Ci(r,"user-mismatch"),ft}}async function Sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ai(e.app))return Promise.reject(Ai(e));const r="signIn",i=await wa(e,r,t),s=await ya._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ea(e,t){return Sa(Ls(e),t)}function Na(e,t,n){Ri(n.url?.length>0,e,"invalid-continue-uri"),Ri("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Ri("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ri(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ri(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function _a(e){const t=Ls(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ta(e,t,n){if(ai(e.app))return Promise.reject(Ai(e));const r=Ls(e),i=Ks(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ga,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&_a(e),t}),a=await ya._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}async function Ca(e,t){const n=Wn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Na(n.auth,r,t);const{email:i}=await async function(e,t){return ta(e,t)}(n.auth,r);i!==e.email&&await e.reload()}function ja(e,t){return Ki(e,"POST","/v2/accounts/mfaEnrollment:start",Wi(e,t))}new WeakMap;const Ia="__sak";class Aa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ia,"1"),this.storage.removeItem(Ia),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Da extends Aa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ds(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);As()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Da.type="LOCAL";const Pa=Da;function Ra(e){const t=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Oa(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Ma{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(navigator.cookieEnabled??!0))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Oa(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return e?.value}return Ra(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Oa(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Oa(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Ra(n);const i=setInterval(()=>{const e=Ra(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ma.type="COOKIE";class La extends Aa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}La.type="SESSION";const Fa=La;class Va{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Va(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ua(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Va.receivers=[];class za{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Ua("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function $a(){return window}function qa(){return"undefined"!==typeof $a().WorkerGlobalScope&&"function"===typeof $a().importScripts}const Ba="firebaseLocalStorageDb",Ha="firebaseLocalStorage",Wa="fbase_key";class Ka{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ga(e,t){return e.transaction([Ha],t?"readwrite":"readonly").objectStore(Ha)}function Qa(){const e=indexedDB.open(Ba,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ha,{keyPath:Wa})}catch(ft){n(ft)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ha)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ba);return new Ka(e).toPromise()}(),t(await Qa()))})})}async function Ja(e,t,n){const r=Ga(e,!0).put({[Wa]:t,value:n});return new Ka(r).toPromise()}function Ya(e,t){const n=Ga(e,!0).delete(t);return new Ka(n).toPromise()}class Xa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Qa()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ft){if(t++>3)throw ft;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qa()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Va._getInstance(qa()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new za(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qa();return await Ja(e,Ia,"1"),await Ya(e,Ia),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ja(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ga(e,!1).get(t),r=await new Ka(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ya(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ga(e,!1).getAll();return new Ka(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Xa.type="LOCAL";const Za=Xa;function eo(e,t){return Ki(e,"POST","/v2/accounts/mfaSignIn:start",Wi(e,t))}zs("rcb"),new Ui(3e4,6e4);const to="recaptcha";async function no(e,t,n){if(!e._getRecaptchaConfig())try{await Gs(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){Ri("enroll"===t.type,e,"internal-error");const i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Ks(e,i,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Bs){Ri(n?.type===to,e,"argument-error");return ja(e,await ro(e,t,n))}return ja(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Ri("signin"===t.type,e,"internal-error");const i=r.multiFactorHint?.uid||r.multiFactorUid;Ri(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Ks(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Bs){Ri(n?.type===to,e,"argument-error");return eo(e,await ro(e,t,n))}return eo(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=Ks(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Bs){Ri(n?.type===to,e,"argument-error");return sa(e,await ro(e,t,n))}return sa(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function ro(e,t,n){Ri(n.type===to,e,"argument-error");const r=await n.verify();Ri("string"===typeof r,e,"argument-error");const i={...t};if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class io{constructor(e){this.providerId=io.PROVIDER_ID,this.auth=Ls(e)}verifyPhoneNumber(e,t){return no(this.auth,e,Wn(t))}static credential(e,t){return oa._fromVerification(e,t)}static credentialFromResult(e){const t=e;return io.credentialFromTaggedObject(t)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?oa._fromTokenResponse(n,r):null}}function so(e,t){return t?ys(t):(Ri(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}io.PROVIDER_ID="phone",io.PHONE_SIGN_IN_METHOD="phone";class ao extends Xs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oo(e){return Sa(e.auth,new ao(e),e.bypassAuthState)}function lo(e){const{auth:t,user:n}=e;return Ri(n,t,"internal-error"),ka(n,new ao(e),e.bypassAuthState)}async function co(e){const{auth:t,user:n}=e;return Ri(n,t,"internal-error"),xa(n,new ao(e),e.bypassAuthState)}class uo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ft){this.reject(ft)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(ft){this.reject(ft)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oo;case"linkViaPopup":case"linkViaRedirect":return co;case"reauthViaPopup":case"reauthViaRedirect":return lo;default:Ci(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ho=new Ui(2e3,1e4);class fo extends uo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ri(e,this.auth,"internal-error"),e}async onExecution(){Mi(1===this.filter.length,"Popup operations only handle one event");const e=Ua();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ho.get())};e()}}fo.currentPopupAction=null;const po=new Map;class mo extends uo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=po.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=vo(t),r=yo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ft){e=()=>Promise.reject(ft)}po.set(this.auth._key(),e)}return this.bypassAuthState||po.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function go(e,t){po.set(e._key(),t)}function yo(e){return ys(e._redirectPersistence)}function vo(e){return ws("pendingRedirect",e.config.apiKey,e.name)}async function bo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ai(e.app))return Promise.reject(Ai(e));const r=Ls(e),i=so(r,t),s=new mo(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class wo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ko(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ko(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ji(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xo(e))}saveEventToCache(e){this.cachedEventUids.add(xo(e)),this.lastProcessedEventTime=Date.now()}}function xo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ko(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===n?.code}const So=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eo=/^https?/;async function No(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ki(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(_o(n))return}catch{}Ci(e,"unauthorized-domain")}function _o(e){const t=Li(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Eo.test(n))return!1;if(So.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const To=new Ui(3e4,6e4);function Co(){const e=$a().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function jo(e){return new Promise((t,n)=>{function r(){Co(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Co(),n(ji(e,"network-request-failed"))},timeout:To.get()})}if($a().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!$a().gapi?.load){const t=zs("iframefcb");return $a()[t]=()=>{gapi.load?r():n(ji(e,"network-request-failed"))},Us(`${Vs.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw Io=null,e})}let Io=null;const Ao=new Ui(5e3,15e3),Do={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Po=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ro(e){const t=e.config;Ri(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zi(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:ci},i=Po.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Un(r).slice(1)}`}async function Oo(e){const t=await function(e){return Io=Io||jo(e),Io}(e),n=$a().gapi;return Ri(n,e,"internal-error"),t.open({where:document.body,url:Ro(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Do,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ji(e,"network-request-failed"),s=$a().setTimeout(()=>{r(i)},Ao.get());function a(){$a().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Mo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Lo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ft){}}}function Fo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Mo,width:r.toString(),height:i.toString(),top:s,left:a},c=Cn().toLowerCase();n&&(o=Ns(c)?"_blank":n),Ss(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){return Is(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn())&&!!window.navigator?.standalone}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Lo(null);const d=window.open(t||"",o,u);Ri(d,e,"popup-blocked");try{d.focus()}catch(ft){}return new Lo(d)}const Vo="__/auth/handler",Uo="emulator/auth/handler",zo=encodeURIComponent("fac");async function $o(e,t,n,r,i,s){Ri(e.config.authDomain,e,"auth-domain-config-required"),Ri(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ci,eventId:i};if(t instanceof ua){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof da){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${zo}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Vo}`;return zi(t,Uo)}(e)}?${Un(o).slice(1)}${c}`}const qo="webStorageSupport";const Bo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fa,this._completeRedirectFn=bo,this._overrideRedirectResult=go}async _openPopup(e,t,n,r){Mi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return Fo(e,await $o(e,t,n,Li(),r),Ua())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){$a().location.href=e}(await $o(e,t,n,Li(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Mi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Oo(e),n=new wo(e);return t.register("authEvent",t=>{Ri(t?.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qo,{type:qo},n=>{const r=n?.[0]?.[qo];void 0!==r&&t(!!r),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=No(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ds()||Es()||Is()}};var Ho="@firebase/auth",Wo="1.11.0";class Ko{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ri(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Go=xn("authIdTokenMaxAge")||300;let Qo=null;var Jo;!function(e){Vs=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ji("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Jo="Browser",ii(new Kn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Ri(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Jo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ps(Jo)},c=new Ms(r,i,s,l);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ii(new Kn("auth-internal",e=>(e=>new Ko(e))(Ls(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),hi(Ho,Wo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Jo)),hi(Ho,Wo,"esm2020");var Yo,Xo,Zo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},el={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Xo=el.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Yo=el.Integer=r}).apply("undefined"!==typeof Zo?Zo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var tl,nl,rl,il,sl,al,ol,ll,cl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ul={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof cl&&cl];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function E(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _,e=>e.reset());class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=N.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(bt){S(bt)}var t=N;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function D(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(bt){}return e}();function O(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(Et){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,P);var M={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=q(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new V(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var B="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[B]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])$(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?($(n,e),0==n.h&&(n.src=null,t[B]=null)):U(e)}}}function Y(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[B])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;x(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&$(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&J(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var we={},xe=null;function ke(){return xe=xe||new ne}function Se(e){P.call(this,we.La,e)}function Ee(e){const t=ke();re(t,new Se(t))}function Ne(e,t){P.call(this,we.STAT_EVENT,e),this.stat=t}function _e(e){const t=ke();re(t,new Ne(t,e))}function Te(e,t){P.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function je(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Se,P),we.STAT_EVENT="statevent",d(Ne,P),we.Ma="timingevent",d(Te,P),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Ae,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ae=new Re;var Le={},Fe={};function Ve(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=vn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function $e(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,Be(e,e.I)}function Be(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||fn(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(mt){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),_e(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(mt){}n.ca=void 0}}else mn(n,11)}else if((e.K||n.g==e)&&hn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=yn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),qe(o)),r.g=a}else ln(r);0<n.i.length&&rn(n)}else"stop"!=c[0]&&"close"!=c[0]||mn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?mn(n,7):en(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(mt){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Jt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Jt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Yt(this.g)))){this.J||4!=h||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Yt(this.g);e="";var s=r.length,a=4==Jt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,_e(12),Ke(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=$e(this,o),e==Fe){4==h&&(this.s=4,_e(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,_e(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,_e(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),un(d),d.M=!0,_e(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),We(this)}else Ie(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?fn(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Jt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),Ke(this),We(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),_e(17)),Ke(this),this.s=2,We(this)):Be(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),It(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,kt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,vt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,vt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?xt:wt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,Nt)),e.join("")};var vt=/[#\/\?@]/g,wt=/[#\?:]/g,xt=/[#\?]/g,kt=/[#\?@]/g,Nt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ct(e,t){Tt(e),t=At(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return Tt(e),t=At(e,t),e.g.has(t)}function It(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(At(e,t),h(n)),e.h+=n.length)}function At(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Dt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Et){}}function Pt(){this.g=new fe}function Rt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(ft){throw t.push(r+"type="+encodeURIComponent("_badmap")),ft}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function Mt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Lt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ft(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Vt(e)}function Vt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ut(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function zt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ut(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function $t(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Tt(this),this.i=null,e=At(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Tt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Tt(this);let t=[];if("string"===typeof e)jt(this,e)&&(t=t.concat(this.g.get(At(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Tt(this),this.i=null,jt(this,e=At(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Ot,pe),Ot.prototype.g=function(){return new Mt(this.l,this.j)},Ot.prototype.i=function(e){return function(){return e}}({}),d(Mt,ne),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Vt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ft(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ft(this):Vt(this),3==this.readyState&&Lt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ft(this))},e.Qa=function(e){this.g&&(this.response=e,Ft(this))},e.ga=function(){this.g&&Ft(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d($t,ne);var qt=/^https?$/i,Bt=["POST","PUT"];function Ht(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Wt(e),Gt(e)}function Wt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Kt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Jt(e)||2!=e.Z()))if(e.u&&4==Jt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Jt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!qt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Jt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Wt(e)}}finally{Gt(e)}}}function Gt(e,t){if(e.g){Qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(ft){}}}function Qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Jt(e){return e.g?e.g.readyState:0}function Yt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xt("baseRetryDelayMs",5e3,e),this.cb=Xt("retryDelaySeedMs",1e4,e),this.Wa=Xt("forwardChannelMaxRetries",2,e),this.wa=Xt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new Pt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function en(e){if(nn(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),an(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(St){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=vn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.u&&(i.clearTimeout(e.u),e.u=null),hn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function rn(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||I(),C||(T(),C=!0),j.add(t,e),e.B=0}}function sn(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),an(e,r),e.m&&e.o&&zt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=on(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function an(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function on(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Rt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function ln(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||I(),C||(T(),C=!0),j.add(t,e),e.v=0}}function cn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),pn(e,e.v)),e.v++,!0)}function un(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function dn(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),an(e,t),e.m&&e.o&&zt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function hn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function fn(e,t){var n=null;if(e.g==t){hn(e),un(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new Te(r,n)),rn(e)}else ln(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),pn(e,e.B)),e.B++,!0))}(e,t)||2==r&&cn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function pn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new je;if(i.Image){const r=new Image;r.onload=u(Dt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Dt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Dt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Dt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout(()=>{n.abort(),Dt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Dt(0,0,!0,t):Dt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Dt(0,0,!1,t)})}(r.toString(),n)}else _e(2);e.G=0,e.l&&e.l.sa(t),gn(e),nn(e)}function gn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function yn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),an(e,r),r}function vn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new $t(new Ot({eb:n})):new $t(e.pa)).Ha(e.J),t}function bn(){}function wn(){}function xn(e,t){ne.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new En(this)}function kn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){be.call(this),this.status=1}function En(e){this.g=e}(e=$t.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Et){return void Ht(this,Et)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Et){Ht(this,Et)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Gt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gt(this,!0)),$t.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Kt(this):this.bb())},e.bb=function(){Kt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=yn(this,null,this.W),rn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),an(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ut(s)))+"&"+t:this.m&&zt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?sn(this,e):0==this.i.length||Ye(this.h)||sn(this))},e.Fa=function(){if(this.u=null,dn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),tn(this),dn(this))},e.Za=function(){null!=this.C&&(this.C=null,tn(this),cn(this),_e(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},wn.prototype.g=function(e,t){return new xn(e,t)},d(xn,ne),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){en(this.g)},xn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&rn(t)},xn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,xn.aa.N.call(this)},d(kn,ve),d(Sn,be),d(En,bn),En.prototype.ua=function(){re(this.g,"a")},En.prototype.ta=function(e){re(this.g,new kn(e))},En.prototype.sa=function(e){re(this.g,new Sn)},En.prototype.ra=function(){re(this.g,"b")},wn.prototype.createWebChannel=wn.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,ll=ul.createWebChannelTransport=function(){return new wn},ol=ul.getStatEventTarget=function(){return ke()},al=ul.Event=we,sl=ul.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,il=ul.ErrorCode=De,Pe.COMPLETE="complete",rl=ul.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,nl=ul.WebChannel=ge,ul.FetchXmlHttpFactory=Ot,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,tl=ul.XhrIo=$t}).apply("undefined"!==typeof cl?cl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const dl="@firebase/firestore",hl="4.9.0";class fl{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fl.UNAUTHENTICATED=new fl(null),fl.GOOGLE_CREDENTIALS=new fl("google-credentials-uid"),fl.FIRST_PARTY=new fl("first-party-uid"),fl.MOCK_USER=new fl("mock-user");let pl="12.0.0";const ml=new rr("@firebase/firestore");function gl(){return ml.logLevel}function yl(e){if(ml.logLevel<=Xn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(wl);ml.debug(`Firestore (${pl}): ${e}`,...i)}}function vl(e){if(ml.logLevel<=Xn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(wl);ml.error(`Firestore (${pl}): ${e}`,...i)}}function bl(e){if(ml.logLevel<=Xn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(wl);ml.warn(`Firestore (${pl}): ${e}`,...i)}}function wl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(pt){return e}}function xl(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,kl(e,r,n)}function kl(e,t,n){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw vl(r),new Error(r)}function Sl(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||kl(t,i,r)}function El(e,t){return e}const Nl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _l extends On{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fl.UNAUTHENTICATED))}shutdown(){}}class Il{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Al{constructor(e){this.t=e,this.currentUser=fl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Sl(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Tl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Tl,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{yl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(yl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Tl)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(yl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Sl("string"==typeof t.accessToken,31837,{l:t}),new Cl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sl(null===e||"string"==typeof e,2055,{h:e}),new fl(e)}}class Dl{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=fl.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Pl{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Dl(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ol{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Sl(void 0===this.o,3512);const n=e=>{null!=e.error&&yl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,yl("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{yl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):yl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rl(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Sl("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Rl(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ml(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ll{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ml(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Fl(e,t){return e<t?-1:e>t?1:0}function Vl(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return $l(n)===$l(i)?Fl(n,i):$l(n)?1:-1}return Fl(e.length,t.length)}const Ul=55296,zl=57343;function $l(e){const t=e.charCodeAt(0);return t>=Ul&&t<=zl}function ql(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Bl="__name__";class Hl{constructor(e,t,n){void 0===t?t=0:t>e.length&&xl(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&xl(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Hl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Hl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Fl(e.length,t.length)}static compareSegments(e,t){const n=Hl.isNumericId(e),r=Hl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Hl.extractNumericId(e).compare(Hl.extractNumericId(t)):Vl(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yo.fromString(e.substring(4,e.length-2))}}class Wl extends Hl{construct(e,t,n){return new Wl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new _l(Nl.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new Wl(e)}static emptyPath(){return new Wl([])}}const Kl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gl extends Hl{construct(e,t,n){return new Gl(e,t,n)}static isValidIdentifier(e){return Kl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Bl}static keyField(){return new Gl([Bl])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _l(Nl.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _l(Nl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _l(Nl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new _l(Nl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gl(t)}static emptyPath(){return new Gl([])}}class Ql{constructor(e){this.path=e}static fromPath(e){return new Ql(Wl.fromString(e))}static fromName(e){return new Ql(Wl.fromString(e).popFirst(5))}static empty(){return new Ql(Wl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ql(new Wl(e.slice()))}}function Jl(e,t,n){if(!n)throw new _l(Nl.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Yl(e){if(!Ql.isDocumentKey(e))throw new _l(Nl.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Xl(e){if(Ql.isDocumentKey(e))throw new _l(Nl.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Zl(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ec(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":xl(12329,{type:typeof e})}function tc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _l(Nl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ec(e);throw new _l(Nl.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function nc(e,t){const n={typeString:e};return t&&(n.value=t),n}function rc(e,t){if(!Zl(e))throw new _l(Nl.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new _l(Nl.INVALID_ARGUMENT,n);return!0}const ic=-62135596800,sc=1e6;class ac{static now(){return ac.fromMillis(Date.now())}static fromDate(e){return ac.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*sc);return new ac(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _l(Nl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _l(Nl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ic)throw new _l(Nl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _l(Nl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sc}_compareTo(e){return this.seconds===e.seconds?Fl(this.nanoseconds,e.nanoseconds):Fl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ac._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rc(e,ac._jsonSchema))return new ac(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ic;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ac._jsonSchemaVersion="firestore/timestamp/1.0",ac._jsonSchema={type:nc("string",ac._jsonSchemaVersion),seconds:nc("number"),nanoseconds:nc("number")};class oc{static fromTimestamp(e){return new oc(e)}static min(){return new oc(new ac(0,0))}static max(){return new oc(new ac(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lc=-1;class cc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}cc.UNKNOWN_ID=-1;function uc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=oc.fromTimestamp(1e9===r?new ac(n+1,0):new ac(n,r));return new hc(i,Ql.empty(),t)}function dc(e){return new hc(e.readTime,e.key,lc)}class hc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new hc(oc.min(),Ql.empty(),lc)}static max(){return new hc(oc.max(),Ql.empty(),lc)}}function fc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ql.comparator(e.documentKey,t.documentKey),0!==n?n:Fl(e.largestBatchId,t.largestBatchId))}const pc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function gc(e){if(e.code!==Nl.FAILED_PRECONDITION||e.message!==pc)throw e;yl("LocalStore","Unexpectedly lost primary lease")}class yc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xl(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new yc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof yc?t:yc.resolve(t)}catch(e){return yc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):yc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):yc.reject(t)}static resolve(e){return new yc((t,n)=>{t(e)})}static reject(e){return new yc((t,n)=>{n(e)})}static waitFor(e){return new yc((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=yc.resolve(!1);for(const n of e)t=t.next(e=>e?yc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new yc((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new yc((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function vc(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bc(e){return"IndexedDbTransactionError"===e.name}class wc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wc.ce=-1;const xc=-1;function kc(e){return null==e}function Sc(e){return 0===e&&1/e==-1/0}function Ec(e){return"number"==typeof e&&Number.isInteger(e)&&!Sc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Nc="\x01";function _c(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Cc(t)),t=Tc(e.get(n),t);return Cc(t)}function Tc(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Nc:n+="\x01\x11";break;default:n+=t}}return n}function Cc(e){return e+Nc+"\x01"}const jc="remoteDocuments",Ic="owner",Ac="mutationQueues",Dc="mutations";const Pc="documentMutations",Rc="remoteDocumentsV14",Oc="remoteDocumentGlobal",Mc="targets",Lc="targetDocuments",Fc="targetGlobal",Vc="collectionParents",Uc="clientMetadata",zc="bundles",$c="namedQueries",qc="indexConfiguration",Bc="indexState",Hc="indexEntries",Wc="documentOverlays",Kc="globals",Gc=[Ac,Dc,Pc,jc,Mc,Ic,Fc,Lc,Uc,Oc,Vc,zc,$c],Qc=[Ac,Dc,Pc,Rc,Mc,Ic,Fc,Lc,Uc,Oc,Vc,zc,$c,Wc],Jc=Qc,Yc=[...Jc,qc,Bc,Hc];function Xc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eu(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function tu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class nu{constructor(e,t){this.comparator=e,this.root=t||iu.EMPTY}insert(e,t){return new nu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,iu.BLACK,null,null))}remove(e){return new nu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,iu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class iu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:iu.RED,this.left=null!=r?r:iu.EMPTY,this.right=null!=i?i:iu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new iu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return iu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return iu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,iu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,iu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xl(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xl(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xl(27949);return e+(this.isRed()?0:1)}}iu.EMPTY=null,iu.RED=!0,iu.BLACK=!1,iu.EMPTY=new class{constructor(){this.size=0}get key(){throw xl(57766)}get value(){throw xl(16141)}get color(){throw xl(16727)}get left(){throw xl(29726)}get right(){throw xl(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new iu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class su{constructor(e){this.comparator=e,this.data=new nu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new au(this.data.getIterator())}getIteratorFrom(e){return new au(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof su))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new su(this.comparator);return t.data=e,t}}class au{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ou{constructor(e){this.fields=e,e.sort(Gl.comparator)}static empty(){return new ou([])}unionWith(e){let t=new su(Gl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ou(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class lu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new lu("Invalid base64 string: "+e):e}}(e);return new cu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new cu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cu.EMPTY_BYTE_STRING=new cu("");const uu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function du(e){if(Sl(!!e,39018),"string"==typeof e){let t=0;const n=uu.exec(e);if(Sl(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:hu(e.seconds),nanos:hu(e.nanos)}}function hu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fu(e){return"string"==typeof e?cu.fromBase64String(e):cu.fromUint8Array(e)}const pu="server_timestamp",mu="__type__",gu="__previous_value__",yu="__local_write_time__";function vu(e){const t=(e?.mapValue?.fields||{})[mu]?.stringValue;return t===pu}function bu(e){const t=e.mapValue.fields[gu];return vu(t)?bu(t):t}function wu(e){const t=du(e.mapValue.fields[yu].timestampValue);return new ac(t.seconds,t.nanos)}class xu{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const ku="(default)";class Su{constructor(e,t){this.projectId=e,this.database=t||ku}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===ku}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}const Eu="__type__",Nu="__max__",_u={mapValue:{fields:{__type__:{stringValue:Nu}}}},Tu="__vector__",Cu="value";function ju(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vu(e)?4:Wu(e)?9007199254740991:Bu(e)?10:11:xl(28295,{value:e})}function Iu(e,t){if(e===t)return!0;const n=ju(e);if(n!==ju(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wu(e).isEqual(wu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=du(e.timestampValue),r=du(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fu(e.bytesValue).isEqual(fu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hu(e.geoPointValue.latitude)===hu(t.geoPointValue.latitude)&&hu(e.geoPointValue.longitude)===hu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hu(e.integerValue)===hu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=hu(e.doubleValue),r=hu(t.doubleValue);return n===r?Sc(n)===Sc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ql(e.arrayValue.values||[],t.arrayValue.values||[],Iu);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xc(n)!==Xc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Iu(n[i],r[i])))return!1;return!0}(e,t);default:return xl(52216,{left:e})}}function Au(e,t){return void 0!==(e.values||[]).find(e=>Iu(e,t))}function Du(e,t){if(e===t)return 0;const n=ju(e),r=ju(t);if(n!==r)return Fl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=hu(e.integerValue||e.doubleValue),r=hu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pu(e.timestampValue,t.timestampValue);case 4:return Pu(wu(e),wu(t));case 5:return Vl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=fu(e),r=fu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Fl(n[i],r[i]);if(0!==e)return e}return Fl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Fl(hu(e.latitude),hu(t.latitude));return 0!==n?n:Fl(hu(e.longitude),hu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ru(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},i=n[Cu]?.arrayValue,s=r[Cu]?.arrayValue,a=Fl(i?.values?.length||0,s?.values?.length||0);return 0!==a?a:Ru(i,s)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_u.mapValue&&t===_u.mapValue)return 0;if(e===_u.mapValue)return 1;if(t===_u.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Vl(r[a],s[a]);if(0!==e)return e;const t=Du(n[r[a]],i[s[a]]);if(0!==t)return t}return Fl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw xl(23264,{he:n})}}function Pu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fl(e,t);const n=du(e),r=du(t),i=Fl(n.seconds,r.seconds);return 0!==i?i:Fl(n.nanos,r.nanos)}function Ru(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Du(n[i],r[i]);if(e)return e}return Fl(n.length,r.length)}function Ou(e){return Mu(e)}function Mu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=du(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return fu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ql.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Mu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Mu(e.fields[i])}`;return n+"}"}(e.mapValue):xl(61005,{value:e})}function Lu(e){switch(ju(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bu(e);return t?16+Lu(t):16;case 5:return 2*e.stringValue.length;case 6:return fu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Lu(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Zc(e.fields,(e,n)=>{t+=e.length+Lu(n)}),t}(e.mapValue);default:throw xl(13486,{value:e})}}function Fu(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Vu(e){return!!e&&"integerValue"in e}function Uu(e){return!!e&&"arrayValue"in e}function zu(e){return!!e&&"nullValue"in e}function $u(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qu(e){return!!e&&"mapValue"in e}function Bu(e){const t=(e?.mapValue?.fields||{})[Eu]?.stringValue;return t===Tu}function Hu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Zc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Hu(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hu(e.arrayValue.values[n]);return t}return{...e}}function Wu(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Nu}class Ku{constructor(e){this.value=e}static empty(){return new Ku({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(t)}setAll(e){let t=Gl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Hu(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Iu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];qu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Zc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ku(Hu(this.value))}}function Gu(e){const t=[];return Zc(e.fields,(e,n)=>{const r=new Gl([e]);if(qu(n)){const e=Gu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ou(t)}class Qu{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Qu(e,0,oc.min(),oc.min(),oc.min(),Ku.empty(),0)}static newFoundDocument(e,t,n,r){return new Qu(e,1,t,oc.min(),n,r,0)}static newNoDocument(e,t){return new Qu(e,2,t,oc.min(),oc.min(),Ku.empty(),0)}static newUnknownDocument(e,t){return new Qu(e,3,t,oc.min(),oc.min(),Ku.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ku.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ku.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ju{constructor(e,t){this.position=e,this.inclusive=t}}function Yu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Ql.comparator(Ql.fromName(a.referenceValue),n.key):Du(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Xu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Iu(e.position[n],t.position[n]))return!1;return!0}class Zu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ed(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class td{}class nd extends td{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ud(e,t,n):"array-contains"===t?new pd(e,n):"in"===t?new md(e,n):"not-in"===t?new gd(e,n):"array-contains-any"===t?new yd(e,n):new nd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new dd(e,n):new hd(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Du(t,this.value)):null!==t&&ju(this.value)===ju(t)&&this.matchesComparison(Du(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xl(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rd extends td{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new rd(e,t)}matches(e){return id(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function id(e){return"and"===e.op}function sd(e){return ad(e)&&id(e)}function ad(e){for(const t of e.filters)if(t instanceof rd)return!1;return!0}function od(e){if(e instanceof nd)return e.field.canonicalString()+e.op.toString()+Ou(e.value);if(sd(e))return e.filters.map(e=>od(e)).join(",");{const t=e.filters.map(e=>od(e)).join(",");return`${e.op}(${t})`}}function ld(e,t){return e instanceof nd?function(e,t){return t instanceof nd&&e.op===t.op&&e.field.isEqual(t.field)&&Iu(e.value,t.value)}(e,t):e instanceof rd?function(e,t){return t instanceof rd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ld(n,t.filters[r]),!0)}(e,t):void xl(19439)}function cd(e){return e instanceof nd?function(e){return`${e.field.canonicalString()} ${e.op} ${Ou(e.value)}`}(e):e instanceof rd?function(e){return e.op.toString()+" {"+e.getFilters().map(cd).join(" ,")+"}"}(e):"Filter"}class ud extends nd{constructor(e,t,n){super(e,t,n),this.key=Ql.fromName(n.referenceValue)}matches(e){const t=Ql.comparator(e.key,this.key);return this.matchesComparison(t)}}class dd extends nd{constructor(e,t){super(e,"in",t),this.keys=fd("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hd extends nd{constructor(e,t){super(e,"not-in",t),this.keys=fd("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fd(e,t){return(t.arrayValue?.values||[]).map(e=>Ql.fromName(e.referenceValue))}class pd extends nd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uu(t)&&Au(t.arrayValue,this.value)}}class md extends nd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Au(this.value.arrayValue,t)}}class gd extends nd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Au(this.value.arrayValue,t)}}class yd extends nd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Au(this.value.arrayValue,e))}}class vd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function bd(e){return new vd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function wd(e){const t=El(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>od(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),kc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ou(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ou(e)).join(",")),t.Te=e}return t.Te}function xd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ed(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ld(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xu(e.startAt,t.startAt)&&Xu(e.endAt,t.endAt)}function kd(e){return Ql.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Sd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ed(e,t,n,r,i,s,a,o){return new Sd(e,t,n,r,i,s,a,o)}function Nd(e){return new Sd(e)}function _d(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Td(e){return null!==e.collectionGroup}function Cd(e){const t=El(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new su(Gl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Zu(r,n))}),e.has(Gl.keyField().canonicalString())||t.Ie.push(new Zu(Gl.keyField(),n))}return t.Ie}function jd(e){const t=El(e);return t.Ee||(t.Ee=Ad(t,Cd(e))),t.Ee}function Id(e){const t=El(e);return t.de||(t.de=Ad(t,e.explicitOrderBy)),t.de}function Ad(e,t){if("F"===e.limitType)return bd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Zu(e.field,t)});const n=e.endAt?new Ju(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ju(e.startAt.position,e.startAt.inclusive):null;return bd(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Dd(e,t){const n=e.filters.concat([t]);return new Sd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Pd(e,t,n){return new Sd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rd(e,t){return xd(jd(e),jd(t))&&e.limitType===t.limitType}function Od(e){return`${wd(jd(e))}|lt:${e.limitType}`}function Md(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>cd(e)).join(", ")}]`),kc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ou(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ou(e)).join(",")),`Target(${t})`}(jd(e))}; limitType=${e.limitType})`}function Ld(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ql.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Cd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Yu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cd(e),t))&&!(e.endAt&&!function(e,t,n){const r=Yu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cd(e),t))}(e,t)}function Fd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Vd(e){return(t,n)=>{let r=!1;for(const i of Cd(e)){const e=Ud(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ud(e,t,n){const r=e.field.isKeyField()?Ql.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Du(r,i):xl(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xl(19790,{direction:e.dir})}}class zd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return tu(this.inner)}size(){return this.innerSize}}const $d=new nu(Ql.comparator);function qd(){return $d}const Bd=new nu(Ql.comparator);function Hd(){let e=Bd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Wd(e){let t=Bd;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Kd(){return Qd()}function Gd(){return Qd()}function Qd(){return new zd(e=>e.toString(),(e,t)=>e.isEqual(t))}const Jd=new nu(Ql.comparator),Yd=new su(Ql.comparator);function Xd(){let e=Yd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Zd=new su(Fl);function eh(){return Zd}function th(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(t)?"-0":t}}function nh(e){return{integerValue:""+e}}function rh(e,t){return Ec(t)?nh(t):th(e,t)}class ih{constructor(){this._=void 0}}function sh(e,t,n){return e instanceof lh?function(e,t){const n={fields:{[mu]:{stringValue:pu},[yu]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vu(t)&&(t=bu(t)),t&&(n.fields[gu]=t),{mapValue:n}}(n,t):e instanceof ch?uh(e,t):e instanceof dh?hh(e,t):function(e,t){const n=oh(e,t),r=ph(n)+ph(e.Ae);return Vu(n)&&Vu(e.Ae)?nh(r):th(e.serializer,r)}(e,t)}function ah(e,t,n){return e instanceof ch?uh(e,t):e instanceof dh?hh(e,t):n}function oh(e,t){return e instanceof fh?function(e){return Vu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class lh extends ih{}class ch extends ih{constructor(e){super(),this.elements=e}}function uh(e,t){const n=mh(t);for(const r of e.elements)n.some(e=>Iu(e,r))||n.push(r);return{arrayValue:{values:n}}}class dh extends ih{constructor(e){super(),this.elements=e}}function hh(e,t){let n=mh(t);for(const r of e.elements)n=n.filter(e=>!Iu(e,r));return{arrayValue:{values:n}}}class fh extends ih{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ph(e){return hu(e.integerValue||e.doubleValue)}function mh(e){return Uu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gh{constructor(e,t){this.field=e,this.transform=t}}class yh{constructor(e,t){this.version=e,this.transformResults=t}}class vh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vh}static exists(e){return new vh(void 0,e)}static updateTime(e){return new vh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class wh{}function xh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ah(e.key,vh.none()):new _h(e.key,e.data,vh.none());{const n=e.data,r=Ku.empty();let i=new su(Gl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Th(e.key,r,new ou(i.toArray()),vh.none())}}function kh(e,t,n){e instanceof _h?function(e,t,n){const r=e.value.clone(),i=jh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Th?function(e,t,n){if(!bh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=jh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ch(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sh(e,t,n,r){return e instanceof _h?function(e,t,n,r){if(!bh(e.precondition,t))return n;const i=e.value.clone(),s=Ih(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Th?function(e,t,n,r){if(!bh(e.precondition,t))return n;const i=Ih(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ch(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return bh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Eh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=oh(r.transform,e||null);null!=i&&(null===n&&(n=Ku.empty()),n.set(r.field,i))}return n||null}function Nh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ql(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ch&&t instanceof ch||e instanceof dh&&t instanceof dh?ql(e.elements,t.elements,Iu):e instanceof fh&&t instanceof fh?Iu(e.Ae,t.Ae):e instanceof lh&&t instanceof lh}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _h extends wh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Th extends wh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ch(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function jh(e,t,n){const r=new Map;Sl(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,ah(a,o,n[i]))}return r}function Ih(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,sh(e,s,t))}return r}class Ah extends wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dh extends wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ph{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&kh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Sh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Sh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Gd();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=xh(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(oc.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xd())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(e,t)=>Nh(e,t))&&ql(this.baseMutations,e.baseMutations,(e,t)=>Nh(e,t))}}class Rh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Sl(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Jd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Rh(e,t,n,r)}}class Oh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mh{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Lh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fh,Vh;function Uh(e){switch(e){case Nl.OK:return xl(64938);case Nl.CANCELLED:case Nl.UNKNOWN:case Nl.DEADLINE_EXCEEDED:case Nl.RESOURCE_EXHAUSTED:case Nl.INTERNAL:case Nl.UNAVAILABLE:case Nl.UNAUTHENTICATED:return!1;case Nl.INVALID_ARGUMENT:case Nl.NOT_FOUND:case Nl.ALREADY_EXISTS:case Nl.PERMISSION_DENIED:case Nl.FAILED_PRECONDITION:case Nl.ABORTED:case Nl.OUT_OF_RANGE:case Nl.UNIMPLEMENTED:case Nl.DATA_LOSS:return!0;default:return xl(15467,{code:e})}}function zh(e){if(void 0===e)return vl("GRPC error has no .code"),Nl.UNKNOWN;switch(e){case Fh.OK:return Nl.OK;case Fh.CANCELLED:return Nl.CANCELLED;case Fh.UNKNOWN:return Nl.UNKNOWN;case Fh.DEADLINE_EXCEEDED:return Nl.DEADLINE_EXCEEDED;case Fh.RESOURCE_EXHAUSTED:return Nl.RESOURCE_EXHAUSTED;case Fh.INTERNAL:return Nl.INTERNAL;case Fh.UNAVAILABLE:return Nl.UNAVAILABLE;case Fh.UNAUTHENTICATED:return Nl.UNAUTHENTICATED;case Fh.INVALID_ARGUMENT:return Nl.INVALID_ARGUMENT;case Fh.NOT_FOUND:return Nl.NOT_FOUND;case Fh.ALREADY_EXISTS:return Nl.ALREADY_EXISTS;case Fh.PERMISSION_DENIED:return Nl.PERMISSION_DENIED;case Fh.FAILED_PRECONDITION:return Nl.FAILED_PRECONDITION;case Fh.ABORTED:return Nl.ABORTED;case Fh.OUT_OF_RANGE:return Nl.OUT_OF_RANGE;case Fh.UNIMPLEMENTED:return Nl.UNIMPLEMENTED;case Fh.DATA_LOSS:return Nl.DATA_LOSS;default:return xl(39323,{code:e})}}(Vh=Fh||(Fh={}))[Vh.OK=0]="OK",Vh[Vh.CANCELLED=1]="CANCELLED",Vh[Vh.UNKNOWN=2]="UNKNOWN",Vh[Vh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vh[Vh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vh[Vh.NOT_FOUND=5]="NOT_FOUND",Vh[Vh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vh[Vh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vh[Vh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vh[Vh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vh[Vh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vh[Vh.ABORTED=10]="ABORTED",Vh[Vh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vh[Vh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vh[Vh.INTERNAL=13]="INTERNAL",Vh[Vh.UNAVAILABLE=14]="UNAVAILABLE",Vh[Vh.DATA_LOSS=15]="DATA_LOSS";let $h=null;function qh(){return new TextEncoder}const Bh=new Yo([4294967295,4294967295],0);function Hh(e){const t=qh().encode(e),n=new Xo;return n.update(t),new Uint8Array(n.digest())}function Wh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,s],0)]}class Kh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gh(`Invalid padding: ${t}`);if(n<0)throw new Gh(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Gh(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Gh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Yo.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Yo.fromNumber(n)));return 1===r.compare(Bh)&&(r=new Yo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Hh(e),[n,r]=Wh(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Kh(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=Hh(e),[n,r]=Wh(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Jh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Qh(oc.min(),r,new nu(Fl),qd(),Xd())}}class Jh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Jh(n,t,Xd(),Xd(),Xd())}}class Yh{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Xh{constructor(e,t){this.targetId=e,this.Ce=t}}class Zh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ef{constructor(){this.ve=0,this.Fe=rf(),this.Me=cu.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xd(),t=Xd(),n=Xd();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xl(38017,{changeType:i})}}),new Jh(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=rf()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Sl(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tf{constructor(e){this.Ge=e,this.ze=new Map,this.je=qd(),this.Je=nf(),this.He=nf(),this.Ye=new nu(Fl)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:xl(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(kd(i))if(0===n){const e=new Ql(i.path);this.et(t,e,Qu.newNoDocument(e,oc.min()))}else Sl(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}$h?.lt(function(e,t,n,r,i){const s={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},a=t.unchangedNames;return a&&(s.bloomFilter={applied:0===i,hashCount:a?.hashCount??0,bitmapLength:a?.bits?.bitmap?.length??0,padding:a?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),s}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=fu(n).toUint8Array()}catch(e){if(e instanceof lu)return bl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Kh(s,r,i)}catch(e){return bl(e instanceof Gh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&kd(i.target)){const t=new Ql(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Qu.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Xd();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Qh(e,t,this.Ye,this.je,n);return this.je=qd(),this.Je=nf(),this.He=nf(),this.Ye=new nu(Fl),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ef,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new su(Fl),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new su(Fl),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||yl("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ef),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nf(){return new nu(Ql.comparator)}function rf(){return new nu(Ql.comparator)}const sf={asc:"ASCENDING",desc:"DESCENDING"},af={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},of={and:"AND",or:"OR"};class lf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cf(e,t){return e.useProto3Json||kc(t)?t:{value:t}}function uf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function df(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hf(e,t){return uf(e,t.toTimestamp())}function ff(e){return Sl(!!e,49232),oc.fromTimestamp(function(e){const t=du(e);return new ac(t.seconds,t.nanos)}(e))}function pf(e,t){return mf(e,t).canonicalString()}function mf(e,t){const n=function(e){return new Wl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function gf(e){const t=Wl.fromString(e);return Sl(Lf(t),10190,{key:t.toString()}),t}function yf(e,t){return pf(e.databaseId,t.path)}function vf(e,t){const n=gf(t);if(n.get(1)!==e.databaseId.projectId)throw new _l(Nl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _l(Nl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ql(kf(n))}function bf(e,t){return pf(e.databaseId,t)}function wf(e){const t=gf(e);return 4===t.length?Wl.emptyPath():kf(t)}function xf(e){return new Wl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kf(e){return Sl(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Sf(e,t,n){return{name:yf(e,t),fields:n.value.mapValue.fields}}function Ef(e,t){let n;if(t instanceof _h)n={update:Sf(e,t.key,t.value)};else if(t instanceof Ah)n={delete:yf(e,t.key)};else if(t instanceof Th)n={update:Sf(e,t.key,t.data),updateMask:Mf(t.fieldMask)};else{if(!(t instanceof Dh))return xl(16599,{Vt:t.type});n={verify:yf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof lh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ch)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fh)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw xl(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xl(27497)}(e,t.precondition)),n}function Nf(e,t){return{documents:[bf(e,t.path)]}}function _f(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bf(e,i);const s=function(e){if(0!==e.length)return Of(rd.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Pf(e.field),direction:If(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=cf(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Tf(e,t,n,r){const{ft:i,parent:s}=_f(e,t),a={},o=[];let l=0;return n.forEach(e=>{const t=r?e.alias:"aggregate_"+l++;a[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:Pf(e.fieldPath)}}):"sum"===e.aggregateType&&o.push({alias:t,sum:{field:Pf(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},gt:a,parent:s}}function Cf(e){let t=wf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Sl(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=jf(e);return t instanceof rd&&sd(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Zu(Rf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,kc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ju(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ju(n,t)}(n.endAt)),Ed(t,i,a,s,o,"F",l,c)}function jf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rf(e.unaryFilter.field);return nd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rf(e.unaryFilter.field);return nd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rf(e.unaryFilter.field);return nd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Rf(e.unaryFilter.field);return nd.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xl(61313);default:return xl(60726)}}(e):void 0!==e.fieldFilter?function(e){return nd.create(Rf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xl(58110);default:return xl(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return rd.create(e.compositeFilter.filters.map(e=>jf(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xl(1026)}}(e.compositeFilter.op))}(e):xl(30097,{filter:e})}function If(e){return sf[e]}function Af(e){return af[e]}function Df(e){return of[e]}function Pf(e){return{fieldPath:e.canonicalString()}}function Rf(e){return Gl.fromServerFormat(e.fieldPath)}function Of(e){return e instanceof nd?function(e){if("=="===e.op){if($u(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NAN"}};if(zu(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($u(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NOT_NAN"}};if(zu(e.value))return{unaryFilter:{field:Pf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pf(e.field),op:Af(e.op),value:e.value}}}(e):e instanceof rd?function(e){const t=e.getFilters().map(e=>Of(e));return 1===t.length?t[0]:{compositeFilter:{op:Df(e.op),filters:t}}}(e):xl(54877,{filter:e})}function Mf(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Lf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ff{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:oc.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cu.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Ff(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ff(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ff(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ff(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Vf{constructor(e){this.yt=e}}function Uf(e){const t=Cf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Pd(t,t.limit,"L"):t}class zf{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(hu(e.integerValue));else if("doubleValue"in e){const n=hu(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Sc(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=du(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(fu(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Wu(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Bu(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):xl(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=Cu,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(hu(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Ql.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}zf.Kt=new zf;class $f{constructor(){this.Cn=new qf}addToCollectionParentIndex(e,t){return this.Cn.add(t),yc.resolve()}getCollectionParents(e,t){return yc.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return yc.resolve()}deleteFieldIndex(e,t){return yc.resolve()}deleteAllFieldIndexes(e){return yc.resolve()}createTargetIndexes(e,t){return yc.resolve()}getDocumentsMatchingTarget(e,t){return yc.resolve(null)}getIndexType(e,t){return yc.resolve(0)}getFieldIndexes(e,t){return yc.resolve([])}getNextCollectionGroupToUpdate(e){return yc.resolve(null)}getMinOffset(e,t){return yc.resolve(hc.min())}getMinOffsetFromCollectionGroup(e,t){return yc.resolve(hc.min())}updateCollectionGroup(e,t,n){return yc.resolve()}updateIndexEntries(e,t){return yc.resolve()}}class qf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new su(Wl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new su(Wl.comparator)).toArray()}}new Uint8Array(0);const Bf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hf=41943040;class Wf{static withCacheSize(e){return new Wf(e,Wf.DEFAULT_COLLECTION_PERCENTILE,Wf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Wf.DEFAULT_COLLECTION_PERCENTILE=10,Wf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wf.DEFAULT=new Wf(Hf,Wf.DEFAULT_COLLECTION_PERCENTILE,Wf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wf.DISABLED=new Wf(-1,0,0);class Kf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kf(0)}static cr(){return new Kf(-1)}}const Gf="LruGarbageCollector",Qf=1048576;function Jf(e,t){let[n,r]=e,[i,s]=t;const a=Fl(n,i);return 0===a?Fl(r,s):a}class Yf{constructor(e){this.Ir=e,this.buffer=new su(Jf),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Jf(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xf{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){yl(Gf,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){bc(e)?yl(Gf,"Ignoring IndexedDB error during garbage collection: ",e):await gc(e)}await this.Vr(3e5)})}}class Zf{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return yc.resolve(wc.ce);const n=new Yf(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(yl("LruGarbageCollector","Garbage collection skipped; disabled"),yc.resolve(Bf)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(yl("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bf):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(yl("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),gl()<=Xn.DEBUG&&yl("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),yc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function ep(e,t){return new Zf(e,t)}class tp{constructor(){this.changes=new zd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?yc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class np{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Sh(n.mutation,e,ou.empty(),ac.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Xd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xd();const r=Kd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Hd();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Kd();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Xd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=qd();const s=Qd(),a=Qd();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Th)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Sh(a.mutation,t,a.mutation.getFieldMask(),ac.now())):s.set(t.key,ou.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>a.set(e,new np(t,s.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const n=Qd();let r=new nu((e,t)=>e-t),i=Xd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||ou.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Xd()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Gd();l.forEach(e=>{if(!i.has(e)){const r=xh(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return yc.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ql.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Td(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):yc.resolve(Kd());let a=lc,o=i;return s.next(t=>yc.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?yc.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Xd())).next(e=>({batchId:a,changes:Wd(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ql(t)).next(e=>{let t=Hd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Hd();return this.indexManager.getCollectionParents(e,i).next(a=>yc.forEach(a,a=>{const o=function(e,t){return new Sd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qu.newInvalidDocument(r)))});let n=Hd();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Sh(s.mutation,r,ou.empty(),ac.now()),Ld(t,r)&&(n=n.insert(e,r))}),n})}}class ip{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return yc.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ff(e.createTime)}}(t)),yc.resolve()}getNamedQuery(e,t){return yc.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Uf(e.bundledQuery),readTime:ff(e.readTime)}}(t)),yc.resolve()}}class sp{constructor(){this.overlays=new nu(Ql.comparator),this.qr=new Map}getOverlay(e,t){return yc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Kd();return yc.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),yc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),yc.resolve()}getOverlaysForCollection(e,t,n){const r=Kd(),i=t.length+1,s=new Ql(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return yc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new nu((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Kd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Kd(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return yc.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Oh(t,n));let i=this.qr.get(t);void 0===i&&(i=Xd(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class ap{constructor(){this.sessionToken=cu.EMPTY_BYTE_STRING}getSessionToken(e){return yc.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,yc.resolve()}}class op{constructor(){this.Qr=new su(lp.$r),this.Ur=new su(lp.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new lp(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new lp(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Ql(new Wl([])),n=new lp(t,e),r=new lp(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ql(new Wl([])),n=new lp(t,e),r=new lp(t,e+1);let i=Xd();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new lp(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class lp{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ql.comparator(e.key,t.key)||Fl(e.Yr,t.Yr)}static Kr(e,t){return Fl(e.Yr,t.Yr)||Ql.comparator(e.key,t.key)}}class cp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new su(lp.$r)}checkEmpty(e){return yc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ph(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Zr=this.Zr.add(new lp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return yc.resolve(s)}lookupMutationBatch(e,t){return yc.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return yc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return yc.resolve(0===this.mutationQueue.length?xc:this.tr-1)}getAllMutationBatches(e){return yc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new lp(t,0),r=new lp(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),yc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new su(Fl);return t.forEach(e=>{const t=new lp(e,0),r=new lp(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),yc.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ql.isDocumentKey(i)||(i=i.child(""));const s=new lp(new Ql(i),0);let a=new su(Fl);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),yc.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Sl(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return yc.forEach(t.mutations,r=>{const i=new lp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new lp(t,0),r=this.Zr.firstAfterOrEqual(n);return yc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,yc.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class up{constructor(e){this.ri=e,this.docs=new nu(Ql.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return yc.resolve(n?n.document.mutableCopy():Qu.newInvalidDocument(t))}getEntries(e,t){let n=qd();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Qu.newInvalidDocument(e))}),yc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=qd();const s=t.path,a=new Ql(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||fc(dc(a),n)<=0||(r.has(a.key)||Ld(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return yc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){xl(9500)}ii(e,t){return yc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new dp(this)}getSize(e){return yc.resolve(this.size)}}class dp extends tp{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),yc.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class hp{constructor(e){this.persistence=e,this.si=new zd(e=>wd(e),xd),this.lastRemoteSnapshotVersion=oc.min(),this.highestTargetId=0,this.oi=0,this._i=new op,this.targetCount=0,this.ai=Kf.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),yc.resolve()}getLastRemoteSnapshotVersion(e){return yc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yc.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),yc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),yc.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Kf(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,yc.resolve()}updateTargetData(e,t){return this.Pr(t),yc.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,yc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),yc.waitFor(i).next(()=>r)}getTargetCount(e){return yc.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return yc.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),yc.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),yc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),yc.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return yc.resolve(n)}containsKey(e,t){return yc.resolve(this._i.containsKey(t))}}class fp{constructor(e,t){this.ui={},this.overlays={},this.ci=new wc(0),this.li=!1,this.li=!0,this.hi=new ap,this.referenceDelegate=e(this),this.Pi=new hp(this),this.indexManager=new $f,this.remoteDocumentCache=function(e){return new up(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Vf(t),this.Ii=new ip(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new cp(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){yl("MemoryPersistence","Starting transaction:",e);const r=new pp(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return yc.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class pp extends mc{constructor(e){super(),this.currentSequenceNumber=e}}class mp{constructor(e){this.persistence=e,this.Ri=new op,this.Vi=null}static mi(e){return new mp(e)}get fi(){if(this.Vi)return this.Vi;throw xl(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),yc.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),yc.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),yc.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yc.forEach(this.fi,n=>{const r=Ql.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,oc.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return yc.or([()=>yc.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class gp{constructor(e,t){this.persistence=e,this.pi=new zd(e=>_c(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ep(this,t)}static mi(e,t){return new gp(e,t)}Ei(){}di(e){return yc.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return yc.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?yc.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,oc.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),yc.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),yc.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),yc.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),yc.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lu(e.data.value)),t}br(e,t,n){return yc.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return yc.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Xd(),r=Xd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new yp(e,t.fromCache,n,r)}}class vp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bp{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=An()?8:vc(Cn())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new vp;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(gl()<=Xn.DEBUG&&yl("QueryEngine","SDK will not create cache indexes for query:",Md(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),yc.resolve()):(gl()<=Xn.DEBUG&&yl("QueryEngine","Query:",Md(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(gl()<=Xn.DEBUG&&yl("QueryEngine","The SDK decides to create cache indexes for query:",Md(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jd(t))):yc.resolve())}ys(e,t){if(_d(t))return yc.resolve(null);let n=jd(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Pd(t,null,"F"),n=jd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Xd(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Pd(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return _d(t)||r.isEqual(oc.min())?yc.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?yc.resolve(null):(gl()<=Xn.DEBUG&&yl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Md(t)),this.vs(e,s,t,uc(r,lc)).next(e=>e))})}Ds(e,t){let n=new su(Vd(e));return t.forEach((t,r)=>{Ld(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return gl()<=Xn.DEBUG&&yl("QueryEngine","Using full collection scan to execute query:",Md(t)),this.ps.getDocumentsMatchingQuery(e,t,hc.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const wp="LocalStore";class xp{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new nu(Fl),this.xs=new zd(e=>wd(e),xd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rp(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function kp(e,t,n,r){return new xp(e,t,n,r)}async function Sp(e,t){const n=El(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Xd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Ep(e){const t=El(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Np(e,t,n){let r=Xd(),i=Xd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=qd();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(oc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):yl(wp,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:r,qs:i}})}function _p(e,t){const n=El(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=xc),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Tp(e,t){const n=El(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,yc.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Ff(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Cp(e,t,n){const r=El(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!bc(e))throw e;yl(wp,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function jp(e,t,n){const r=El(e);let i=oc.min(),s=Xd();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=El(e),i=r.xs.get(n);return void 0!==i?yc.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,jd(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:oc.min(),n?s:Xd())).next(e=>(Ip(r,Fd(t),e),{documents:e,Qs:s})))}function Ip(e,t,n){let r=e.Os.get(t)||oc.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Ap{constructor(){this.activeTargetIds=eh()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dp{constructor(){this.Mo=new Ap,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ap,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pp{Oo(e){}shutdown(){}}const Rp="ConnectivityMonitor";class Op{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yl(Rp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){yl(Rp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mp=null;function Lp(){return null===Mp?Mp=268435456+Math.round(2147483648*Math.random()):Mp++,"0x"+Mp.toString(16)}const Fp="RestConnection",Vp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Up{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===ku?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const s=Lp(),a=this.zo(e,t.toUriEncodedString());yl(Fp,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(a),c=Sn(l);return this.Jo(e,a,o,n,c).then(t=>(yl(Fp,`Received RPC '${e}' ${s}: `,t),t),t=>{throw bl(Fp,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Vp[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class zp{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $p="WebChannelConnection";class qp extends Up{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=Lp();return new Promise((i,a)=>{const o=new tl;o.setWithCredentials(!0),o.listenOnce(rl.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case il.NO_ERROR:const t=o.getResponseJson();yl($p,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case il.TIMEOUT:yl($p,`RPC '${e}' ${s} timed out`),a(new _l(Nl.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:const n=o.getStatus();if(yl($p,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Nl).indexOf(t)>=0?t:Nl.UNKNOWN}(t.status);a(new _l(e,t.message))}else a(new _l(Nl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new _l(Nl.UNAVAILABLE,"Connection failed."));break;default:xl(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{yl($p,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(r);yl($p,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Lp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ll(),a=ol(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");yl($p,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new zp({Yo:t=>{h?yl($p,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(yl($p,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),yl($p,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,nl.EventType.OPEN,()=>{h||(yl($p,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,nl.EventType.CLOSE,()=>{h||(h=!0,yl($p,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,nl.EventType.ERROR,t=>{h||(h=!0,bl($p,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new _l(Nl.UNAVAILABLE,"The operation could not be completed")))}),p(u,nl.EventType.MESSAGE,t=>{if(!h){const n=t.data[0];Sl(!!n,16349);const i=n,s=i?.error||i[0]?.error;if(s){yl($p,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Fh[e];if(void 0!==t)return zh(t)}(t),i=s.message;void 0===n&&(n=Nl.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new _l(n,i)),u.close()}else yl($p,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),p(a,al.STAT_EVENT,t=>{t.stat===sl.PROXY?yl($p,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===sl.NOPROXY&&yl($p,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Bp(){return"undefined"!=typeof document?document:null}function Hp(e){return new lf(e,!0)}class Wp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&yl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kp="PersistentStream";class Gp{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wp(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Nl.RESOURCE_EXHAUSTED?(vl(t.toString()),vl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Nl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new _l(Nl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return yl(Kp,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(yl(Kp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qp extends Gp{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xl(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Sl(void 0===t||"string"==typeof t,58123),cu.fromBase64String(t||"")):(Sl(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),cu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Nl.UNKNOWN:zh(e.code);return new _l(t,e.message||"")}(a);n=new Zh(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=vf(e,r.document.name),s=ff(r.document.updateTime),a=r.document.createTime?ff(r.document.createTime):oc.min(),o=new Ku({mapValue:{fields:r.document.fields}}),l=Qu.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Yh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=vf(e,r.document),s=r.readTime?ff(r.readTime):oc.min(),a=Qu.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Yh([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=vf(e,r.document),s=r.removedTargetIds||[];n=new Yh([],s,i,null)}else{if(!("filter"in t))return xl(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Lh(r,i),a=e.targetId;n=new Xh(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return oc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?oc.min():t.readTime?ff(t.readTime):oc.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=xf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=kd(r)?{documents:Nf(e,r)}:{query:_f(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=df(e,t.resumeToken);const r=cf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(oc.min())>0){n.readTime=uf(e,t.snapshotVersion.toTimestamp());const r=cf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xl(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=xf(this.serializer),t.removeTarget=e,this.q_(t)}}class Jp extends Gp{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Sl(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Sl(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Sl(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Sl(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?ff(e.updateTime):ff(t);return n.isEqual(oc.min())&&(n=ff(t)),new yh(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ff(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=xf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ef(this.serializer,e))};this.q_(t)}}class Yp{}class Xp extends Yp{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new _l(Nl.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Go(e,mf(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Nl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _l(Nl.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Ho(e,mf(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Nl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _l(Nl.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Zp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vl(t),this.aa=!1):yl("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const em="RemoteStore";class tm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{um(this)&&(yl(em,"Restarting streams for network reachability change."),await async function(e){const t=El(e);t.Ea.add(4),await rm(t),t.Ra.set("Unknown"),t.Ea.delete(4),await nm(t)}(this))})}),this.Ra=new Zp(n,r)}}async function nm(e){if(um(e))for(const t of e.da)await t(!0)}async function rm(e){for(const t of e.da)await t(!1)}function im(e,t){const n=El(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cm(n)?lm(n):jm(n).O_()&&am(n,t))}function sm(e,t){const n=El(e),r=jm(n);n.Ia.delete(t),r.O_()&&om(n,t),0===n.Ia.size&&(r.O_()?r.L_():um(n)&&n.Ra.set("Unknown"))}function am(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(oc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jm(e).Y_(t)}function om(e,t){e.Va.Ue(t),jm(e).Z_(t)}function lm(e){e.Va=new tf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),jm(e).start(),e.Ra.ua()}function cm(e){return um(e)&&!jm(e).x_()&&e.Ia.size>0}function um(e){return 0===El(e).Ea.size}function dm(e){e.Va=void 0}async function hm(e){e.Ra.set("Online")}async function fm(e){e.Ia.forEach((t,n)=>{am(e,t)})}async function pm(e,t){dm(e),cm(e)?(e.Ra.ha(t),lm(e)):e.Ra.set("Unknown")}async function mm(e,t,n){if(e.Ra.set("Online"),t instanceof Zh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){yl(em,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await gm(e,n)}else if(t instanceof Yh?e.Va.Ze(t):t instanceof Xh?e.Va.st(t):e.Va.tt(t),!n.isEqual(oc.min()))try{const t=await Ep(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(cu.EMPTY_BYTE_STRING,r.snapshotVersion)),om(e,t);const i=new Ff(r.target,t,n,r.sequenceNumber);am(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){yl(em,"Failed to raise snapshot:",t),await gm(e,t)}}async function gm(e,t,n){if(!bc(t))throw t;e.Ea.add(1),await rm(e),e.Ra.set("Offline"),n||(n=()=>Ep(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{yl(em,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await nm(e)})}function ym(e,t){return t().catch(n=>gm(e,n,t))}async function vm(e){const t=El(e),n=Im(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xc;for(;bm(t);)try{const e=await _p(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,wm(t,e)}catch(e){await gm(t,e)}xm(t)&&km(t)}function bm(e){return um(e)&&e.Ta.length<10}function wm(e,t){e.Ta.push(t);const n=Im(e);n.O_()&&n.X_&&n.ea(t.mutations)}function xm(e){return um(e)&&!Im(e).x_()&&e.Ta.length>0}function km(e){Im(e).start()}async function Sm(e){Im(e).ra()}async function Em(e){const t=Im(e);for(const n of e.Ta)t.ea(n.mutations)}async function Nm(e,t,n){const r=e.Ta.shift(),i=Rh.from(r,t,n);await ym(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await vm(e)}async function _m(e,t){t&&Im(e).X_&&await async function(e,t){if(function(e){return Uh(e)&&e!==Nl.ABORTED}(t.code)){const n=e.Ta.shift();Im(e).B_(),await ym(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await vm(e)}}(e,t),xm(e)&&km(e)}async function Tm(e,t){const n=El(e);n.asyncQueue.verifyOperationInProgress(),yl(em,"RemoteStore received new credentials");const r=um(n);n.Ea.add(3),await rm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await nm(n)}async function Cm(e,t){const n=El(e);t?(n.Ea.delete(2),await nm(n)):t||(n.Ea.add(2),await rm(n),n.Ra.set("Unknown"))}function jm(e){return e.ma||(e.ma=function(e,t,n){const r=El(e);return r.sa(),new Qp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:hm.bind(null,e),t_:fm.bind(null,e),r_:pm.bind(null,e),H_:mm.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),cm(e)?lm(e):e.Ra.set("Unknown")):(await e.ma.stop(),dm(e))})),e.ma}function Im(e){return e.fa||(e.fa=function(e,t,n){const r=El(e);return r.sa(),new Jp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Sm.bind(null,e),r_:_m.bind(null,e),ta:Em.bind(null,e),na:Nm.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await vm(e)):(await e.fa.stop(),e.Ta.length>0&&(yl(em,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class Am{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Am(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _l(Nl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(e,t){if(vl("AsyncQueue",`${t}: ${e}`),bc(e))return new _l(Nl.UNAVAILABLE,`${t}: ${e}`);throw e}class Pm{static emptySet(e){return new Pm(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ql.comparator(t.key,n.key):(e,t)=>Ql.comparator(e.key,t.key),this.keyedMap=Hd(),this.sortedSet=new nu(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Pm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Rm{constructor(){this.ga=new nu(Ql.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xl(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Om{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Om(e,t,Pm.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Mm{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Lm{constructor(){this.queries=Fm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=El(e),r=n.queries;n.queries=Fm(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new _l(Nl.ABORTED,"Firestore shutting down"))}}function Fm(){return new zd(e=>Od(e),Rd)}async function Vm(e,t){const n=El(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Mm,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Dm(e,`Initialization of query '${Md(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&qm(n)}async function Um(e,t){const n=El(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zm(e,t){const n=El(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&qm(n)}function $m(e,t,n){const r=El(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function qm(e){e.Ca.forEach(e=>{e.next()})}var Bm,Hm;(Hm=Bm||(Bm={})).Ma="default",Hm.Cache="cache";class Wm{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Om(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Om.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}class Km{constructor(e){this.key=e}}class Gm{constructor(e){this.key=e}}class Qm{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xd(),this.mutatedKeys=Xd(),this.eu=Vd(e),this.tu=new Pm(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Rm,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Ld(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xl(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new Om(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xd(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Gm(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Km(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Xd();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Om.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Jm="SyncEngine";class Ym{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Xm{constructor(e){this.key=e,this.hu=!1}}class Zm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new zd(e=>Od(e),Rd),this.Iu=new Map,this.Eu=new Set,this.du=new nu(Ql.comparator),this.Au=new Map,this.Ru=new op,this.Vu={},this.mu=new Map,this.fu=Kf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function eg(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=xg(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await ng(r,t,n,!0),i}async function tg(e,t){const n=xg(e);await ng(n,t,!0,!1)}async function ng(e,t,n,r){const i=await Tp(e.localStore,jd(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await rg(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&im(e.remoteStore,i),o}async function rg(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await jp(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return mg(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await jp(e.localStore,t,!0),a=new Qm(t,s.Qs),o=a.ru(s.documents),l=Jh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);mg(e,n,c.au);const u=new Ym(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function ig(e,t,n){const r=El(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Rd(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sm(r.remoteStore,i.targetId),fg(r,i.targetId)}).catch(gc)):(fg(r,i.targetId),await Cp(r.localStore,i.targetId,!0))}async function sg(e,t){const n=El(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sm(n.remoteStore,r.targetId))}async function ag(e,t){const n=El(e);try{const e=await function(e,t){const n=El(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(cu.EMPTY_BYTE_STRING,oc.min()).withLastLimboFreeSnapshotVersion(oc.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=qd(),l=Xd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Np(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(oc.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return yc.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Sl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Sl(r.hu,14607):e.removedDocuments.size>0&&(Sl(r.hu,42227),r.hu=!1))}),await vg(n,e,t)}catch(e){await gc(e)}}function og(e,t,n){const r=El(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=El(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&qm(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lg(e,t,n){const r=El(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new nu(Ql.comparator);e=e.insert(s,Qu.newNoDocument(s,oc.min()));const n=Xd().add(s),i=new Qh(oc.min(),new Map,new nu(Fl),e,n);await ag(r,i),r.du=r.du.remove(s),r.Au.delete(t),yg(r)}else await Cp(r.localStore,t,!1).then(()=>fg(r,t,n)).catch(gc)}async function cg(e,t){const n=El(e),r=t.batch.batchId;try{const e=await function(e,t){const n=El(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=yc.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Sl(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);hg(n,r,null),dg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vg(n,e)}catch(e){await gc(e)}}async function ug(e,t,n){const r=El(e);try{const e=await function(e,t){const n=El(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Sl(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);hg(r,t,n),dg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await vg(r,e)}catch(n){await gc(n)}}function dg(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function hg(e,t,n){const r=El(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||pg(e,t)})}function pg(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(sm(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),yg(e))}function mg(e,t,n){for(const r of n)r instanceof Km?(e.Ru.addReference(r.key,t),gg(e,r)):r instanceof Gm?(yl(Jm,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||pg(e,r.key)):xl(19791,{wu:r})}function gg(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(yl(Jm,"New document in limbo: "+n),e.Eu.add(r),yg(e))}function yg(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ql(Wl.fromString(t)),r=e.fu.next();e.Au.set(r,new Xm(n)),e.du=e.du.insert(n,r),im(e.remoteStore,new Ff(jd(Nd(n.path)),r,"TargetPurposeLimboResolution",wc.ce))}}async function vg(e,t,n){const r=El(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(o.targetId)?.current;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){i.push(e);const t=yp.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=El(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>yc.forEach(t,t=>yc.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>yc.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!bc(e))throw e;yl(wp,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function bg(e,t){const n=El(e);if(!n.currentUser.isEqual(t)){yl(Jm,"User change. New user:",t.toKey());const e=await Sp(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new _l(Nl.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vg(n,e.Ls)}}function wg(e,t){const n=El(e),r=n.Au.get(t);if(r&&r.hu)return Xd().add(r.key);{let e=Xd();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function xg(e){const t=El(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ag.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lg.bind(null,t),t.Pu.H_=zm.bind(null,t.eventManager),t.Pu.yu=$m.bind(null,t.eventManager),t}function kg(e){const t=El(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ug.bind(null,t),t}class Sg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return kp(this.persistence,new bp,e.initialUser,this.serializer)}Cu(e){return new fp(mp.mi,this.serializer)}Du(e){return new Dp}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sg.provider={build:()=>new Sg};class Eg extends Sg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Sl(this.persistence.referenceDelegate instanceof gp,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Xf(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Wf.withCacheSize(this.cacheSizeBytes):Wf.DEFAULT;return new fp(e=>gp.mi(e,t),this.serializer)}}class Ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>og(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bg.bind(null,this.syncEngine),await Cm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Lm}createDatastore(e){const t=Hp(e.databaseInfo.databaseId),n=function(e){return new qp(e)}(e.databaseInfo);return function(e,t,n,r){return new Xp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new tm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>og(this.syncEngine,e,0),Op.v()?new Op:new Pp)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Zm(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=El(e);yl(em,"RemoteStore shutting down."),t.Ea.add(5),await rm(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ng.provider={build:()=>new Ng};class _g{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Tg="FirestoreClient";class Cg{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fl.UNAUTHENTICATED,this.clientId=Ll.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{yl(Tg,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(yl(Tg,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(pt){const n=Dm(pt,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function jg(e,t){e.asyncQueue.verifyOperationInProgress(),yl(Tg,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Sp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ig(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ag(e);yl(Tg,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Tm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Tm(t.remoteStore,n)),e._onlineComponents=t}async function Ag(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){yl(Tg,"Using user provided OfflineComponentProvider");try{await jg(e,e._uninitializedComponentsProvider._offline)}catch(pt){const n=pt;if(!function(e){return"FirebaseError"===e.name?e.code===Nl.FAILED_PRECONDITION||e.code===Nl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;bl("Error using user provided cache. Falling back to memory cache: "+n),await jg(e,new Sg)}}else yl(Tg,"Using default OfflineComponentProvider"),await jg(e,new Eg(void 0));return e._offlineComponents}async function Dg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(yl(Tg,"Using user provided OnlineComponentProvider"),await Ig(e,e._uninitializedComponentsProvider._online)):(yl(Tg,"Using default OnlineComponentProvider"),await Ig(e,new Ng))),e._onlineComponents}function Pg(e){return Dg(e).then(e=>e.syncEngine)}function Rg(e){return Dg(e).then(e=>e.datastore)}async function Og(e){const t=await Dg(e),n=t.eventManager;return n.onListen=eg.bind(null,t.syncEngine),n.onUnlisten=ig.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tg.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sg.bind(null,t.syncEngine),n}function Mg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Tl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new _g({next:o=>{s.Nu(),t.enqueueAndForget(()=>Um(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new _l(Nl.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new _l(Nl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Wm(Nd(n.path),s,{includeMetadataChanges:!0,qa:!0});return Vm(e,a)}(await Og(e),e.asyncQueue,t,n,r)),r.promise}function Lg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Tl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new _g({next:n=>{s.Nu(),t.enqueueAndForget(()=>Um(e,a)),n.fromCache&&"server"===r.source?i.reject(new _l(Nl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Wm(n,s,{includeMetadataChanges:!0,qa:!0});return Vm(e,a)}(await Og(e),e.asyncQueue,t,n,r)),r.promise}function Fg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Vg=new Map,Ug="firestore.googleapis.com",zg=!0;class $g{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new _l(Nl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ug,this.ssl=zg}else this.host=e.host,this.ssl=e.ssl??zg;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Hf;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Qf)throw new _l(Nl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new _l(Nl.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fg(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _l(Nl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new _l(Nl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new _l(Nl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $g({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _l(Nl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _l(Nl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $g(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jl;switch(e.type){case"firstParty":return new Pl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _l(Nl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vg.get(e);t&&(yl("ComponentProvider","Removing Datastore"),Vg.delete(e),t.terminate())}(this),Promise.resolve()}}function Bg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=tc(e,qg);const i=Sn(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(En(`https://${o}`),Tn("Firestore",!0)),s.host!==Ug&&s.host!==o&&bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!Fn(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=fl.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[mn(JSON.stringify({alg:"none",type:"JWT"})),mn(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new _l(Nl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new fl(i)}e._authCredentials=new Il(new Cl(t,n))}}class Hg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Hg(this.firestore,e,this._query)}}class Wg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wg(this.firestore,e,this._key)}toJSON(){return{type:Wg._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(rc(t,Wg._jsonSchema))return new Wg(e,n||null,new Ql(Wl.fromString(t.referencePath)))}}Wg._jsonSchemaVersion="firestore/documentReference/1.0",Wg._jsonSchema={type:nc("string",Wg._jsonSchemaVersion),referencePath:nc("string")};class Kg extends Hg{constructor(e,t,n){super(e,t,Nd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wg(this.firestore,null,new Ql(e))}withConverter(e){return new Kg(this.firestore,e,this._path)}}function Gg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wn(e),Jl("collection","path",t),e instanceof qg){const n=Wl.fromString(t,...r);return Xl(n),new Kg(e,null,n)}{if(!(e instanceof Wg||e instanceof Kg))throw new _l(Nl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wl.fromString(t,...r));return Xl(n),new Kg(e.firestore,null,n)}}function Qg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wn(e),1===arguments.length&&(t=Ll.newId()),Jl("doc","path",t),e instanceof qg){const n=Wl.fromString(t,...r);return Yl(n),new Wg(e,null,new Ql(n))}{if(!(e instanceof Wg||e instanceof Kg))throw new _l(Nl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wl.fromString(t,...r));return Yl(n),new Wg(e.firestore,e instanceof Kg?e.converter:null,new Ql(n))}}const Jg="AsyncQueue";class Yg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wp(this,"async_queue_retry"),this._c=()=>{const e=Bp();e&&yl(Jg,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Bp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Bp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Tl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(ft){if(!bc(ft))throw ft;yl(Jg,"Operation failed with retryable error: "+ft)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,vl("INTERNAL UNHANDLED ERROR: ",Xg(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Am.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&xl(47125,{Pc:Xg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Xg(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Zg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ey extends qg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Yg,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yg(e),this._firestoreClient=void 0,await e}}}function ty(e){if(e._terminated)throw new _l(Nl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ny(e),e._firestoreClient}function ny(e){const t=e._freezeSettings(),n=function(e,t,n,r){return new xu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Fg(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Cg(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}class ry{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class iy{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class sy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sy(cu.fromBase64String(e))}catch(e){throw new _l(Nl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new sy(cu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sy._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rc(e,sy._jsonSchema))return sy.fromBase64String(e.bytes)}}sy._jsonSchemaVersion="firestore/bytes/1.0",sy._jsonSchema={type:nc("string",sy._jsonSchemaVersion),bytes:nc("string")};class ay{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _l(Nl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oy{constructor(e){this._methodName=e}}class ly{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _l(Nl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _l(Nl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fl(this._lat,e._lat)||Fl(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ly._jsonSchemaVersion}}static fromJSON(e){if(rc(e,ly._jsonSchema))return new ly(e.latitude,e.longitude)}}ly._jsonSchemaVersion="firestore/geoPoint/1.0",ly._jsonSchema={type:nc("string",ly._jsonSchemaVersion),latitude:nc("number"),longitude:nc("number")};class cy{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cy._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rc(e,cy._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new cy(e.vectorValues);throw new _l(Nl.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cy._jsonSchemaVersion="firestore/vectorValue/1.0",cy._jsonSchema={type:nc("string",cy._jsonSchemaVersion),vectorValues:nc("object")};const uy=/^__.*__$/;class dy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Th(e,this.data,this.fieldMask,t,this.fieldTransforms):new _h(e,this.data,t,this.fieldTransforms)}}class hy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Th(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xl(40011,{Ac:e})}}class py{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new py({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Iy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(fy(this.Ac)&&uy.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class my{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hp(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new py({Ac:e,methodName:t,Dc:n,path:Gl.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gy(e){const t=e._freezeSettings(),n=Hp(e._databaseId);return new my(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yy(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);_y("Data must be an object, but it was:",a,r);const o=Ey(r,a);let l,c;if(s.merge)l=new ou(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ty(t,r,n);if(!a.contains(i))throw new _l(Nl.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ay(e,i)||e.push(i)}l=new ou(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new dy(new Ku(o),l,c)}class vy extends oy{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vy}}class by extends oy{_toFieldTransform(e){return new gh(e.path,new lh)}isEqual(e){return e instanceof by}}function wy(e,t,n,r){const i=e.Cc(1,t,n);_y("Data must be an object, but it was:",i,r);const s=[],a=Ku.empty();Zc(r,(e,r)=>{const o=jy(t,e,n);r=Wn(r);const l=i.yc(o);if(r instanceof vy)s.push(o);else{const e=Sy(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new ou(s);return new hy(a,o,i.fieldTransforms)}function xy(e,t,n,r,i,s){const a=e.Cc(1,t,n),o=[Ty(t,r,n)],l=[i];if(s.length%2!=0)throw new _l(Nl.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Ty(t,s[h])),l.push(s[h+1]);const c=[],u=Ku.empty();for(let h=o.length-1;h>=0;--h)if(!Ay(c,o[h])){const e=o[h];let t=l[h];t=Wn(t);const n=a.yc(e);if(t instanceof vy)c.push(e);else{const r=Sy(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ou(c);return new hy(u,d,a.fieldTransforms)}function ky(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Sy(n,e.Cc(r?4:3,t))}function Sy(e,t){if(Ny(e=Wn(e)))return _y("Unsupported field value:",t,e),Ey(e,t);if(e instanceof oy)return function(e,t){if(!fy(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Sy(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Wn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ac.fromDate(e);return{timestampValue:uf(t.serializer,n)}}if(e instanceof ac){const n=new ac(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uf(t.serializer,n)}}if(e instanceof ly)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sy)return{bytesValue:df(t.serializer,e._byteString)};if(e instanceof Wg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:pf(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof cy)return function(e,t){return{mapValue:{fields:{[Eu]:{stringValue:Tu},[Cu]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return th(t.serializer,e)})}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${ec(e)}`)}(e,t)}function Ey(e,t){const n={};return tu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zc(e,(e,r)=>{const i=Sy(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Ny(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ac||e instanceof ly||e instanceof sy||e instanceof Wg||e instanceof oy||e instanceof cy)}function _y(e,t,n){if(!Ny(n)||!Zl(n)){const r=ec(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Ty(e,t,n){if((t=Wn(t))instanceof ay)return t._internalPath;if("string"==typeof t)return jy(e,t);throw Iy("Field path arguments must be of type string or ",e,!1,void 0,n)}const Cy=new RegExp("[~\\*/\\[\\]]");function jy(e,t,n){if(t.search(Cy)>=0)throw Iy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ay(...t.split("."))._internalPath}catch(r){throw Iy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Iy(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new _l(Nl.INVALID_ARGUMENT,o+e+l)}function Ay(e,t){return e.some(e=>e.isEqual(t))}class Dy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Py(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ry("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Py extends Dy{data(){return super.data()}}function Ry(e,t){return"string"==typeof t?jy(e,t):t instanceof ay?t._internalPath:t._delegate._internalPath}function Oy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _l(Nl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class My{}class Ly extends My{}function Fy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof My&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof zy).length,n=e.filter(e=>e instanceof Vy).length;if(t>1||t>0&&n>0)throw new _l(Nl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Vy extends Ly{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Vy(e,t,n)}_apply(e){const t=this._parse(e);return Wy(e._query,t),new Hg(e.firestore,e.converter,Dd(e._query,t))}_parse(e){const t=gy(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new _l(Nl.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Hy(a,s);const t=[];for(const n of a)t.push(By(r,e,n));o={arrayValue:{values:t}}}else o=By(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Hy(a,s),o=ky(n,t,a,"in"===s||"not-in"===s);return nd.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Uy(e,t,n){const r=t,i=Ry("where",e);return Vy._create(i,r,n)}class zy extends My{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zy(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:rd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Wy(n,i),n=Dd(n,i)}(e._query,t),new Hg(e.firestore,e.converter,Dd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $y extends Ly{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $y(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new _l(Nl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _l(Nl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zu(t,n)}(e._query,this._field,this._direction);return new Hg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Sd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function qy(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ry("orderBy",e);return $y._create(n,t)}function By(e,t,n){if("string"==typeof(n=Wn(n))){if(""===n)throw new _l(Nl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Td(t)&&-1!==n.indexOf("/"))throw new _l(Nl.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Wl.fromString(n));if(!Ql.isDocumentKey(r))throw new _l(Nl.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fu(e,new Ql(r))}if(n instanceof Wg)return Fu(e,n._key);throw new _l(Nl.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ec(n)}.`)}function Hy(e,t){if(!Array.isArray(e)||0===e.length)throw new _l(Nl.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Wy(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new _l(Nl.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new _l(Nl.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ky{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xl(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Zc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[Cu].arrayValue?.values?.map(e=>hu(e.doubleValue));return new cy(t)}convertGeoPoint(e){return new ly(hu(e.latitude),hu(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=du(e);return new ac(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wl.fromString(e);Sl(Lf(n),9688,{name:e});const r=new Su(n.get(1),n.get(3)),i=new Ql(n.popFirst(5));return r.isEqual(t)||vl(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Gy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Qy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jy extends Dy{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Yy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ry("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _l(Nl.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Jy._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Jy._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jy._jsonSchema={type:nc("string",Jy._jsonSchemaVersion),bundleSource:nc("string","DocumentSnapshot"),bundleName:nc("string"),bundle:nc("string")};class Yy extends Jy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Xy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Yy(this._firestore,this._userDataWriter,n.key,n,new Qy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _l(Nl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Yy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Qy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Yy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Zy(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _l(Nl.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xy._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ll.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xl(61501,{type:e})}}function ev(e){e=tc(e,Wg);const t=tc(e.firestore,ey);return Mg(ty(t),e._key).then(n=>lv(t,e,n))}Xy._jsonSchemaVersion="firestore/querySnapshot/1.0",Xy._jsonSchema={type:nc("string",Xy._jsonSchemaVersion),bundleSource:nc("string","QuerySnapshot"),bundleName:nc("string"),bundle:nc("string")};class tv extends Ky{constructor(e){super(),this.firestore=e}convertBytes(e){return new sy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wg(this.firestore,null,t)}}function nv(e){e=tc(e,Hg);const t=tc(e.firestore,ey),n=ty(t),r=new tv(t);return Oy(e._query),Lg(n,e._query).then(n=>new Xy(t,r,e,n))}function rv(e,t,n){e=tc(e,Wg);const r=tc(e.firestore,ey),i=Gy(e.converter,t,n);return ov(r,[yy(gy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vh.none())])}function iv(e,t,n){e=tc(e,Wg);const r=tc(e.firestore,ey),i=gy(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=Wn(t))||t instanceof ay?xy(i,"updateDoc",e._key,t,n,o):wy(i,"updateDoc",e._key,t),ov(r,[s.toMutation(e._key,vh.exists(!0))])}function sv(e,t){const n=tc(e.firestore,ey),r=Qg(e),i=Gy(e.converter,t);return ov(n,[yy(gy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vh.exists(!1))]).then(()=>r)}function av(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Wn(e);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||Zg(n[s])||(i=n[s++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Zg(n[s])){const e=n[s];n[s]=e.next?.bind(e),n[s+1]=e.error?.bind(e),n[s+2]=e.complete?.bind(e)}let o,l,c;if(e instanceof Wg)l=tc(e.firestore,ey),c=Nd(e._key.path),o={next:t=>{n[s]&&n[s](lv(l,e,t))},error:n[s+1],complete:n[s+2]};else{const t=tc(e,Hg);l=tc(t.firestore,ey),c=t._query;const r=new tv(l);o={next:e=>{n[s]&&n[s](new Xy(l,r,t,e))},error:n[s+1],complete:n[s+2]},Oy(e._query)}return function(e,t,n,r){const i=new _g(r),s=new Wm(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Vm(await Og(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Um(await Og(e),s))}}(ty(l),c,a,o)}function ov(e,t){return function(e,t){const n=new Tl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=kg(e);try{const e=await function(e,t){const n=El(e),r=ac.now(),i=t.reduce((e,t)=>e.add(t.key),Xd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=qd(),l=Xd();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Eh(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Th(e.key,t,Gu(t.value.mapValue),vh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Wd(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new nu(Fl)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await vg(r,e.changes),await vm(r.remoteStore)}catch(e){const t=Dm(e,"Failed to persist write");n.reject(t)}}(await Pg(e),t,n)),n.promise}(ty(e),t)}function lv(e,t,n){const r=n.docs.get(t._key),i=new tv(e);return new Jy(e,i,t._key,r,new Qy(n.hasPendingWrites,n.fromCache),t.converter)}function cv(e){return function(e,t){const n=tc(e.firestore,ey),r=ty(n),i=eu(t,(e,t)=>new Mh(t,e.aggregateType,e._internalFieldPath));return function(e,t,n){const r=new Tl;return e.asyncQueue.enqueueAndForget(async()=>{try{const i=await Rg(e);r.resolve(async function(e,t,n){const r=El(e),{request:i,gt:s,parent:a}=Tf(r.serializer,Id(t),n);r.connection.$o||delete i.parent;const o=(await r.Ho("RunAggregationQuery",r.serializer.databaseId,a,i,1)).filter(e=>!!e.result);Sl(1===o.length,64727);const l=o[0].result?.aggregateFields;return Object.keys(l).reduce((e,t)=>(e[s[t]]=l[t],e),{})}(i,t,n))}catch(e){r.reject(e)}}),r.promise}(r,e._query,i).then(t=>function(e,t,n){const r=new tv(e);return new iy(t,r,n)}(n,e,t))}(e,{count:new ry("count")})}function uv(){return new by("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){pl=e}(ci),ii(new Kn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new ey(new Al(e.getProvider("auth-internal")),new Ol(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _l(Nl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(e.options.projectId,t)}(s,r),s);return i={useFetchStreams:t,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),hi(dl,hl,e),hi(dl,hl,"esm2020")}();hi("firebase","12.0.0","app");const dv="@firebase/installations",hv="0.6.19",fv=1e4,pv=`w:${hv}`,mv="FIS_v2",gv=36e5,yv=new Mn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vv(e){return e instanceof On&&e.code.includes("request-failed")}function bv(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function wv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function xv(e,t){const n=(await t.json()).error;return yv.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function kv(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Sv(e,t){let{refreshToken:n}=t;const r=kv(e);return r.append("Authorization",function(e){return`${mv} ${e}`}(n)),r}async function Ev(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Nv(e){return new Promise(t=>{setTimeout(t,e)})}const _v=/^[cdef][\w-]{21}$/;function Tv(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return _v.test(t)?t:""}catch{return""}}function Cv(e){return`${e.appName}!${e.appId}`}const jv=new Map;function Iv(e,t){const n=Cv(e);Av(n,t),function(e,t){const n=Pv();n&&n.postMessage({key:e,fid:t});Rv()}(n,t)}function Av(e,t){const n=jv.get(e);if(n)for(const r of n)r(t)}let Dv=null;function Pv(){return!Dv&&"BroadcastChannel"in self&&(Dv=new BroadcastChannel("[Firebase] FID Change"),Dv.onmessage=e=>{Av(e.data.key,e.data.fid)}),Dv}function Rv(){0===jv.size&&Dv&&(Dv.close(),Dv=null)}const Ov="firebase-installations-store";let Mv=null;function Lv(){return Mv||(Mv=gr("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ov)}})),Mv}async function Fv(e,t){const n=Cv(e),r=(await Lv()).transaction(Ov,"readwrite"),i=r.objectStore(Ov),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||Iv(e,t.fid),t}async function Vv(e){const t=Cv(e),n=(await Lv()).transaction(Ov,"readwrite");await n.objectStore(Ov).delete(t),await n.done}async function Uv(e,t){const n=Cv(e),r=(await Lv()).transaction(Ov,"readwrite"),i=r.objectStore(Ov),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||Iv(e,a.fid),a}async function zv(e){let t;const n=await Uv(e.appConfig,n=>{const r=function(e){const t=e||{fid:Tv(),registrationStatus:0};return Bv(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(yv.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=bv(n),a=kv(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:mv,appId:n.appId,sdkVersion:pv},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Ev(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:wv(e.authToken)}}throw await xv("Create Installation",u)}(e,t);return Fv(e.appConfig,n)}catch(ft){throw vv(ft)&&409===ft.customData.serverCode?await Vv(e.appConfig):await Fv(e.appConfig,{fid:t.fid,registrationStatus:0}),ft}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:$v(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function $v(e){let t=await qv(e.appConfig);for(;1===t.registrationStatus;)await Nv(100),t=await qv(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await zv(e);return n||t}return t}function qv(e){return Uv(e,e=>{if(!e)throw yv.create("installation-not-found");return Bv(e)})}function Bv(e){return 1===(t=e).registrationStatus&&t.registrationTime+fv<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Hv(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${bv(e)}/${n}/authTokens:generate`}(n,t),s=Sv(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:pv,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await Ev(()=>fetch(i,l));if(c.ok){return wv(await c.json())}throw await xv("Generate Auth Token",c)}async function Wv(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Uv(e.appConfig,r=>{if(!Gv(r))throw yv.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+gv}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Kv(e.appConfig);for(;1===n.authToken.requestStatus;)await Nv(100),n=await Kv(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Wv(e,t):r}(e,n),r;{if(!navigator.onLine)throw yv.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(r);return t=async function(e,t){try{const n=await Hv(e,t),r={...t,authToken:n};return await Fv(e.appConfig,r),n}catch(ft){if(!vv(ft)||401!==ft.customData.serverCode&&404!==ft.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await Fv(e.appConfig,n)}else await Vv(e.appConfig);throw ft}}(e,n),n}});return t?await t:r.authToken}function Kv(e){return Uv(e,e=>{if(!Gv(e))throw yv.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+fv<Date.now()?{...e,authToken:{requestStatus:0}}:e;var n})}function Gv(e){return void 0!==e&&2===e.registrationStatus}async function Qv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await zv(e);t&&await t}(n);return(await Wv(n,t)).token}function Jv(e){return yv.create("missing-app-config-values",{valueName:e})}const Yv="installations",Xv=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Jv("App Configuration");if(!e.name)throw Jv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Jv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:si(t,"heartbeat"),_delete:()=>Promise.resolve()}},Zv=e=>{const t=si(e.getProvider("app").getImmediate(),Yv).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await zv(t);return r?r.catch(console.error):Wv(t).catch(console.error),n.fid}(t),getToken:e=>Qv(t,e)}};ii(new Kn(Yv,Xv,"PUBLIC")),ii(new Kn("installations-internal",Zv,"PRIVATE")),hi(dv,hv),hi(dv,hv,"esm2020");const eb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tb="google.c.a.c_id",nb=1e4;var rb,ib;function sb(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ab(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(rb||(rb={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(ib||(ib={}));const ob="fcm_token_details_db",lb="fcm_token_object_Store";const cb="firebase-messaging-store";let ub=null;function db(){return ub||(ub=gr("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(cb)}})),ub}async function hb(e){const t=pb(e),n=await db(),r=await n.transaction(cb).objectStore(cb).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(ob))return null}let t=null;return(await gr(ob,5,{upgrade:async(n,r,i,s)=>{if(r<2)return;if(!n.objectStoreNames.contains(lb))return;const a=s.objectStore(lb),o=await a.index("fcmSenderId").get(e);if(await a.clear(),o)if(2===r){const e=o;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:sb(e.vapidKey)}}}else if(3===r){const e=o;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:sb(e.auth),p256dh:sb(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:sb(e.vapidKey)}}}else if(4===r){const e=o;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:sb(e.auth),p256dh:sb(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:sb(e.vapidKey)}}}}})).close(),await yr(ob),await yr("fcm_vapid_details_db"),await yr("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await fb(e,t),t}}async function fb(e,t){const n=pb(e),r=(await db()).transaction(cb,"readwrite");return await r.objectStore(cb).put(t,n),await r.done,t}function pb(e){let{appConfig:t}=e;return t.appId}const mb=new Mn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function gb(e,t){const n={method:"DELETE",headers:await vb(e)};try{const r=await fetch(`${yb(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw mb.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw mb.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}}function yb(e){let{projectId:t}=e;return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function vb(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function bb(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const s={web:{endpoint:r,auth:n,p256dh:t}};return i!==eb&&(s.web.applicationPubKey=i),s}async function wb(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ab(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:sb(t.getKey("auth")),p256dh:sb(t.getKey("p256dh"))},r=await hb(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await vb(e),r=bb(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch(`${yb(e.appConfig)}/${t.token}`,i);s=await n.json()}catch(a){throw mb.create("token-update-failed",{errorInfo:a?.toString()})}if(s.error){const e=s.error.message;throw mb.create("token-update-failed",{errorInfo:e})}if(!s.token)throw mb.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await fb(e.firebaseDependencies,r),n}catch(ft){throw ft}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await gb(e.firebaseDependencies,r.token)}catch(ft){console.warn(ft)}return xb(e.firebaseDependencies,n)}return xb(e.firebaseDependencies,n)}async function xb(e,t){const n=await async function(e,t){const n=await vb(e),r=bb(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(yb(e.appConfig),i);s=await t.json()}catch(a){throw mb.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(s.error){const e=s.error.message;throw mb.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw mb.create("token-subscribe-no-token");return s.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await fb(e,r),r.token}function kb(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;n&&(e.fcmOptions.link=n);const r=t.fcmOptions?.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function Sb(e){return mb.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Eb{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Sb("App Configuration Object");if(!e.name)throw Sb("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Sb(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Nb(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after 10000 ms")),nb),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{"activated"===e.target?.state&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(ft){throw mb.create("failed-service-worker-registration",{browserErrorMessage:ft?.message})}}async function _b(e,t){if(!navigator)throw mb.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw mb.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=eb)}(e,t?.vapidKey),await async function(e,t){if(t||e.swRegistration||await Nb(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw mb.create("invalid-sw-registration");e.swRegistration=t}}(e,t?.serviceWorkerRegistration),wb(e)}async function Tb(e,t,n){const r=function(e){switch(e){case ib.NOTIFICATION_CLICKED:return"notification_open";case ib.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[tb],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function Cb(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===ib.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(kb(n)):e.onMessageHandler.next(kb(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&tb in e})(r)&&"1"===r["google.c.a.e"]&&await Tb(e,n.messageType,r)}const jb="@firebase/messaging",Ib="0.12.23",Ab=e=>{const t=new Eb(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>Cb(t,e)),t},Db=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>_b(t,e)}};ii(new Kn("messaging",Ab,"PUBLIC")),ii(new Kn("messaging-internal",Db,"PRIVATE")),hi(jb,Ib),hi(jb,Ib,"esm2020");const Pb="analytics",Rb="https://www.googletagmanager.com/gtag/js",Ob=new rr("@firebase/analytics"),Mb=new Mn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Lb(e){if(!e.startsWith(Rb)){const t=Mb.create("invalid-gtag-resource",{gtagURL:e});return Ob.warn(t.message),""}return e}function Fb(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Vb(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Lb}),r=document.createElement("script"),i=`${Rb}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Ub(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Fb(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(ft){Ob.error(ft)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await Fb(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(ft){Ob.error(ft)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(ft){Ob.error(ft)}}}const zb=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function $b(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function qb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zb,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Mb.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mb.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Hb;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),Bb({appId:r,apiKey:i,measurementId:s},a,o,t)}async function Bb(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zb;const{appId:a,measurementId:o}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Mb.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(ft){if(o)return Ob.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:a,measurementId:o};throw ft}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:$b(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),s=await fetch(i,r);if(200!==s.status&&304!==s.status){let e="";try{const t=await s.json();t.error?.message&&(e=t.error.message)}catch(a){}throw Mb.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return s.deleteThrottleMetadata(a),t}catch(ft){const r=ft;if(!function(e){if(!(e instanceof On)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(a),o)return Ob.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${r?.message}]`),{appId:a,measurementId:o};throw ft}const l=503===Number(r?.customData?.httpStatus)?Hn(i,s.intervalMillis,30):Hn(i,s.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:i+1};return s.setThrottleMetadata(a,c),Ob.debug(`Calling attemptFetch again in ${l} millis`),Bb(e,c,n,s)}}class Hb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Wb,Kb;function Gb(e){Kb=e}function Qb(e){Wb=e}async function Jb(e,t,n,r,i,s,a){const o=qb(e);o.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Ob.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Ob.error(e)),t.push(o);const l=async function(){if(!Dn())return Ob.warn(Mb.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Pn()}catch(ft){return Ob.warn(Mb.create("indexeddb-unavailable",{errorInfo:ft?.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,u]=await Promise.all([o,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Rb)&&n.src.includes(e))return n;return null})(s)||Vb(s,c.measurementId),Kb&&(i("consent","default",Kb),Gb(void 0)),i("js",new Date);const d=a?.config??{};return d.origin="firebase",d.update=!0,null!=u&&(d.firebase_id=u),i("config",c.measurementId,d),Wb&&(i("set",Wb),Qb(void 0)),c.measurementId}class Yb{constructor(e){this.app=e}_delete(){return delete Xb[this.app.options.appId],Promise.resolve()}}let Xb={},Zb=[];const ew={};let tw,nw,rw="dataLayer",iw="gtag",sw=!1;function aw(e,t,n){!function(){const e=[];if(In()&&e.push("This is a browser extension environment."),Rn()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Mb.create("invalid-analytics-context",{errorInfo:t});Ob.warn(n.message)}}();const r=e.options.appId;if(!r)throw Mb.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Mb.create("no-api-key");Ob.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xb[r])throw Mb.create("already-exists",{id:r});if(!sw){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(rw);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Ub(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Xb,Zb,ew,rw,iw);nw=e,tw=t,sw=!0}Xb[r]=Jb(e,Zb,ew,t,tw,rw,n);return new Yb(e)}const ow="@firebase/analytics",lw="0.10.18";ii(new Kn(Pb,(e,t)=>{let{options:n}=t;return aw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),ii(new Kn("analytics-internal",function(e){try{const t=e.getProvider(Pb).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=Wn(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,{...r,send_to:i})}}(nw,Xb[e.app.options.appId],t,n,r).catch(e=>Ob.error(e))}(t,e,n,r)}}catch(ft){throw Mb.create("interop-component-reg-failed",{reason:ft})}},"PRIVATE")),hi(ow,lw),hi(ow,lw,"esm2020");const cw=ui({apiKey:"AIzaSyDiER-kd23Ffju8VGWLxW8scYvzNHbA9Bw",authDomain:"ungservice-cd309.firebaseapp.com",projectId:"ungservice-cd309",storageBucket:"ungservice-cd309.firebasestorage.app",messagingSenderId:"634491024419",appId:"1:634491024419:web:57d2f169731d54dfc12d96",measurementId:"G-YPSF5K73VB"}),uw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();const t=si(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=si(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Fn(n.getOptions(),t??{}))return e;Ci(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Bo,persistence:[Za,Pa,Fa]}),r=xn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Go)return;const r=t?.token;Qo!==r&&(Qo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Wn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Wn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const s=bn("auth");return s&&Qs(n,`http://${s}`),n}(cw),dw=function(e,t){const n="object"==typeof e?e:di(),r="string"==typeof e?e:t||ku,i=si(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=bn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Bg(i,...e)}return i}(cw);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();e=Wn(e);const t=si(e,Pb);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=si(e,Pb);if(n.isInitialized()){const e=n.getImmediate();if(Fn(t,n.getOptions()))return e;throw Mb.create("already-initialized")}const r=n.initialize({options:t})}(e)}(cw);let hw=null;if("undefined"!==typeof window&&"serviceWorker"in navigator)try{hw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return async function(){try{await Pn()}catch(ft){return!1}return"undefined"!==typeof window&&Dn()&&Rn()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then(e=>{if(!e)throw mb.create("unsupported-browser")},e=>{throw mb.create("indexed-db-unsupported")}),si(Wn(e),"messaging").getImmediate()}(cw)}catch(vN){console.log("Messaging not available:",vN)}const fw=async()=>{if(!hw)return null;try{if("granted"===await Notification.requestPermission()){const e=await async function(e,t){return _b(e=Wn(e),t)}(hw,{vapidKey:"your-vapid-key"});return e}}catch(vN){console.error("Error getting notification permission:",vN)}return null};var pw=n(579);const mw=(0,e.createContext)(void 0),gw=()=>{const t=(0,e.useContext)(mw);if(void 0===t)throw new Error("useAuth must be used within an AuthProvider");return t},yw=t=>{let{children:n}=t;const[r,i]=(0,e.useState)(null),[s,a]=(0,e.useState)(null),[o,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=function(e,t,n,r){return Wn(e).onAuthStateChanged(t,n,r)}(uw,async e=>{if(a(e),e){const t=await ev(Qg(dw,"users",e.uid));t.exists()&&i({...t.data(),isEmailVerified:e.emailVerified})}else i(null);l(!1)});return e},[]);const c={currentUser:r,firebaseUser:s,loading:o,signUp:async(e,t,n,r)=>{const i=await Ta(uw,e,t);await Ca(i.user);const s={id:i.user.uid,email:i.user.email,displayName:n,role:r,rating:0,completedJobs:0,createdAt:new Date,isEmailVerified:!1};await rv(Qg(dw,"users",i.user.uid),s)},signIn:async(e,t)=>{await function(e,t,n){return ai(e.app)?Promise.reject(Ai(e)):Ea(Wn(e),ca.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&_a(e),t})}(uw,e,t)},signInWithGoogle:async()=>{const e=new fa,t=await async function(e,t,n){if(ai(e.app))return Promise.reject(ji(e,"operation-not-supported-in-this-environment"));const r=Ls(e);Di(e,t,ua);const i=so(r,n);return new fo(r,"signInViaPopup",t,i).executeNotNull()}(uw,e);if(!(await ev(Qg(dw,"users",t.user.uid))).exists()){const e={id:t.user.uid,email:t.user.email,displayName:t.user.displayName||"Unknown User",photoURL:t.user.photoURL||void 0,role:"worker",rating:0,completedJobs:0,createdAt:new Date,isEmailVerified:t.user.emailVerified};await rv(Qg(dw,"users",t.user.uid),e)}},logout:async()=>{await function(e){return Wn(e).signOut()}(uw)},updateUserProfile:async e=>{if(!r)return;const t=Qg(dw,"users",r.id);await rv(t,{...r,...e},{merge:!0}),i({...r,...e})}};return(0,pw.jsx)(mw.Provider,{value:c,children:!o&&n})};class vw{static async requestPermission(){return await fw()}static async createNotification(e){return(await sv(Gg(dw,"notifications"),{...e,createdAt:uv()})).id}static subscribeToNotifications(e,t){return av(Fy(Gg(dw,"notifications"),Uy("userId","==",e),qy("createdAt","desc")),e=>{const n=[];e.forEach(e=>{var t;n.push({id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date})}),t(n)})}static async markAsRead(e){await iv(Qg(dw,"notifications",e),{isRead:!0})}static async markAllAsRead(e){const t=Fy(Gg(dw,"notifications"),Uy("userId","==",e),Uy("isRead","==",!1)),n=(await nv(t)).docs.map(e=>iv(e.ref,{isRead:!0}));await Promise.all(n)}static async getUnreadCount(e){const t=Fy(Gg(dw,"notifications"),Uy("userId","==",e),Uy("isRead","==",!1));return(await nv(t)).size}static async notifyNewMessage(e,t,n,r){await this.createNotification({userId:e,type:"new-message",title:`Ny melding fra ${t}`,message:n.length>50?`${n.substring(0,50)}...`:n,data:{conversationId:r},isRead:!1})}static async notifyJobApplication(e,t,n,r){await this.createNotification({userId:e,type:"job-request",title:`Ny s\xf8knad p\xe5 "${n}"`,message:`${t} er interessert i \xe5 hjelpe deg med jobben. Klikk for \xe5 se s\xf8knaden og ta en beslutning.`,data:{jobId:r,workerName:t},isRead:!1})}static async notifyApplicationStatus(e,t,n,r){const i="accepted"===n?"application-accepted":"application-rejected",s="accepted"===n?"S\xf8knad godkjent!":"S\xf8knad ikke godkjent",a="accepted"===n?`Gratulerer! Din s\xf8knad p\xe5 "${t}" ble godkjent. Kontakt arbeidsgiveren for \xe5 avtale detaljer.`:`Din s\xf8knad p\xe5 "${t}" ble ikke godkjent denne gangen. Ikke gi opp - det finnes mange andre jobber!`;await this.createNotification({userId:e,type:i,title:s,message:a,data:{jobId:r,status:n},isRead:!1})}static async notifyJobReminder(e,t,n,r){await this.createNotification({userId:e,type:"job-reminder",title:`P\xe5minnelse: ${t}`,message:`Jobben starter om 1 time (${n.toLocaleTimeString("nb-NO",{hour:"2-digit",minute:"2-digit"})}). Husk \xe5 v\xe6re forberedt og ha med n\xf8dvendig utstyr.`,data:{jobId:r,jobDate:n},isRead:!1})}}const bw=(0,e.createContext)(void 0),ww=()=>{const t=(0,e.useContext)(bw);if(void 0===t)throw new Error("useNotifications must be used within a NotificationProvider");return t},xw=t=>{let{children:n}=t;const{currentUser:r}=gw(),[i,s]=(0,e.useState)([]),[a,o]=(0,e.useState)(0);(0,e.useEffect)(()=>{if(!r)return s([]),void o(0);const e=vw.subscribeToNotifications(r.id,e=>{s(e),o(e.filter(e=>!e.isRead).length)});return e},[r]);const l={notifications:i,unreadCount:a,markAsRead:async e=>{try{await vw.markAsRead(e),s(t=>t.map(t=>t.id===e?{...t,isRead:!0}:t)),o(e=>Math.max(0,e-1))}catch(vN){console.error("Error marking notification as read:",vN),dn.error("Kunne ikke markere som lest")}},markAllAsRead:async()=>{if(r)try{await vw.markAllAsRead(r.id),s(e=>e.map(e=>({...e,isRead:!0}))),o(0)}catch(vN){console.error("Error marking all notifications as read:",vN),dn.error("Kunne ikke markere alle som lest")}},requestPermission:async()=>{try{await vw.requestPermission()?dn.success("Varsler aktivert!"):dn.error("Kunne ikke aktivere varsler")}catch(vN){console.error("Error requesting notification permission:",vN),dn.error("Kunne ikke aktivere varsler")}}};return(0,pw.jsx)(bw.Provider,{value:l,children:n})},kw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sw=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ew=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},Nw=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var _w={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tw=(0,e.forwardRef)((t,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...u}=t;return(0,e.createElement)("svg",{ref:n,..._w,width:i,height:i,stroke:r,strokeWidth:a?24*Number(s)/Number(i):s,className:Ew("lucide",o),...!l&&!Nw(u)&&{"aria-hidden":"true"},...u},[...c.map(t=>{let[n,r]=t;return(0,e.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),Cw=(t,n)=>{const r=(0,e.forwardRef)((r,i)=>{let{className:s,...a}=r;return(0,e.createElement)(Tw,{ref:i,iconNode:n,className:Ew(`lucide-${kw(Sw(t))}`,`lucide-${t}`,s),...a})});return r.displayName=Sw(t),r},jw=Cw("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Iw=Cw("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Aw=Cw("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Dw=Cw("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Pw=(Math.pow(10,8),43200),Rw=Symbol.for("constructDateFrom");function Ow(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Rw in e?e[Rw](t):e instanceof Date?new e.constructor(t):new Date(t)}function Mw(e){return Ow(e,Date.now())}const Lw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Fw(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Vw={date:Fw({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Fw({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Fw({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Uw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function zw(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const $w={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:zw({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:zw({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:zw({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:zw({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:zw({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function qw(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(a)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}function Bw(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;return{value:a,rest:t.slice(i.length)}}}const Hw={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=Lw[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Vw,formatRelative:(e,t,n,r)=>Uw[e],localize:$w,match:{ordinalNumber:Bw({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:qw({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:qw({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:qw({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:qw({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:qw({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let Ww={};function Kw(){return Ww}function Gw(e,t){return Ow(t||e,e)}function Qw(e){const t=Gw(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Jw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=Ow.bind(null,e||n.find(e=>"object"===typeof e));return n.map(i)}function Yw(e,t){const n=+Gw(e)-+Gw(t);return n<0?-1:n>0?1:n}function Xw(e,t,n){const[r,i]=Jw(n?.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function Zw(e,t){const n=Gw(e,t?.in);return n.setHours(23,59,59,999),n}function ex(e,t){const n=Gw(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function tx(e,t){const n=Gw(e,t?.in);return+Zw(n,t)===+ex(n,t)}function nx(e,t,n){const[r,i,s]=Jw(n?.in,e,e,t),a=Yw(i,s),o=Math.abs(Xw(i,s));if(o<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=Yw(i,s)===-a;tx(r)&&1===o&&1===Yw(r,s)&&(l=!1);const c=a*(o-+l);return 0===c?0:c}function rx(e,t){return+Gw(e)-+Gw(t)}function ix(e,t,n){const r=rx(e,t)/1e3;return(i=n?.roundingMethod,e=>{const t=(i?Math[i]:Math.trunc)(e);return 0===t?0:t})(r);var i}function sx(e,t,n){const r=Kw(),i=n?.locale??r.locale??Hw,s=Yw(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:s}),[o,l]=Jw(n?.in,...s>0?[t,e]:[e,t]),c=ix(l,o),u=(Qw(l)-Qw(o))/1e3,d=Math.round((c-u)/60);let h;if(d<2)return n?.includeSeconds?c<5?i.formatDistance("lessThanXSeconds",5,a):c<10?i.formatDistance("lessThanXSeconds",10,a):c<20?i.formatDistance("lessThanXSeconds",20,a):c<40?i.formatDistance("halfAMinute",0,a):c<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):0===d?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",d,a);if(d<45)return i.formatDistance("xMinutes",d,a);if(d<90)return i.formatDistance("aboutXHours",1,a);if(d<1440){const e=Math.round(d/60);return i.formatDistance("aboutXHours",e,a)}if(d<2520)return i.formatDistance("xDays",1,a);if(d<Pw){const e=Math.round(d/1440);return i.formatDistance("xDays",e,a)}if(d<86400)return h=Math.round(d/Pw),i.formatDistance("aboutXMonths",h,a);if(h=nx(l,o),h<12){const e=Math.round(d/Pw);return i.formatDistance("xMonths",e,a)}{const e=h%12,t=Math.trunc(h/12);return e<3?i.formatDistance("aboutXYears",t,a):e<9?i.formatDistance("overXYears",t,a):i.formatDistance("almostXYears",t+1,a)}}function ax(e,t){return sx(e,Mw(e),t)}const ox={lessThanXSeconds:{one:"mindre enn ett sekund",other:"mindre enn {{count}} sekunder"},xSeconds:{one:"ett sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minutt",lessThanXMinutes:{one:"mindre enn ett minutt",other:"mindre enn {{count}} minutter"},xMinutes:{one:"ett minutt",other:"{{count}} minutter"},aboutXHours:{one:"omtrent en time",other:"omtrent {{count}} timer"},xHours:{one:"en time",other:"{{count}} timer"},xDays:{one:"en dag",other:"{{count}} dager"},aboutXWeeks:{one:"omtrent en uke",other:"omtrent {{count}} uker"},xWeeks:{one:"en uke",other:"{{count}} uker"},aboutXMonths:{one:"omtrent en m\xe5ned",other:"omtrent {{count}} m\xe5neder"},xMonths:{one:"en m\xe5ned",other:"{{count}} m\xe5neder"},aboutXYears:{one:"omtrent ett \xe5r",other:"omtrent {{count}} \xe5r"},xYears:{one:"ett \xe5r",other:"{{count}} \xe5r"},overXYears:{one:"over ett \xe5r",other:"over {{count}} \xe5r"},almostXYears:{one:"nesten ett \xe5r",other:"nesten {{count}} \xe5r"}},lx={date:Fw({formats:{full:"EEEE d. MMMM y",long:"d. MMMM y",medium:"d. MMM y",short:"dd.MM.y"},defaultWidth:"full"}),time:Fw({formats:{full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Fw({formats:{full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},cx={lastWeek:"'forrige' eeee 'kl.' p",yesterday:"'i g\xe5r kl.' p",today:"'i dag kl.' p",tomorrow:"'i morgen kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"},ux={code:"nb",formatDistance:(e,t,n)=>{let r;const i=ox[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"om "+r:r+" siden":r},formatLong:lx,formatRelative:(e,t,n,r)=>cx[e],localize:{ordinalNumber:(e,t)=>Number(e)+".",era:zw({values:{narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["f\xf8r Kristus","etter Kristus"]},defaultWidth:"wide"}),quarter:zw({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:zw({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],wide:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},defaultWidth:"wide"}),day:zw({values:{narrow:["S","M","T","O","T","F","L"],short:["s\xf8","ma","ti","on","to","fr","l\xf8"],abbreviated:["s\xf8n","man","tir","ons","tor","fre","l\xf8r"],wide:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"]},defaultWidth:"wide"}),dayPeriod:zw({values:{narrow:{am:"a",pm:"p",midnight:"midnatt",noon:"middag",morning:"p\xe5 morg.",afternoon:"p\xe5 etterm.",evening:"p\xe5 kvelden",night:"p\xe5 natten"},abbreviated:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p\xe5 morg.",afternoon:"p\xe5 etterm.",evening:"p\xe5 kvelden",night:"p\xe5 natten"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p\xe5 morgenen",afternoon:"p\xe5 ettermiddagen",evening:"p\xe5 kvelden",night:"p\xe5 natten"}},defaultWidth:"wide"})},match:{ordinalNumber:Bw({matchPattern:/^(\d+)\.?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:qw({matchPatterns:{narrow:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,abbreviated:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,wide:/^(f\xf8r Kristus|f\xf8r v\xe5r tid|etter Kristus|v\xe5r tid)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^f/i,/^e/i]},defaultParseWidth:"any"}),quarter:qw({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? kvartal/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:qw({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mars?|apr|mai|juni?|juli?|aug|sep|okt|nov|des)\.?/i,wide:/^(januar|februar|mars|april|mai|juni|juli|august|september|oktober|november|desember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^aug/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:qw({matchPatterns:{narrow:/^[smtofl]/i,short:/^(s\xf8|ma|ti|on|to|fr|l\xf8)/i,abbreviated:/^(s\xf8n|man|tir|ons|tor|fre|l\xf8r)/i,wide:/^(s\xf8ndag|mandag|tirsdag|onsdag|torsdag|fredag|l\xf8rdag)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},defaultParseWidth:"any"}),dayPeriod:qw({matchPatterns:{narrow:/^(midnatt|middag|(p\xe5) (morgenen|ettermiddagen|kvelden|natten)|[ap])/i,any:/^([ap]\.?\s?m\.?|midnatt|middag|(p\xe5) (morgenen|ettermiddagen|kvelden|natten))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a(\.?\s?m\.?)?$/i,pm:/^p(\.?\s?m\.?)?$/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgen/i,afternoon:/ettermiddag/i,evening:/kveld/i,night:/natt/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},dx=()=>{const{notifications:t,unreadCount:n,markAsRead:r,markAllAsRead:i}=ww(),[s,a]=(0,e.useState)(!1),o=(0,e.useRef)(null);(0,e.useEffect)(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const l=e=>{switch(e){case"new-message":return(0,pw.jsx)(jw,{className:"h-4 w-4"});case"job-request":case"application-accepted":case"application-rejected":return(0,pw.jsx)(Iw,{className:"h-4 w-4"});case"job-reminder":return(0,pw.jsx)(Aw,{className:"h-4 w-4"});default:return(0,pw.jsx)(Dw,{className:"h-4 w-4"})}},c=e=>{switch(e){case"new-message":return"text-blue-600 bg-blue-50";case"application-accepted":return"text-green-600 bg-green-50";case"application-rejected":return"text-red-600 bg-red-50";case"job-request":return"text-orange-600 bg-orange-50";case"job-reminder":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}};return(0,pw.jsxs)("div",{className:"relative",ref:o,children:[(0,pw.jsxs)("button",{onClick:()=>a(!s),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,pw.jsx)(Dw,{className:"h-5 w-5"}),n>0&&(0,pw.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:n>9?"9+":n})]}),s&&(0,pw.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[(0,pw.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,pw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Varsler"}),n>0&&(0,pw.jsx)("button",{onClick:i,className:"text-sm text-primary-600 hover:text-primary-700",children:"Marker alle som lest"})]})}),(0,pw.jsx)("div",{className:"max-h-80 overflow-y-auto",children:0===t.length?(0,pw.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,pw.jsx)(Dw,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),(0,pw.jsx)("p",{children:"Ingen varsler enn\xe5"})]}):(0,pw.jsx)("div",{className:"divide-y divide-gray-100",children:t.map(e=>{const t=(e=>{switch(e.type){case"new-message":return{title:e.title,subtitle:"Ny melding mottatt",description:e.message,action:"Klikk for \xe5 svare"};case"job-request":return{title:e.title,subtitle:"Ny jobbs\xf8knad",description:e.message,action:"Se s\xf8knad"};case"application-accepted":return{title:e.title,subtitle:"S\xf8knad godkjent!",description:e.message,action:"Se jobb"};case"application-rejected":return{title:e.title,subtitle:"S\xf8knad ikke godkjent",description:e.message,action:"Se andre jobber"};case"job-reminder":return{title:e.title,subtitle:"Jobb starter snart",description:e.message,action:"Se detaljer"};default:return{title:e.title,subtitle:"Varsel",description:e.message,action:"Se mer"}}})(e);return(0,pw.jsx)("div",{onClick:()=>(async e=>{var t,n;e.isRead||await r(e.id),a(!1),null!==(t=e.data)&&void 0!==t&&t.conversationId?window.location.href=`/messages?conversation=${e.data.conversationId}`:null!==(n=e.data)&&void 0!==n&&n.jobId&&("job-request"===e.type?window.location.href="/jobs/applications":"application-accepted"===e.type||"application-rejected"===e.type?window.location.href="/jobs/search":"job-reminder"===e.type?window.location.href="/dashboard":window.location.href=`/jobs/${e.data.jobId}`)})(e),className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors "+(e.isRead?"":"bg-blue-50"),children:(0,pw.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,pw.jsx)("div",{className:`p-2 rounded-lg ${c(e.type)}`,children:l(e.type)}),(0,pw.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,pw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pw.jsx)("p",{className:"text-sm font-medium "+(e.isRead?"text-gray-700":"text-gray-900"),children:t.title}),!e.isRead&&(0,pw.jsx)("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})]}),(0,pw.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:t.subtitle}),(0,pw.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:t.description}),(0,pw.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,pw.jsx)("p",{className:"text-xs text-gray-400",children:ax(e.createdAt,{addSuffix:!0,locale:ux})}),(0,pw.jsx)("span",{className:"text-xs text-primary-600 font-medium",children:t.action})]})]})]})},e.id)})})}),t.length>0&&(0,pw.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,pw.jsx)("button",{onClick:()=>window.location.href="/notifications",className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Se alle varsler"})})]})]})},hx=Cw("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),fx=Cw("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),px=Cw("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),mx=Cw("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),gx=Cw("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),yx=Cw("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vx=Cw("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),bx=Cw("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),wx=Cw("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),xx=Cw("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kx=Cw("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Sx=()=>{const{currentUser:t,logout:n}=gw(),r=te(),[i,s]=(0,e.useState)(!1),[a,o]=(0,e.useState)(!1),l=[{name:"Hjem",href:"/",icon:hx}],c=[...l,{name:"Dashboard",href:"/dashboard",icon:fx},{name:"Se jobber",href:"/jobs",icon:Iw},{name:"Publiser jobb",href:"/jobs/new",icon:px},{name:"S\xf8knader",href:"/jobs/applications",icon:mx},{name:"Meldinger",href:"/messages",icon:gx}],u=t?c:l;return(0,pw.jsxs)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:[(0,pw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pw.jsxs)("div",{className:"flex justify-between h-16",children:[(0,pw.jsx)("div",{className:"flex items-center",children:(0,pw.jsx)(st,{to:"/",className:"flex-shrink-0 flex items-center",children:(0,pw.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:"UngService"})})}),(0,pw.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:u.map(e=>(0,pw.jsxs)(st,{to:e.href,className:"flex items-center text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:[(0,pw.jsx)(e.icon,{className:"h-5 w-5 mr-2"}),e.name]},e.name))}),(0,pw.jsxs)("div",{className:"flex items-center space-x-4",children:[t&&(0,pw.jsx)(dx,{}),t?(0,pw.jsxs)("div",{className:"relative",children:[(0,pw.jsxs)("button",{onClick:()=>o(!a),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 transition-colors",children:[t.photoURL?(0,pw.jsx)("img",{className:"h-8 w-8 rounded-full",src:t.photoURL,alt:t.displayName}):(0,pw.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:(0,pw.jsx)(yx,{className:"h-5 w-5 text-primary-600"})}),(0,pw.jsx)("span",{className:"hidden md:block text-sm font-medium",children:t.displayName})]}),a&&(0,pw.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[(0,pw.jsxs)(st,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:[(0,pw.jsx)(yx,{className:"h-4 w-4 mr-3"}),"Min profil"]}),(0,pw.jsxs)(st,{to:"/notifications/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:[(0,pw.jsx)(vx,{className:"h-4 w-4 mr-3"}),"Varselinnstillinger"]}),(0,pw.jsxs)("button",{onClick:async()=>{try{await n(),r("/")}catch(vN){console.error("Logout failed:",vN)}},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,pw.jsx)(bx,{className:"h-4 w-4 mr-3"}),"Logg ut"]})]})]}):(0,pw.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,pw.jsxs)(st,{to:"/login",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center",children:[(0,pw.jsx)(wx,{className:"h-5 w-5 mr-2"}),"Logg inn"]}),(0,pw.jsx)(st,{to:"/signup",className:"btn-primary text-sm",children:"Registrer deg"})]}),(0,pw.jsx)("button",{onClick:()=>s(!i),className:"md:hidden p-2 text-gray-700 hover:text-primary-600 transition-colors",children:i?(0,pw.jsx)(xx,{className:"h-6 w-6"}):(0,pw.jsx)(kx,{className:"h-6 w-6"})})]})]})}),i&&(0,pw.jsx)("div",{className:"md:hidden",children:(0,pw.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t border-gray-200",children:[u.map(e=>(0,pw.jsxs)(st,{to:e.href,className:"flex items-center text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>s(!1),children:[(0,pw.jsx)(e.icon,{className:"h-5 w-5 mr-3"}),e.name]},e.name)),!t&&(0,pw.jsx)(pw.Fragment,{children:(0,pw.jsxs)("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[(0,pw.jsxs)(st,{to:"/login",className:"flex items-center text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>s(!1),children:[(0,pw.jsx)(wx,{className:"h-5 w-5 mr-3"}),"Logg inn"]}),(0,pw.jsxs)(st,{to:"/signup",className:"flex items-center text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>s(!1),children:[(0,pw.jsx)(yx,{className:"h-5 w-5 mr-3"}),"Registrer deg"]})]})})]})})]})};class Ex{static async createJob(e){try{if(console.log("JobService.createJob called with data:",e),!e.title||!e.description||!e.categories)throw new Error("Missing required fields: title, description, or categories");const t={...e,createdAt:uv(),updatedAt:uv()};console.log("Job data to save:",t);const n=await sv(Gg(dw,"jobs"),t);console.log("Job created successfully with ID:",n.id);const r=await ev(n);return console.log("Saved job data:",r.data()),n.id}catch(vN){throw console.error("Error in JobService.createJob:",vN),vN}}static async applyForJob(e,t,n){try{var r;if(console.log("Applying for job:",e,"by worker:",t),!e||!t)throw new Error("Manglende jobb ID eller bruker ID");const s=await ev(Qg(dw,"jobs",e));if(!s.exists())throw new Error("Jobb ikke funnet");const a=s.data();console.log("Job found:",a.title);const o=await ev(Qg(dw,"users",t));if(!o.exists())throw new Error("Bruker ikke funnet");const l=o.data();console.log("Worker found:",l.displayName);if(await this.hasUserApplied(e,t))throw new Error("Du har allerede s\xf8kt p\xe5 denne jobben");const c={id:o.id,email:l.email||"",displayName:l.displayName||"Ukjent bruker",photoURL:l.photoURL,role:l.role||"worker",bio:l.bio,phone:l.phone,age:l.age,address:l.address,city:l.city,experience:l.experience,skills:l.skills||[],location:l.location,rating:l.rating||0,completedJobs:l.completedJobs||0,createdAt:(null===(r=l.createdAt)||void 0===r?void 0:r.toDate())||new Date,isEmailVerified:l.isEmailVerified||!1},u={jobId:e,workerId:t,worker:c,status:"pending",message:n||"Jeg er interessert i denne jobben"};console.log("Creating application with data:",u);const d=await sv(Gg(dw,"jobApplications"),{...u,createdAt:uv()});console.log("Application created with ID:",d.id),await iv(Qg(dw,"jobs",e),{applicants:[...a.applicants||[],t],updatedAt:uv()});try{await vw.notifyJobApplication(a.employerId,c.displayName,a.title,e),console.log("Notification sent to employer")}catch(i){console.error("Failed to send notification:",i)}return d.id}catch(vN){throw console.error("Error applying for job:",vN),vN}}static subscribeToJobApplications(e,t){return av(Fy(Gg(dw,"jobApplications"),Uy("jobId","==",e),qy("createdAt","desc")),e=>{const n=[];e.forEach(e=>{var t;n.push({id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date})}),t(n)})}static subscribeToWorkerApplications(e,t){return av(Fy(Gg(dw,"jobApplications"),Uy("workerId","==",e),qy("createdAt","desc")),e=>{const n=[];e.forEach(e=>{var t;n.push({id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date})}),t(n)})}static subscribeToJobs(e){try{console.log("Setting up job subscription...");return av(Fy(Gg(dw,"jobs"),qy("createdAt","desc")),t=>{console.log("Job snapshot received:",t.size,"jobs"),console.log("Snapshot changes:",t.docChanges().map(e=>({type:e.type,docId:e.doc.id,data:e.doc.data()})));const n=[];t.forEach(e=>{try{var t,r;const i=e.data();if(console.log("Processing job document:",e.id,i),console.log("Job status:",i.status),!i.title||!i.description||!i.categories)return void console.warn("Job document missing required fields:",e.id,i);n.push({id:e.id,title:i.title,description:i.description,categories:i.categories,jobType:i.jobType,priceType:i.priceType,requirements:i.requirements,location:i.location,numberOfWorkers:i.numberOfWorkers,expectedDuration:i.expectedDuration,wage:i.wage,employerId:i.employerId,employer:i.employer,status:i.status,applicants:i.applicants||[],createdAt:(null===(t=i.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(r=i.updatedAt)||void 0===r?void 0:r.toDate())||new Date})}catch(i){console.error("Error processing job document:",e.id,i)}}),console.log("Processed jobs:",n.length),console.log("Jobs statuses:",n.map(e=>({id:e.id,status:e.status,title:e.title}))),e(n)},t=>{console.error("Error in job subscription:",t),e([])})}catch(vN){return console.error("Error setting up job subscription:",vN),e([]),()=>{}}}static async updateApplicationStatus(e,t){const n=await ev(Qg(dw,"jobApplications",e));if(!n.exists())throw new Error("Application not found");const r=n.data();await iv(Qg(dw,"jobApplications",e),{status:t,updatedAt:uv()});const i=await ev(Qg(dw,"jobs",r.jobId));if(i.exists()){const e=i.data();await vw.notifyApplicationStatus(r.workerId,e.title,t,r.jobId),"accepted"===t&&await iv(Qg(dw,"jobs",r.jobId),{status:"in-progress",assignedWorker:r.workerId,updatedAt:uv()})}}static async hasUserApplied(e,t){const n=Fy(Gg(dw,"jobApplications"),Uy("jobId","==",e),Uy("workerId","==",t));return!(await nv(n)).empty}static async getApplicationStatus(e,t){const n=Fy(Gg(dw,"jobApplications"),Uy("jobId","==",e),Uy("workerId","==",t)),r=await nv(n);if(r.empty)return null;return r.docs[0].data().status}static async getApplicationsForEmployer(e){try{const n=Fy(Gg(dw,"jobs"),Uy("employerId","==",e)),r=(await nv(n)).docs.map(e=>e.id);if(0===r.length)return[];const i=[];for(let e=0;e<r.length;e+=10){const n=r.slice(e,e+10),s=Fy(Gg(dw,"jobApplications"),Uy("jobId","in",n)),a=await nv(s);for(const e of a.docs){var t;const n=e.data();i.push({id:e.id,jobId:n.jobId,workerId:n.workerId,worker:n.worker,status:n.status,message:n.message,createdAt:(null===(t=n.createdAt)||void 0===t?void 0:t.toDate())||new Date})}}return i.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())}catch(vN){throw console.error("Error getting applications for employer:",vN),vN}}static async getJobById(e){try{var t,n;if(console.log("Getting job by ID:",e),!e)throw new Error("Job ID is required");console.log("Fetching document from Firestore...");const r=await ev(Qg(dw,"jobs",e));if(console.log("Job document exists:",r.exists()),console.log("Job document ID:",r.id),!r.exists()){console.log("Job document does not exist for ID:",e),console.log("Available documents in jobs collection:");const t=Fy(Gg(dw,"jobs")),n=await nv(t);throw console.log("Total jobs in collection:",n.size),n.forEach(e=>{console.log("Job ID:",e.id,"Title:",e.data().title)}),new Error("Job not found")}const i=r.data();if(console.log("Job data retrieved:",i),!i.title||!i.description||!i.categories)throw console.error("Job data missing required fields:",i),console.error("Title:",i.title),console.error("Description:",i.description),console.error("Categories:",i.categories),new Error("Job data is incomplete");const s={id:r.id,title:i.title,description:i.description,categories:i.categories,jobType:i.jobType,priceType:i.priceType,requirements:i.requirements,location:i.location,numberOfWorkers:i.numberOfWorkers,expectedDuration:i.expectedDuration,wage:i.wage,employerId:i.employerId,employer:i.employer,status:i.status,applicants:i.applicants||[],createdAt:(null===(t=i.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(n=i.updatedAt)||void 0===n?void 0:n.toDate())||new Date};return console.log("Processed job:",s),s}catch(vN){throw console.error("Error getting job by ID:",vN),vN}}static async getCompletedJobs(e){const t=Fy(Gg(dw,"jobs"),Uy("status","==","completed"),Uy("assignedWorker","==",e),qy("createdAt","desc")),n=await nv(t),r=[];return n.forEach(e=>{var t,n;const i=e.data();r.push({id:e.id,title:i.title,description:i.description,categories:i.categories,jobType:i.jobType,priceType:i.priceType,requirements:i.requirements,location:i.location,numberOfWorkers:i.numberOfWorkers,expectedDuration:i.expectedDuration,wage:i.wage,employerId:i.employerId,employer:i.employer,status:i.status,applicants:i.applicants||[],createdAt:(null===(t=i.createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(n=i.updatedAt)||void 0===n?void 0:n.toDate())||new Date})}),r}static async markJobAsCompleted(e){await iv(Qg(dw,"jobs",e),{status:"completed",updatedAt:uv()})}}const Nx=Cw("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),_x=Cw("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Tx=Cw("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Cx=Cw("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),jx=Cw("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),Ix=t=>{let{job:n,showApplyButton:r=!0,onApply:i,isApplied:s=!1}=t;const{currentUser:a}=gw(),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(!1),d=(0,e.useCallback)(async()=>{try{const e=await Ex.getApplicationStatus(n.id,a.id);l(e)}catch(vN){console.error("Error checking application status:",vN)}},[a,n.id]);(0,e.useEffect)(()=>{a&&"worker"===a.role&&d()},[a,n.id,d]);const h=e=>{switch(e){case"grass-cutting":return"\ud83c\udf3f";case"weed-removal":return"\ud83c\udf31";case"bark-soil":return"\ud83e\udeb4";case"hedge-trimming":return"\ud83c\udf33";case"trash-removal":return"\ud83d\uddd1\ufe0f";case"washing":return"\ud83d\udca6";case"cleaning":return"\ud83e\uddf9";case"window-washing":return"\ud83e\ude9f";case"carrying":return"\ud83d\udcaa";case"painting":return"\ud83c\udfa8";case"staining":return"\ud83e\udeb5";case"repair":return"\ud83d\udd27";case"tidying":case"moving-help":return"\ud83d\udce6";case"car-washing":return"\ud83d\ude97";case"snow-shoveling":return"\u2744\ufe0f";case"salt-sand":return"\ud83e\uddc2";case"pet-sitting":return"\ud83d\udc15";default:return"\u2728"}},f=e=>{switch(e){case"grass-cutting":return"Klippe gress";case"weed-removal":return"Fjerne ugress";case"bark-soil":return"Legge bark eller ny jord";case"hedge-trimming":return"Klippe hekk";case"trash-removal":return"Kj\xf8re s\xf8ppel";case"washing":return"Spyle";case"cleaning":return"Rengj\xf8re";case"window-washing":return"Vaske vinduer";case"carrying":return"B\xe6rejobb";case"painting":return"Male";case"staining":return"Beise";case"repair":return"Reparere";case"tidying":return"Rydde";case"car-washing":return"Vaske bilen";case"snow-shoveling":return"Sn\xf8m\xe5king";case"moving-help":return"Hjelpe med flytting";case"salt-sand":return"Str\xf8 med sand / salt";case"pet-sitting":return"Dyrepass";default:return"Annet"}};return(0,pw.jsxs)("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:[(0,pw.jsxs)(st,{to:`/jobs/${n.id}`,className:"block",children:[(0,pw.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,pw.jsxs)("div",{className:"flex-1",children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-2",children:n.title}),(0,pw.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,pw.jsx)(yx,{className:"h-4 w-4 mr-1"}),(0,pw.jsx)(st,{to:`/profile/${n.employer.id}`,onClick:e=>e.stopPropagation(),className:"hover:text-primary-600 transition-colors",children:n.employer.displayName}),(0,pw.jsxs)("div",{className:"flex items-center ml-2",children:[(0,pw.jsx)(Nx,{className:"h-3 w-3 text-yellow-400 mr-1"}),(0,pw.jsx)("span",{className:"text-xs",children:n.employer.rating.toFixed(1)})]})]})]})}),(0,pw.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,pw.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:(m=n.jobType,"one-time"===m?"Engangsjobb":"Gjentakende")}),(0,pw.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:(p=n.priceType,"hourly"===p?"Timebetalt":"Fastpris")})]}),(0,pw.jsx)("div",{className:"mb-4",children:(0,pw.jsxs)("div",{className:"flex flex-wrap gap-1",children:[n.categories.slice(0,3).map((e,t)=>(0,pw.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:[(0,pw.jsx)("span",{className:"mr-1",children:h(e)}),f(e)]},t)),n.categories.length>3&&(0,pw.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:["+",n.categories.length-3," flere"]})]})}),(0,pw.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,pw.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,pw.jsx)(_x,{className:"h-4 w-4 mr-2"}),(0,pw.jsx)("span",{className:"line-clamp-1",children:n.location.address})]}),(0,pw.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,pw.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,pw.jsx)(Aw,{className:"h-4 w-4 mr-2"}),(0,pw.jsxs)("span",{children:[n.expectedDuration," timer"]})]}),(0,pw.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,pw.jsx)(yx,{className:"h-4 w-4 mr-2"}),(0,pw.jsxs)("span",{children:[n.numberOfWorkers," ",1===n.numberOfWorkers?"arbeider":"arbeidere"]})]})]}),(0,pw.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,pw.jsxs)("div",{className:"flex items-center font-semibold text-primary-600",children:[(0,pw.jsx)(Tx,{className:"h-4 w-4 mr-1"}),(0,pw.jsx)("span",{children:"hourly"===n.priceType?`${n.wage} kr/timen${n.numberOfWorkers>1?" per arbeider":""}`:`${n.wage} kr${n.numberOfWorkers>1?" fordelt":""}`})]})})]}),(0,pw.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[n.requirements.carRequired&&(0,pw.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,pw.jsx)(Cx,{className:"h-3 w-3 mr-1"}),(0,pw.jsx)("span",{children:"Bil kreves"})]}),"no"!==n.requirements.equipmentRequired&&(0,pw.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,pw.jsx)(jx,{className:"h-3 w-3 mr-1"}),(0,pw.jsx)("span",{children:(e=>{switch(e){case"yes":return"Utstyr kreves";case"some":return"Noe utstyr";case"no":return"Ingen utstyr";default:return""}})(n.requirements.equipmentRequired)})]})]})]}),(0,pw.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[r&&"worker"===(null===a||void 0===a?void 0:a.role)&&(0,pw.jsx)("button",{onClick:async()=>{if(a&&"worker"===a.role)if(o)dn.error("Du har allerede s\xf8kt p\xe5 denne jobben");else{u(!0);try{await Ex.applyForJob(n.id,a.id),l("pending"),dn.success("S\xf8knad sendt! Arbeidsgiveren vil bli varslet.")}catch(vN){console.error("Error applying for job:",vN),vN.message.includes("permissions")?dn.error("Tillatelse feilet. Pr\xf8v \xe5 logge inn p\xe5 nytt."):vN.message.includes("allerede s\xf8kt")?(dn.error("Du har allerede s\xf8kt p\xe5 denne jobben"),l("pending")):dn.error("Kunne ikke sende s\xf8knad. Pr\xf8v igjen senere.")}finally{u(!1)}}else dn.error("Du m\xe5 v\xe6re innlogget som arbeidstaker for \xe5 s\xf8ke p\xe5 jobber")},disabled:c||null!==o,className:"text-sm px-4 py-2 rounded-lg font-medium transition-colors "+("pending"===o?"bg-yellow-100 text-yellow-800":"accepted"===o?"bg-green-100 text-green-800":"rejected"===o?"bg-red-100 text-red-800":c?"bg-gray-100 text-gray-400 cursor-not-allowed":"btn-primary"),children:c?"Sender...":"pending"===o?"S\xf8knad sendt":"accepted"===o?"Godkjent":"rejected"===o?"Ikke godkjent":"S\xf8k"}),a&&a.id!==n.employerId&&(0,pw.jsxs)(st,{to:`/messages?user=${n.employerId}&jobId=${n.id}`,className:"text-sm px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:[(0,pw.jsx)(gx,{className:"h-4 w-4 mr-1 inline"}),"Melding"]})]})]});var p,m};class Ax{static async getStats(){try{const e=Fy(Gg(dw,"jobs"),Uy("status","==","open")),t=(await cv(e)).data().count,n=(await cv(Gg(dw,"users"))).data().count,r=Fy(Gg(dw,"jobs"),Uy("status","==","completed")),i=(await cv(r)).data().count,s=Fy(Gg(dw,"users")),a=await nv(s);let o=0,l=0;a.forEach(e=>{const t=e.data();t.rating&&t.rating>0&&(o+=t.rating,l++)});return{activeJobs:t,registeredUsers:n,completedJobs:i,averageRating:l>0?Math.round(o/l*10)/10:0}}catch(vN){return console.error("Error fetching stats:",vN),{activeJobs:0,registeredUsers:0,completedJobs:0,averageRating:0}}}}const Dx=Cw("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Px=Cw("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Rx=Cw("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Ox=()=>{const{currentUser:t}=gw(),[n]=(0,e.useState)([]),[r,i]=(0,e.useState)({activeJobs:0,registeredUsers:0,completedJobs:0,averageRating:0}),[s,a]=(0,e.useState)(!0);(0,e.useEffect)(()=>{(async()=>{try{console.log("Loading stats...");const e=await Ax.getStats();console.log("Stats loaded:",e),i(e)}catch(vN){console.error("Error loading stats:",vN),i({activeJobs:0,registeredUsers:0,completedJobs:0,averageRating:0})}finally{a(!1)}})()},[]);const o=e=>{t?console.log("Applying for job:",e):window.location.href="/#/login"},l=[{label:"Aktive jobber",value:r.activeJobs.toString(),icon:Iw},{label:"Registrerte brukere",value:r.registeredUsers.toLocaleString(),icon:Dx},{label:"Fullf\xf8rte jobber",value:r.completedJobs.toLocaleString(),icon:Px},{label:"Gjennomsnittlig rating",value:r.averageRating.toString(),icon:Nx}];return(0,pw.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,pw.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white",children:(0,pw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Finn sm\xe5jobber utend\xf8rs"}),(0,pw.jsx)("p",{className:"text-xl md:text-2xl mb-8 text-primary-100",children:"Koble sammen arbeidsgivere og ungdom for enklere hagearbeid, sn\xf8m\xe5king og mer"}),(0,pw.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:t?(0,pw.jsxs)(pw.Fragment,{children:[(0,pw.jsxs)(st,{to:"/jobs",className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center",children:[(0,pw.jsx)(Rx,{className:"mr-2 h-5 w-5"}),"Se jobber"]}),(0,pw.jsxs)(st,{to:"/jobs/new",className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center",children:[(0,pw.jsx)(px,{className:"mr-2 h-5 w-5"}),"Publiser jobb"]})]}):(0,pw.jsxs)(pw.Fragment,{children:[(0,pw.jsx)(st,{to:"/signup",className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Kom i gang"}),(0,pw.jsx)(st,{to:"/login",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-primary-600 transition-colors",children:"Logg inn"})]})})]})})}),(0,pw.jsx)("div",{className:"bg-white py-12",children:(0,pw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,pw.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:l.map((e,t)=>(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)("div",{className:"flex justify-center mb-2",children:(0,pw.jsx)(e.icon,{className:"h-8 w-8 text-primary-600"})}),(0,pw.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s?(0,pw.jsx)("div",{className:"animate-pulse bg-gray-200 h-8 w-16 rounded mx-auto"}):e.value}),(0,pw.jsx)("div",{className:"text-sm text-gray-600",children:e.label})]},t))})})}),(0,pw.jsx)("div",{className:"py-16",children:(0,pw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,pw.jsxs)("div",{className:"text-center mb-12",children:[(0,pw.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Aktuelle jobber"}),(0,pw.jsx)("p",{className:"text-lg text-gray-600",children:"Se de siste jobbene som er publisert"})]}),0===n.length?(0,pw.jsxs)("div",{className:"text-center py-12",children:[(0,pw.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,pw.jsx)(Iw,{className:"h-8 w-8 text-gray-400"})}),(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ingen jobber funnet"}),(0,pw.jsx)("p",{className:"text-gray-500",children:"Det er ingen jobber publisert akkurat n\xe5. Sjekk tilbake senere!"})]}):(0,pw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>(0,pw.jsx)(Ix,{job:e,showApplyButton:"worker"===(null===t||void 0===t?void 0:t.role),onApply:o},e.id))}),(0,pw.jsx)("div",{className:"text-center mt-8",children:(0,pw.jsxs)(st,{to:"/jobs",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors",children:["Se alle jobber",(0,pw.jsx)(Rx,{className:"ml-2 h-4 w-4"})]})})]})}),(0,pw.jsx)("div",{className:"bg-white py-16",children:(0,pw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,pw.jsxs)("div",{className:"text-center mb-12",children:[(0,pw.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Slik fungerer det"}),(0,pw.jsx)("p",{className:"text-lg text-gray-600",children:"Enkelt og raskt for b\xe5de arbeidsgivere og arbeidstakere"})]}),(0,pw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,pw.jsx)(px,{className:"h-8 w-8 text-primary-600"})}),(0,pw.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"1. Publiser jobb"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Som arbeidsgiver kan du enkelt publisere jobber med detaljer, pris og krav."})]}),(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,pw.jsx)(Dx,{className:"h-8 w-8 text-primary-600"})}),(0,pw.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"2. Finn arbeidstaker"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Ungdom i ditt omr\xe5de kan s\xf8ke p\xe5 jobbene dine og ta kontakt."})]}),(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,pw.jsx)(Nx,{className:"h-8 w-8 text-primary-600"})}),(0,pw.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"3. Fullf\xf8r jobb"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Jobben blir utf\xf8rt og begge parter kan gi tilbakemelding."})]})]})]})})]})};var Mx=e=>"checkbox"===e.type,Lx=e=>e instanceof Date,Fx=e=>null==e;const Vx=e=>"object"===typeof e;var Ux=e=>!Fx(e)&&!Array.isArray(e)&&Vx(e)&&!Lx(e),zx=e=>Ux(e)&&e.target?Mx(e.target)?e.target.checked:e.target.value:e,$x=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),qx="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Bx(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(qx&&(e instanceof Blob||r)||!n&&!Ux(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return Ux(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Bx(e[n]));else t=e}return t}var Hx=e=>/^\w*$/.test(e),Wx=e=>void 0===e,Kx=e=>Array.isArray(e)?e.filter(Boolean):[],Gx=e=>Kx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Qx=(e,t,n)=>{if(!t||!Ux(e))return n;const r=(Hx(t)?[t]:Gx(t)).reduce((e,t)=>Fx(e)?e:e[t],e);return Wx(r)||r===e?Wx(e[t])?n:e[t]:r},Jx=e=>"boolean"===typeof e,Yx=(e,t,n)=>{let r=-1;const i=Hx(t)?[t]:Gx(t),s=i.length,a=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==a){const n=e[t];s=Ux(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const Xx="blur",Zx="focusout",ek="onBlur",tk="onChange",nk="onSubmit",rk="onTouched",ik="all",sk="max",ak="min",ok="maxLength",lk="minLength",ck="pattern",uk="required",dk="validate",hk=e.createContext(null);hk.displayName="HookFormContext";var fk=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==ik&&(t._proxyFormState[i]=!r||ik),n&&(n[i]=!0),e[i]}});return i};const pk="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;var mk=e=>"string"===typeof e,gk=(e,t,n,r,i)=>mk(e)?(r&&t.watch.add(e),Qx(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),Qx(n,e))):(r&&(t.watchAll=!0),n),yk=e=>Fx(e)||!Vx(e);function vk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(yk(e)||yk(t))return e===t;if(Lx(e)&&Lx(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const r=e[s];if(!i.includes(s))return!1;if("ref"!==s){const e=t[s];if(Lx(r)&&Lx(e)||Ux(r)&&Ux(e)||Array.isArray(r)&&Array.isArray(e)?!vk(r,e,n):r!==e)return!1}}return!0}var bk=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},wk=e=>Array.isArray(e)?e:[e],xk=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},kk=e=>Ux(e)&&!Object.keys(e).length,Sk=e=>"file"===e.type,Ek=e=>"function"===typeof e,Nk=e=>{if(!qx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},_k=e=>"select-multiple"===e.type,Tk=e=>"radio"===e.type,Ck=e=>Nk(e)&&e.isConnected;function jk(e,t){const n=Array.isArray(t)?t:Hx(t)?[t]:Gx(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Wx(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(Ux(r)&&kk(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Wx(e[t]))return!1;return!0}(r))&&jk(e,n.slice(0,-1)),e}var Ik=e=>{for(const t in e)if(Ek(e[t]))return!0;return!1};function Ak(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(Ux(e)||n)for(const r in e)Array.isArray(e[r])||Ux(e[r])&&!Ik(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ak(e[r],t[r])):Fx(e[r])||(t[r]=!0);return t}function Dk(e,t,n){const r=Array.isArray(e);if(Ux(e)||r)for(const i in e)Array.isArray(e[i])||Ux(e[i])&&!Ik(e[i])?Wx(t)||yk(n[i])?n[i]=Array.isArray(e[i])?Ak(e[i],[]):{...Ak(e[i])}:Dk(e[i],Fx(t)?{}:t[i],n[i]):n[i]=!vk(e[i],t[i]);return n}var Pk=(e,t)=>Dk(e,t,Ak(t));const Rk={value:!1,isValid:!1},Ok={value:!0,isValid:!0};var Mk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wx(e[0].attributes.value)?Wx(e[0].value)||""===e[0].value?Ok:{value:e[0].value,isValid:!0}:Ok:Rk}return Rk},Lk=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return Wx(e)?e:n?""===e?NaN:e?+e:e:r&&mk(e)?new Date(e):i?i(e):e};const Fk={isValid:!1,value:null};var Vk=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Fk):Fk;function Uk(e){const t=e.ref;return Sk(t)?t.files:Tk(t)?Vk(e.refs).value:_k(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):Mx(t)?Mk(e.refs).value:Lk(Wx(t.value)?e.ref.value:t.value,e)}var zk=e=>e instanceof RegExp,$k=e=>Wx(e)?e:zk(e)?e.source:Ux(e)?zk(e.value)?e.value.source:e.value:e,qk=e=>({isOnSubmit:!e||e===nk,isOnBlur:e===ek,isOnChange:e===tk,isOnAll:e===ik,isOnTouch:e===rk});const Bk="AsyncFunction";var Hk=e=>!!e&&!!e.validate&&!!(Ek(e.validate)&&e.validate.constructor.name===Bk||Ux(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Bk)),Wk=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Kk=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=Qx(e,i);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Kk(s,t))break}else if(Ux(s)&&Kk(s,t))break}}};function Gk(e,t,n){const r=Qx(e,n);if(r||Hx(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=Qx(t,r),a=Qx(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};if(a&&a.root&&a.root.type)return{name:`${r}.root`,error:a.root};i.pop()}return{name:n}}var Qk=(e,t,n)=>{const r=wk(Qx(e,n));return Yx(r,"root",t[n]),Yx(e,n,r),e},Jk=e=>mk(e);function Yk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Jk(e)||Array.isArray(e)&&e.every(Jk)||Jx(e)&&!e)return{type:n,message:Jk(e)?e:"",ref:t}}var Xk=e=>Ux(e)&&!zk(e)?e:{value:e,message:""},Zk=async(e,t,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:m,valueAsNumber:g,mount:y}=e._f,v=Qx(n,m);if(!y||t.has(m))return{};const b=o?o[0]:a,w=e=>{i&&b.reportValidity&&(b.setCustomValidity(Jx(e)?"":e||""),b.reportValidity())},x={},k=Tk(a),S=Mx(a),E=k||S,N=(g||Sk(a))&&Wx(a.value)&&Wx(v)||Nk(a)&&""===a.value||""===v||Array.isArray(v)&&!v.length,_=bk.bind(null,m,r,x),T=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ok,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lk;const s=e?t:n;x[m]={type:e?r:i,message:s,ref:a,..._(e?r:i,s)}};if(s?!Array.isArray(v)||!v.length:l&&(!E&&(N||Fx(v))||Jx(v)&&!v||S&&!Mk(o).isValid||k&&!Vk(o).isValid)){const{value:e,message:t}=Jk(l)?{value:!!l,message:l}:Xk(l);if(e&&(x[m]={type:uk,message:t,ref:b,..._(uk,t)},!r))return w(t),x}if(!N&&(!Fx(d)||!Fx(h))){let e,t;const n=Xk(h),i=Xk(d);if(Fx(v)||isNaN(v)){const r=a.valueAsDate||new Date(v),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;mk(n.value)&&v&&(e=o?s(v)>s(n.value):l?v>n.value:r>new Date(n.value)),mk(i.value)&&v&&(t=o?s(v)<s(i.value):l?v<i.value:r<new Date(i.value))}else{const r=a.valueAsNumber||(v?+v:v);Fx(n.value)||(e=r>n.value),Fx(i.value)||(t=r<i.value)}if((e||t)&&(T(!!e,n.message,i.message,sk,ak),!r))return w(x[m].message),x}if((c||u)&&!N&&(mk(v)||s&&Array.isArray(v))){const e=Xk(c),t=Xk(u),n=!Fx(e.value)&&v.length>+e.value,i=!Fx(t.value)&&v.length<+t.value;if((n||i)&&(T(n,e.message,t.message),!r))return w(x[m].message),x}if(f&&!N&&mk(v)){const{value:e,message:t}=Xk(f);if(zk(e)&&!v.match(e)&&(x[m]={type:ck,message:t,ref:a,..._(ck,t)},!r))return w(t),x}if(p)if(Ek(p)){const e=Yk(await p(v,n),b);if(e&&(x[m]={...e,..._(dk,e.message)},!r))return w(e.message),x}else if(Ux(p)){let e={};for(const t in p){if(!kk(e)&&!r)break;const i=Yk(await p[t](v,n),b,t);i&&(e={...i,..._(t,i.message)},w(i.message),r&&(x[m]=e))}if(!kk(e)&&(x[m]={ref:b,...e},!r))return x}return w(!0),x};const eS={mode:nk,reValidateMode:tk,shouldFocusError:!0};function tS(){let e,t={...eS,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ek(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(Ux(t.defaultValues)||Ux(t.values))&&Bx(t.defaultValues||t.values)||{},s=t.shouldUnregister?{}:Bx(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...c};const d={array:xk(),state:xk()},h=t.criteriaMode===ik,f=async e=>{if(!t.disabled&&(c.isValid||u.isValid||e)){const e=t.resolver?kk((await v()).errors):await b(r,!0);e!==n.isValid&&d.state.next({isValid:e})}},p=(e,r)=>{!t.disabled&&(c.isValidating||c.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(o.mount)).forEach(e=>{e&&(r?Yx(n.validatingFields,e,r):jk(n.validatingFields,e))}),d.state.next({validatingFields:n.validatingFields,isValidating:!kk(n.validatingFields)}))},m=(e,t,n,o)=>{const l=Qx(r,e);if(l){const r=Qx(s,e,Wx(n)?Qx(i,e):n);Wx(r)||o&&o.defaultChecked||t?Yx(s,e,t?r:Uk(l._f)):k(e,r),a.mount&&f()}},g=(e,r,s,a,o)=>{let l=!1,h=!1;const f={name:e};if(!t.disabled){if(!s||a){(c.isDirty||u.isDirty)&&(h=n.isDirty,n.isDirty=f.isDirty=w(),l=h!==f.isDirty);const t=vk(Qx(i,e),r);h=!!Qx(n.dirtyFields,e),t?jk(n.dirtyFields,e):Yx(n.dirtyFields,e,!0),f.dirtyFields=n.dirtyFields,l=l||(c.dirtyFields||u.dirtyFields)&&h!==!t}if(s){const t=Qx(n.touchedFields,e);t||(Yx(n.touchedFields,e,s),f.touchedFields=n.touchedFields,l=l||(c.touchedFields||u.touchedFields)&&t!==s)}l&&o&&d.state.next(f)}return l?f:{}},y=(r,i,s,a)=>{const o=Qx(n.errors,r),h=(c.isValid||u.isValid)&&Jx(i)&&n.isValid!==i;if(t.delayError&&s?(e=(e=>t=>{clearTimeout(l),l=setTimeout(e,t)})(()=>((e,t)=>{Yx(n.errors,e,t),d.state.next({errors:n.errors})})(r,s)),e(t.delayError)):(clearTimeout(l),e=null,s?Yx(n.errors,r,s):jk(n.errors,r)),(s?!vk(o,s):o)||!kk(a)||h){const e={...a,...h&&Jx(i)?{isValid:i}:{},errors:n.errors,name:r};n={...n,...e},d.state.next(e)}},v=async e=>{p(e,!0);const n=await t.resolver(s,t.context,((e,t,n,r)=>{const i={};for(const s of e){const e=Qx(t,s);e&&Yx(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return p(e),n},b=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const a in e){const l=e[a];if(l){const{_f:e,...u}=l;if(e){const u=o.array.has(e.name),d=l._f&&Hk(l._f);d&&c.validatingFields&&p([a],!0);const f=await Zk(l,o.disabled,s,h,t.shouldUseNativeValidation&&!r,u);if(d&&c.validatingFields&&p([a]),f[e.name]&&(i.valid=!1,r))break;!r&&(Qx(f,e.name)?u?Qk(n.errors,f,e.name):Yx(n.errors,e.name,f[e.name]):jk(n.errors,e.name))}!kk(u)&&await b(u,r,i)}}return i.valid},w=(e,n)=>!t.disabled&&(e&&n&&Yx(s,e,n),!vk(C(),i)),x=(e,t,n)=>gk(e,o,{...a.mount?s:Wx(t)?i:mk(e)?{[e]:t}:t},n,t),k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Qx(r,e);let a=t;if(i){const n=i._f;n&&(!n.disabled&&Yx(s,e,Lk(t,n)),a=Nk(n.ref)&&Fx(t)?"":t,_k(n.ref)?[...n.ref.options].forEach(e=>e.selected=a.includes(e.value)):n.refs?Mx(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find(t=>t===e.value):e.checked=a===e.value||!!a)}):n.refs.forEach(e=>e.checked=e.value===a):Sk(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||d.state.next({name:e,values:Bx(s)})))}(n.shouldDirty||n.shouldTouch)&&g(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&T(e)},S=(e,t,n)=>{for(const i in t){if(!t.hasOwnProperty(i))return;const s=t[i],a=e+"."+i,l=Qx(r,a);(o.array.has(e)||Ux(s)||l&&!l._f)&&!Lx(s)?S(a,s,n):k(a,s,n)}},E=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const h=Qx(r,e),f=o.array.has(e),p=Bx(t);Yx(s,e,p),f?(d.array.next({name:e,values:Bx(s)}),(c.isDirty||c.dirtyFields||u.isDirty||u.dirtyFields)&&l.shouldDirty&&d.state.next({name:e,dirtyFields:Pk(i,s),isDirty:w(e,p)})):!h||h._f||Fx(p)?k(e,p,l):S(e,p,l),Wk(e,o)&&d.state.next({...n,name:e}),d.state.next({name:a.mount?e:void 0,values:Bx(s)})},N=async i=>{a.mount=!0;const l=i.target;let m=l.name,w=!0;const x=Qx(r,m),k=e=>{w=Number.isNaN(e)||Lx(e)&&isNaN(e.getTime())||vk(e,Qx(s,m,e))},S=qk(t.mode),E=qk(t.reValidateMode);if(x){let a,_;const C=l.type?Uk(x._f):zx(i),j=i.type===Xx||i.type===Zx,I=!((N=x._f).mount&&(N.required||N.min||N.max||N.maxLength||N.minLength||N.pattern||N.validate))&&!t.resolver&&!Qx(n.errors,m)&&!x._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(j,Qx(n.touchedFields,m),n.isSubmitted,E,S),A=Wk(m,o,j);Yx(s,m,C),j?l&&l.readOnly||(x._f.onBlur&&x._f.onBlur(i),e&&e(0)):x._f.onChange&&x._f.onChange(i);const D=g(m,C,j),P=!kk(D)||A;if(!j&&d.state.next({name:m,type:i.type,values:Bx(s)}),I)return(c.isValid||u.isValid)&&("onBlur"===t.mode?j&&f():j||f()),P&&d.state.next({name:m,...A?{}:D});if(!j&&A&&d.state.next({...n}),t.resolver){const{errors:e}=await v([m]);if(k(C),w){const t=Gk(n.errors,r,m),i=Gk(e,r,t.name||m);a=i.error,m=i.name,_=kk(e)}}else p([m],!0),a=(await Zk(x,o.disabled,s,h,t.shouldUseNativeValidation))[m],p([m]),k(C),w&&(a?_=!1:(c.isValid||u.isValid)&&(_=await b(r,!0)));w&&(x._f.deps&&T(x._f.deps),y(m,_,a,D))}var N},_=(e,t)=>{if(Qx(n.errors,t)&&e.focus)return e.focus(),1},T=async function(e){let i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=wk(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await v(e);if(e)for(const r of e){const e=Qx(t,r);e?Yx(n.errors,r,e):jk(n.errors,r)}else n.errors=t;return t})(Wx(e)?e:l);i=kk(t),s=e?!l.some(e=>Qx(t,e)):i}else e?(s=(await Promise.all(l.map(async e=>{const t=Qx(r,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||n.isValid)&&f()):s=i=await b(r);return d.state.next({...!mk(e)||(c.isValid||u.isValid)&&i!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:n.errors}),a.shouldFocus&&!s&&Kk(r,_,e?l:o.mount),s},C=e=>{const t={...a.mount?s:i};return Wx(e)?t:mk(e)?Qx(t,e):e.map(e=>Qx(t,e))},j=(e,t)=>({invalid:!!Qx((t||n).errors,e),isDirty:!!Qx((t||n).dirtyFields,e),error:Qx((t||n).errors,e),isValidating:!!Qx(n.validatingFields,e),isTouched:!!Qx((t||n).touchedFields,e)}),I=(e,t,i)=>{const s=(Qx(r,e,{_f:{}})._f||{}).ref,a=Qx(n.errors,e)||{},{ref:o,message:l,type:c,...u}=a;Yx(n.errors,e,{...u,...t,ref:s}),d.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&s&&s.focus&&s.focus()},A=e=>d.state.subscribe({next:t=>{var r,a,o;r=e.name,a=t.name,o=e.exact,r&&a&&r!==a&&!wk(r).some(e=>e&&(o?e===a:e.startsWith(a)||a.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i,...s}=e;return kk(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!r||ik))})(t,e.formState||c,V,e.reRenderRoot)||e.callback({values:{...s},...n,...t,defaultValues:i})}}).unsubscribe,D=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?wk(e):o.mount)o.mount.delete(l),o.array.delete(l),a.keepValue||(jk(r,l),jk(s,l)),!a.keepError&&jk(n.errors,l),!a.keepDirty&&jk(n.dirtyFields,l),!a.keepTouched&&jk(n.touchedFields,l),!a.keepIsValidating&&jk(n.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&jk(i,l);d.state.next({values:Bx(s)}),d.state.next({...n,...a.keepDirty?{isDirty:w()}:{}}),!a.keepIsValid&&f()},P=e=>{let{disabled:t,name:n}=e;(Jx(t)&&a.mount||t||o.disabled.has(n))&&(t?o.disabled.add(n):o.disabled.delete(n))},R=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Qx(r,e);const l=Jx(n.disabled)||Jx(t.disabled);return Yx(r,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...n}}),o.mount.add(e),s?P({disabled:Jx(n.disabled)?n.disabled:t.disabled,name:e}):m(e,!0,n.value),{...l?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:$k(n.min),max:$k(n.max),minLength:$k(n.minLength),maxLength:$k(n.maxLength),pattern:$k(n.pattern)}:{},name:e,onChange:N,onBlur:N,ref:l=>{if(l){R(e,n),s=Qx(r,e);const t=Wx(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,a=(e=>Tk(e)||Mx(e))(t),o=s._f.refs||[];if(a?o.find(e=>e===t):t===s._f.ref)return;Yx(r,e,{_f:{...s._f,...a?{refs:[...o.filter(Ck),t,...Array.isArray(Qx(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),m(e,!1,void 0,t)}else s=Qx(r,e,{}),s._f&&(s._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!$x(o.array,e)||!a.action)&&o.unMount.add(e)}}},O=()=>t.shouldFocusError&&Kk(r,_,o.mount),M=(e,i)=>async a=>{let l;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=Bx(s);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await v();n.errors=e,c=Bx(t)}else await b(r);if(o.disabled.size)for(const e of o.disabled)jk(c,e);if(jk(n.errors,"root"),kk(n.errors)){d.state.next({errors:{}});try{await e(c,a)}catch(vN){l=vN}}else i&&await i({...n.errors},a),O(),setTimeout(O);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kk(n.errors)&&!l,submitCount:n.submitCount+1,errors:n.errors}),l)throw l},L=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=e?Bx(e):i,h=Bx(u),f=kk(e),p=f?i:h;if(l.keepDefaultValues||(i=u),!l.keepValues){if(l.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(Pk(i,s))]);for(const t of Array.from(e))Qx(n.dirtyFields,t)?Yx(p,t,Qx(s,t)):E(t,Qx(p,t))}else{if(qx&&Wx(e))for(const e of o.mount){const t=Qx(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Nk(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(l.keepFieldsRef)for(const e of o.mount)E(e,Qx(p,e));else r={}}s=t.shouldUnregister?l.keepDefaultValues?Bx(i):{}:Bx(p),d.array.next({values:{...p}}),d.state.next({values:{...p}})}o={mount:l.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!l.keepIsValid||!!l.keepDirtyValues,a.watch=!!t.shouldUnregister,d.state.next({submitCount:l.keepSubmitCount?n.submitCount:0,isDirty:!f&&(l.keepDirty?n.isDirty:!(!l.keepDefaultValues||vk(e,i))),isSubmitted:!!l.keepIsSubmitted&&n.isSubmitted,dirtyFields:f?{}:l.keepDirtyValues?l.keepDefaultValues&&s?Pk(i,s):n.dirtyFields:l.keepDefaultValues&&e?Pk(i,e):l.keepDirty?n.dirtyFields:{},touchedFields:l.keepTouched?n.touchedFields:{},errors:l.keepErrors?n.errors:{},isSubmitSuccessful:!!l.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1,defaultValues:i})},F=(e,t)=>L(Ek(e)?e(s):e,t),V=e=>{n={...n,...e}},U={control:{register:R,unregister:D,getFieldState:j,handleSubmit:M,setError:I,_subscribe:A,_runSchema:v,_focusError:O,_getWatch:x,_getDirty:w,_setValid:f,_setFieldArray:function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,h=arguments.length>3?arguments[3]:void 0,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(h&&l&&!t.disabled){if(a.action=!0,p&&Array.isArray(Qx(r,e))){const t=l(Qx(r,e),h.argA,h.argB);f&&Yx(r,e,t)}if(p&&Array.isArray(Qx(n.errors,e))){const t=l(Qx(n.errors,e),h.argA,h.argB);f&&Yx(n.errors,e,t),((e,t)=>{!Kx(Qx(e,t)).length&&jk(e,t)})(n.errors,e)}if((c.touchedFields||u.touchedFields)&&p&&Array.isArray(Qx(n.touchedFields,e))){const t=l(Qx(n.touchedFields,e),h.argA,h.argB);f&&Yx(n.touchedFields,e,t)}(c.dirtyFields||u.dirtyFields)&&(n.dirtyFields=Pk(i,s)),d.state.next({name:e,isDirty:w(e,o),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Yx(s,e,o)},_setDisabledField:P,_setErrors:e=>{n.errors=e,d.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>Kx(Qx(a.mount?s:i,e,t.shouldUnregister?Qx(i,e,[]):[])),_reset:L,_resetDefaultValues:()=>Ek(t.defaultValues)&&t.defaultValues().then(e=>{F(e,t.resetOptions),d.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of o.unMount){const t=Qx(r,e);t&&(t._f.refs?t._f.refs.every(e=>!Ck(e)):!Ck(t._f.ref))&&D(e)}o.unMount=new Set},_disableForm:e=>{Jx(e)&&(d.state.next({disabled:e}),Kk(r,(t,n)=>{const i=Qx(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},_subjects:d,_proxyFormState:c,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(e){a=e},get _defaultValues(){return i},get _names(){return o},set _names(e){o=e},get _formState(){return n},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:e=>(a.mount=!0,u={...u,...e.formState},A({...e,formState:u})),trigger:T,register:R,handleSubmit:M,watch:(e,t)=>Ek(e)?d.state.subscribe({next:n=>"values"in n&&e(x(void 0,t),n)}):x(e,t,!0),setValue:E,getValues:C,reset:F,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qx(r,e)&&(Wx(t.defaultValue)?E(e,Bx(Qx(i,e))):(E(e,t.defaultValue),Yx(i,e,Bx(t.defaultValue))),t.keepTouched||jk(n.touchedFields,e),t.keepDirty||(jk(n.dirtyFields,e),n.isDirty=t.defaultValue?w(e,Bx(Qx(i,e))):w()),t.keepError||(jk(n.errors,e),c.isValid&&f()),d.state.next({...n}))},clearErrors:e=>{e&&wk(e).forEach(e=>jk(n.errors,e)),d.state.next({errors:e?n.errors:{}})},unregister:D,setError:I,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Qx(r,e),i=n&&n._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&Ek(e.select)&&e.select())}},getFieldState:j};return{...U,formControl:U}}function nS(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.useRef(void 0),r=e.useRef(void 0),[i,s]=e.useState({isDirty:!1,isValidating:!1,isLoading:Ek(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ek(t.defaultValues)?void 0:t.defaultValues});if(!n.current)if(t.formControl)n.current={...t.formControl,formState:i},t.defaultValues&&!Ek(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:e,...r}=tS(t);n.current={...r,formState:i}}const a=n.current.control;return a._options=t,pk(()=>{const e=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(e=>({...e,isReady:!0})),a._formState.isReady=!0,e},[a]),e.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),e.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),e.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),e.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),e.useEffect(()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==i.isDirty&&a._subjects.state.next({isDirty:e})}},[a,i.isDirty]),e.useEffect(()=>{t.values&&!vk(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,s(e=>({...e}))):a._resetDefaultValues()},[a,t.values]),e.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),n.current.formState=fk(i,a),n.current}const rS=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Qx(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},iS=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?rS(r.ref,n,e):r&&r.refs&&r.refs.forEach(t=>rS(t,n,e))}},sS=(e,t)=>{t.shouldUseNativeValidation&&iS(e,t);const n={};for(const r in e){const i=Qx(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(aS(t.names||Object.keys(e),r)){const e=Object.assign({},Qx(n,r));Yx(e,"root",s),Yx(n,r,e)}else Yx(n,r,s)}return n},aS=(e,t)=>{const n=oS(t);return e.some(e=>oS(e).match(`^${n}\\.\\d+`))};function oS(e){return e.replace(/\]|\[/g,"")}function lS(e,t,n){return void 0===n&&(n={}),function(r,i,s){try{return Promise.resolve(function(a,o){try{var l=(null!=t&&t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:i}))).then(function(e){return s.shouldUseNativeValidation&&iS({},s),{values:n.raw?Object.assign({},r):e,errors:{}}}))}catch(ft){return o(ft)}return l&&l.then?l.then(void 0,o):l}(0,function(e){if(!e.inner)throw e;return{values:{},errors:sS((t=e,n=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(t.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,i=r&&r[t.type];e[t.path]=bk(t.path,n,e,t.type,i?[].concat(i,t.message):t.message)}return e},{})),s)};var t,n}))}catch(ft){return Promise.reject(ft)}}}var cS=n(575),uS=n(517),dS=n(704),hS=n.n(dS);const fS=Object.prototype.toString,pS=Error.prototype.toString,mS=RegExp.prototype.toString,gS="undefined"!==typeof Symbol?Symbol.prototype.toString:()=>"",yS=/^Symbol\((.*)\)(.*)$/;function vS(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return gS.call(e).replace(yS,"Symbol($1)");const r=fS.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+pS.call(e)+"]":"RegExp"===r?mS.call(e):null}function bS(e,t){let n=vS(e,t);return null!==n?n:JSON.stringify(e,function(e,n){let r=vS(this[e],t);return null!==r?r:n},2)}function wS(e){return null==e?[]:[].concat(e)}let xS,kS,SS,ES=/\$\{\s*(\w+)\s*\}/g;xS=Symbol.toStringTag;class NS{constructor(e,t,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[xS]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],wS(e).forEach(e=>{if(_S.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}kS=Symbol.hasInstance,SS=Symbol.toStringTag;class _S extends Error{static formatError(e,t){const n=t.label||t.path||"this";return t=Object.assign({},t,{path:n,originalPath:t.path}),"string"===typeof e?e.replace(ES,(e,n)=>bS(t[n])):"function"===typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r,i){const s=new NS(e,t,n,r);if(i)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[SS]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,_S)}static[kS](e){return NS[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let TS={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:e=>{let{path:t,type:n,value:r,originalValue:i}=e;const s=null!=i&&i!==r?` (cast from the value \`${bS(i,!0)}\`).`:".";return"mixed"!==n?`${t} must be a \`${n}\` type, but the final value was: \`${bS(r,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${bS(r,!0)}\``+s}},CS={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},jS={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},IS={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},AS={isValue:"${path} field must be ${value}"},DS={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},PS={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},RS={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${bS(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${bS(n,!0)}\``}return _S.formatError(TS.notType,e)}};Object.assign(Object.create(null),{mixed:TS,string:CS,number:jS,date:IS,object:DS,array:PS,boolean:AS,tuple:RS});const OS=e=>e&&e.__isYupSchema__;class MS{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:i}=t,s="function"===typeof n?n:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every(e=>e===n)};return new MS(e,(e,t)=>{var n;let a=s(...e)?r:i;return null!=(n=null==a?void 0:a(t))?n:t})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map(e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!OS(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const LS="$",FS=".";class VS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===LS,this.isValue=this.key[0]===FS,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?LS:this.isValue?FS:"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,cS.getter)(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}VS.prototype.__isYupRef=!0;const US=e=>null==e;function zS(e){function t(t,n,r){let{value:i,path:s="",options:a,originalValue:o,schema:l}=t;const{name:c,test:u,params:d,message:h,skipAbsent:f}=e;let{parent:p,context:m,abortEarly:g=l.spec.abortEarly,disableStackTrace:y=l.spec.disableStackTrace}=a;const v={value:i,parent:p,context:m};function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=$S(Object.assign({value:i,originalValue:o,label:l.spec.label,path:e.path||s,spec:l.spec,disableStackTrace:e.disableStackTrace||y},d,e.params),v),n=new _S(_S.formatError(e.message||h,t),i,t.path,e.type||c,t.disableStackTrace);return n.params=t,n}const w=g?n:r;let x={path:s,parent:p,type:c,from:a.from,createError:b,resolve:e=>qS(e,v),options:a,originalValue:o,schema:l};const k=e=>{_S.isError(e)?w(e):e?r(null):w(b())},S=e=>{_S.isError(e)?w(e):n(e)};if(f&&US(i))return k(!0);let E;try{var N;if(E=u.call(x,i,x),"function"===typeof(null==(N=E)?void 0:N.then)){if(a.sync)throw new Error(`Validation test of type: "${x.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(E).then(k,S)}}catch(_){return void S(_)}k(E)}return t.OPTIONS=e,t}function $S(e,t){if(!e)return e;for(const n of Object.keys(e))e[n]=qS(e[n],t);return e}function qS(e,t){return VS.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function BS(e,t,n){let r,i,s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,cS.forEach)(t,(o,l,c)=>{let u=l?o.slice(1,o.length-1):o,d="tuple"===(e=e.resolve({context:a,parent:r,value:n})).type,h=c?parseInt(u,10):0;if(e.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);r=n,n=n&&n[h],e=d?e.spec.types[h]:e.innerType}if(!c){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);r=n,n=n&&n[u],e=e.fields[u]}i=u,s=l?"["+o+"]":"."+o}),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}class HS extends Set{describe(){const e=[];for(const t of this.values())e.push(VS.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new HS(this.values())}merge(e,t){const n=this.clone();return e.forEach(e=>n.add(e)),t.forEach(e=>n.delete(e)),n}}function WS(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(OS(e)||!e||"object"!==typeof e)return e;if(n.has(e))return n.get(e);if(e instanceof Date)t=new Date(e.getTime()),n.set(e,t);else if(e instanceof RegExp)t=new RegExp(e),n.set(e,t);else if(Array.isArray(e)){t=new Array(e.length),n.set(e,t);for(let r=0;r<e.length;r++)t[r]=WS(e[r],n)}else if(e instanceof Map){t=new Map,n.set(e,t);for(const[r,i]of e.entries())t.set(r,WS(i,n))}else if(e instanceof Set){t=new Set,n.set(e,t);for(const r of e)t.add(WS(r,n))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);t={},n.set(e,t);for(const[r,i]of Object.entries(e))t[r]=WS(i,n)}return t}function KS(e){if(null==e||!e.length)return;const t=[];let n="",r=!1,i=!1;for(let s=0;s<e.length;s++){const a=e[s];"["!==a||i?"]"!==a||i?'"'!==a?"."!==a||r||i?n+=a:n&&(t.push(n),n=""):i=!i:(n&&(/^\d+$/.test(n)?t.push(n):t.push(n.replace(/^"|"$/g,"")),n=""),r=!1):(n&&(t.push(...n.split(".").filter(Boolean)),n=""),r=!0)}return n&&t.push(...n.split(".").filter(Boolean)),t}function GS(e,t){var n;if((null==(n=e.inner)||!n.length)&&e.errors.length)return function(e,t){const n=t?`${t}.${e.path}`:e.path;return e.errors.map(e=>({message:e,path:KS(n)}))}(e,t);const r=t?`${t}.${e.path}`:e.path;return e.inner.flatMap(e=>GS(e,r))}class QS{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new HS,this._blacklist=new HS,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(TS.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=WS(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(){if(0===arguments.length)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation(t=>{e.tests.forEach(e=>{t.test(e.OPTIONS)})}),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce((t,n)=>n.resolve(t,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,i;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive,disableStackTrace:null!=(i=e.disableStackTrace)?i:this.spec.disableStackTrace})}cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,i=n._cast(e,t);if(!1!==t.assert&&!n.isType(i)){if(r&&US(i))return i;let s=bS(e),a=bS(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". \n\nattempted value: ${s} \n`+(a!==s?`result of cast: ${a}`:""))}return i}_cast(e,t){let n=void 0===e?e:this.transforms.reduce((t,n)=>n.call(this,t,e,this),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,{path:i,originalValue:s=e,strict:a=this.spec.strict}=t,o=e;a||(o=this._cast(o,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:i,value:o,originalValue:s,options:t,tests:l},n,e=>{if(e.length)return r(e,o);this.runTests({path:i,value:o,originalValue:s,options:t,tests:this.tests},n,r)})}runTests(e,t,n){let r=!1,{tests:i,value:s,originalValue:a,path:o,options:l}=e,c=e=>{r||(r=!0,t(e,s))},u=e=>{r||(r=!0,n(e,s))},d=i.length,h=[];if(!d)return u([]);let f={value:s,originalValue:a,path:o,options:l,schema:this};for(let p=0;p<i.length;p++){(0,i[p])(f,c,function(e){e&&(Array.isArray(e)?h.push(...e):h.push(e)),--d<=0&&u(h)})}}asNestedTest(e){let{key:t,index:n,parent:r,parentPath:i,originalParent:s,options:a}=e;const o=null!=t?t:n;if(null==o)throw TypeError("Must include `key` or `index` for nested validations");const l="number"===typeof o;let c=r[o];const u=Object.assign({},a,{strict:!0,parent:r,value:c,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${i||""}[${l?o:`"${o}"`}]`:(i?`${i}.`:"")+t});return(e,t,n)=>this.resolve(u)._validate(c,u,t,n)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),i=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return new Promise((n,s)=>r._validate(e,t,(e,t)=>{_S.isError(e)&&(e.value=t),s(e)},(e,t)=>{e.length?s(new _S(e,t,void 0,void 0,i)):n(t)}))}validateSync(e,t){var n;let r,i=this.resolve(Object.assign({},t,{value:e})),s=null!=(n=null==t?void 0:t.disableStackTrace)?n:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),(e,t)=>{throw _S.isError(e)&&(e.value=t),e},(t,n)=>{if(t.length)throw new _S(t,e,void 0,void 0,s);r=n}),r}isValid(e,t){return this.validate(e,t).then(()=>!0,e=>{if(_S.isError(e))return!1;throw e})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(n){if(_S.isError(n))return!1;throw n}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"===typeof t?t.call(this,e):WS(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=zS({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=zS({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TS.defined;return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TS.notNull;return this.nullability(!1,e)}required(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TS.required;return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(){let e;if(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]},void 0===e.message&&(e.message=TS.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");let t=this.clone(),n=zS(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter(t=>{if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0}),t.tests.push(n),t}when(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");let n=this.clone(),r=wS(e).map(e=>new VS(e));return r.forEach(e=>{e.isSibling&&n.deps.push(e.key)}),n.conditions.push("function"===typeof t?new MS(r,t):MS.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=zS({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TS.oneOf,n=this.clone();return e.forEach(e=>{n._whitelist.add(e),n._blacklist.delete(e)}),n.internalTests.whiteList=zS({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TS.notOneOf,n=this.clone();return e.forEach(e=>{n._blacklist.add(e),n._whitelist.delete(e)}),n.internalTests.blacklist=zS({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:i,nullable:s}=t.spec,a={meta:r,label:n,optional:i,nullable:s,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((e,t,n)=>n.findIndex(t=>t.OPTIONS.name===e.OPTIONS.name)===t).map(t=>{const n=t.OPTIONS.params&&e?$S(Object.assign({},t.OPTIONS.params),e):t.OPTIONS.params;return{name:t.OPTIONS.name,params:n}})};return a}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(t){try{return{value:await e.validate(t,{abortEarly:!1})}}catch(n){if(n instanceof _S)return{issues:GS(n)};throw n}}}}}QS.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])QS.prototype[`${n}At`]=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{parent:i,parentPath:s,schema:a}=BS(this,e,t,r.context);return a[n](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const n of["equals","is"])QS.prototype[n]=QS.prototype.oneOf;for(const n of["not","nope"])QS.prototype[n]=QS.prototype.notOneOf;const JS=()=>!0;class YS extends QS{constructor(e){super("function"===typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:JS},e))}}function XS(){return new ZS}YS.prototype;class ZS extends QS{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e)}),this.withMutation(()=>{this.transform((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AS.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>US(e)||!0===e})}isFalse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AS.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>US(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}XS.prototype=ZS.prototype;const eE=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function tE(e){var t,n;const r=eE.exec(e);return r?{year:nE(r[1]),month:nE(r[2],1)-1,day:nE(r[3],1),hour:nE(r[4]),minute:nE(r[5]),second:nE(r[6]),millisecond:r[7]?nE(r[7].substring(0,3)):0,precision:null!=(t=null==(n=r[7])?void 0:n.length)?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:nE(r[10]),minuteOffset:nE(r[11])}:null}function nE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(e)||t}let rE=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,iE=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,sE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,aE=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),oE=e=>US(e)||e===e.trim(),lE={}.toString();function cE(){return new uE}class uE extends QS{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"===typeof e)}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;const r=null!=e&&e.toString?e.toString():e;return r===lE?e:r})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||TS.required,name:"required",skipAbsent:!0,test:e=>!!e.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(e=>"required"!==e.OPTIONS.name),e))}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CS.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CS.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CS.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,r,i=!1;return t&&("object"===typeof t?({excludeEmptyString:i=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||CS.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&i||-1!==t.search(e)})}email(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CS.email;return this.matches(rE,{name:"email",message:e,excludeEmptyString:!0})}url(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CS.url;return this.matches(iE,{name:"url",message:e,excludeEmptyString:!0})}uuid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CS.uuid;return this.matches(sE,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,r="";return e&&("object"===typeof e?({message:r="",allowOffset:t=!1,precision:n}=e):r=e),this.matches(aE,{name:"datetime",message:r||CS.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||CS.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=tE(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:r||CS.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||void 0==n)return!0;const t=tE(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform(e=>null===e?"":e)}trim(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CS.trim;return this.transform(e=>null!=e?e.trim():e).test({message:e,name:"trim",test:oE})}lowercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CS.lowercase;return this.transform(e=>US(e)?e:e.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>US(e)||e===e.toLowerCase()})}uppercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CS.uppercase;return this.transform(e=>US(e)?e:e.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>US(e)||e===e.toUpperCase()})}}cE.prototype=uE.prototype;function dE(){return new hE}class hE extends QS{constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!(e=>e!=+e)(e))}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce)return e;let r=e;if("string"===typeof r){if(r=r.replace(/\s/g,""),""===r)return NaN;r=+r}return n.isType(r)||null===r?r:parseFloat(r)})})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jS.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jS.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jS.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jS.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jS.positive;return this.moreThan(0,e)}negative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jS.negative;return this.lessThan(0,e)}integer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jS.integer;return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform(e=>US(e)?e:0|e)}round(e){var t;let n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(t=>US(t)?t:Math[e](t))}}dE.prototype=hE.prototype;let fE=new Date("");function pE(){return new mE}class mE extends QS{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation(()=>{this.transform((e,t,n)=>!n.spec.coerce||n.isType(e)||null===e?e:(e=function(e){const t=tE(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?mE.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let n;if(VS.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IS.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IS.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function gE(e,t){let n=1/0;return e.some((e,r)=>{var i;if(null!=(i=t.path)&&i.includes(e))return n=r,!0}),n}function yE(e){return(t,n)=>gE(e,t)-gE(e,n)}mE.INVALID_DATE=fE,pE.prototype=mE.prototype,pE.INVALID_DATE=fE;const vE=(e,t,n)=>{if("string"!==typeof e)return e;let r=e;try{r=JSON.parse(e)}catch(i){}return n.isType(r)?r:e};function bE(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=bE(r);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=bE(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(bE)}):"optional"in e?e.optional():e}let wE=e=>"[object Object]"===Object.prototype.toString.call(e);function xE(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(e=>-1===n.indexOf(e))}const kE=yE([]);function SE(e){return new EE(e)}class EE extends QS{constructor(e){super({type:"object",check:e=>wE(e)||"function"===typeof e}),this.fields=Object.create(null),this._sortErrors=kE,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault(t);if(!this._typeCheck(r))return r;let i=this.fields,s=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(r).filter(e=>!this._nodes.includes(e))),o={},l=Object.assign({},t,{parent:o,__validating:t.__validating||!1}),c=!1;for(const u of a){let e=i[u],n=u in r;if(e){let n,i=r[u];l.path=(t.path?`${t.path}.`:"")+u,e=e.resolve({value:i,context:t.context,parent:o});let s=e instanceof QS?e.spec:void 0,a=null==s?void 0:s.strict;if(null!=s&&s.strip){c=c||u in r;continue}n=t.__validating&&a?r[u]:e.cast(r[u],l),void 0!==n&&(o[u]=n)}else n&&!s&&(o[u]=r[u]);n===u in o&&o[u]===r[u]||(c=!0)}return c?o:r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,{from:i=[],originalValue:s=e,recursive:a=this.spec.recursive}=t;t.from=[{schema:this,value:s},...i],t.__validating=!0,t.originalValue=s,super._validate(e,t,n,(e,i)=>{if(!a||!wE(i))return void r(e,i);s=s||i;let o=[];for(let n of this._nodes){let e=this.fields[n];e&&!VS.isRef(e)&&o.push(e.asNestedTest({options:t,key:n,parent:i,parentPath:t.path,originalParent:s}))}this.runTests({tests:o,value:i,originalValue:s,options:t},n,t=>{r(t.sort(this._sortErrors).concat(e),i)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[r,i]of Object.entries(this.fields)){const e=n[r];n[r]=void 0===e?i:e}return t.withMutation(t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(n=>{var r;const i=this.fields[n];let s=e;null!=(r=s)&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[n]})),t[n]=i&&"getDefault"in i?i.getDefault(s):void 0}),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map(e=>{let[t,n]=e;return`${t}-${n}`}));function s(e,t){let s=(0,cS.split)(e)[0];r.add(s),i.has(`${t}-${s}`)||n.push([t,s])}for(const a of Object.keys(e)){let t=e[a];r.add(a),VS.isRef(t)&&t.isSibling?s(t.path,a):OS(t)&&"deps"in t&&t.deps.forEach(e=>s(e,a))}return hS().array(Array.from(r),n).reverse()}(e,t),n._sortErrors=yE(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.clone().withMutation(n=>{let r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),r)})}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return bE(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter(t=>{let[n,r]=t;return e.includes(n)&&e.includes(r)}))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let r=(0,cS.getter)(e,!0);return this.transform(i=>{if(!i)return i;let s=i;return((e,t)=>{const n=[...(0,cS.normalizePath)(t)];if(1===n.length)return n[0]in e;let r=n.pop(),i=(0,cS.getter)((0,cS.join)(n),!0)(e);return!(!i||!(r in i))})(i,e)&&(s=Object.assign({},i),n||delete s[e],s[t]=r(i)),s})}json(){return this.transform(vE)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||DS.exact,test(e){if(null==e)return!0;const t=xE(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DS.noUnknown;"boolean"!==typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=xE(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DS.noUnknown;return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const n={};for(const r of Object.keys(t))n[e(r)]=t[r];return n})}camelCase(){return this.transformKeys(uS.camelCase)}snakeCase(){return this.transformKeys(uS.snakeCase)}constantCase(){return this.transformKeys(e=>(0,uS.snakeCase)(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,s]of Object.entries(t.fields)){var r;let t=e;null!=(r=t)&&r.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[i]})),n.fields[i]=s.describe(t)}return n}}function NE(e){return new _E(e)}SE.prototype=EE.prototype;class _E extends QS{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const i=n.map((e,n)=>{const i=this.innerType.cast(e,Object.assign({},t,{path:`${t.path||""}[${n}]`}));return i!==e&&(r=!0),i});return r?i:n}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;var i;let s=this.innerType,a=null!=(i=t.recursive)?i:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,n,(i,o)=>{var l;if(!a||!s||!this._typeCheck(o))return void r(i,o);let c=new Array(o.length);for(let n=0;n<o.length;n++){var u;c[n]=s.asNestedTest({options:t,index:n,parent:o,parentPath:t.path,originalParent:null!=(u=t.originalValue)?u:e})}this.runTests({value:o,tests:c,originalValue:null!=(l=t.originalValue)?l:e,options:t},n,e=>r(e.concat(i),o))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(vE)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!OS(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+bS(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PS.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||PS.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||PS.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t))}compact(e){let t=e?(t,n,r)=>!e(t,n,r):e=>!!e;return this.transform(e=>null!=e?e.filter(t):e)}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);if(t.innerType){var r;let i=e;null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=t.innerType.describe(i)}return n}}NE.prototype=_E.prototype;class TE extends QS{constructor(e){super({type:"tuple",spec:{types:e},check(e){const t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),this.withMutation(()=>{this.typeError(RS.notType)})}_cast(e,t){const{types:n}=this.spec,r=super._cast(e,t);if(!this._typeCheck(r))return r;let i=!1;const s=n.map((e,n)=>{const s=e.cast(r[n],Object.assign({},t,{path:`${t.path||""}[${n}]`}));return s!==r[n]&&(i=!0),s});return i?s:r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=this.spec.types;super._validate(e,t,n,(s,a)=>{var o;if(!this._typeCheck(a))return void r(s,a);let l=[];for(let[n,r]of i.entries()){var c;l[n]=r.asNestedTest({options:t,index:n,parent:a,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:a,tests:l,originalValue:null!=(o=t.originalValue)?o:e,options:t},n,e=>r(e.concat(s),a))})}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);return n.innerType=t.spec.types.map((t,n)=>{var r;let i=e;return null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),t.describe(i)}),n}}TE.prototype;const CE=Cw("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),jE=Cw("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),IE=Cw("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),AE=Cw("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),DE=Cw("chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]),PE=SE({email:cE().email("Ugyldig e-post").required("E-post er p\xe5krevd"),password:cE().min(6,"Passord m\xe5 v\xe6re minst 6 tegn").required("Passord er p\xe5krevd")}).required(),RE=()=>{const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),{signIn:s,signInWithGoogle:a}=gw(),{register:o,handleSubmit:l,formState:{errors:c}}=nS({resolver:lS(PE)});return(0,pw.jsx)("div",{className:"max-w-md mx-auto",children:(0,pw.jsxs)("div",{className:"card",children:[(0,pw.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Logg inn"}),(0,pw.jsxs)("form",{onSubmit:l(async e=>{i(!0);try{await s(e.email,e.password),dn.success("Innlogget!")}catch(vN){dn.error(vN.message||"Innlogging feilet")}finally{i(!1)}}),className:"space-y-4",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-post"}),(0,pw.jsxs)("div",{className:"relative",children:[(0,pw.jsx)(CE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,pw.jsx)("input",{...o("email"),type:"email",id:"email",className:"input-field pl-10",placeholder:"din@email.no"})]}),c.email&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.email.message})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Passord"}),(0,pw.jsxs)("div",{className:"relative",children:[(0,pw.jsx)(jE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,pw.jsx)("input",{...o("password"),type:t?"text":"password",id:"password",className:"input-field pl-10 pr-10",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,pw.jsx)("button",{type:"button",onClick:()=>n(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?(0,pw.jsx)(IE,{className:"h-5 w-5"}):(0,pw.jsx)(AE,{className:"h-5 w-5"})})]}),c.password&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.password.message})]}),(0,pw.jsx)("button",{type:"submit",disabled:r,className:"btn-primary w-full flex items-center justify-center",children:r?"Logger inn...":"Logg inn"})]}),(0,pw.jsxs)("div",{className:"mt-6",children:[(0,pw.jsxs)("div",{className:"relative",children:[(0,pw.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,pw.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,pw.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,pw.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"eller"})})]}),(0,pw.jsxs)("button",{onClick:async()=>{i(!0);try{await a(),dn.success("Innlogget med Google!")}catch(vN){dn.error(vN.message||"Google innlogging feilet")}finally{i(!1)}},disabled:r,className:"mt-4 w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,pw.jsx)(DE,{className:"h-5 w-5 mr-2"}),r?"Logger inn...":"Logg inn med Google"]})]})]})})},OE=SE({displayName:cE().min(2,"Navn m\xe5 v\xe6re minst 2 tegn").required("Navn er p\xe5krevd"),email:cE().email("Ugyldig e-post").required("E-post er p\xe5krevd"),password:cE().min(6,"Passord m\xe5 v\xe6re minst 6 tegn").required("Passord er p\xe5krevd"),confirmPassword:cE().oneOf([(ME="password",new VS(ME,LE))],"Passordene m\xe5 v\xe6re like").required("Bekreft passord er p\xe5krevd")}).required();var ME,LE;const FE=()=>{const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)(!1),{signUp:o}=gw(),{register:l,handleSubmit:c,formState:{errors:u}}=nS({resolver:lS(OE)});return(0,pw.jsx)("div",{className:"max-w-md mx-auto",children:(0,pw.jsxs)("div",{className:"card",children:[(0,pw.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Opprett konto"}),(0,pw.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,pw.jsxs)("h3",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[(0,pw.jsx)(CE,{className:"h-4 w-4 mr-2"}),"E-post verifisering"]}),(0,pw.jsxs)("p",{className:"text-sm text-blue-800",children:["Etter registrering f\xe5r du en verifiserings-e-post. ",(0,pw.jsx)("strong",{children:"Sjekk s\xf8ppelpost/spam-mappen"})," hvis du ikke finner den i hovedinnboksen."]})]}),(0,pw.jsxs)("form",{onSubmit:c(async e=>{a(!0);try{await o(e.email,e.password,e.displayName,"worker"),dn.success("Konto opprettet! Sjekk e-posten din for verifisering.")}catch(vN){dn.error(vN.message||"Registrering feilet")}finally{a(!1)}}),className:"space-y-4",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fullt navn"}),(0,pw.jsxs)("div",{className:"relative",children:[(0,pw.jsx)(yx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,pw.jsx)("input",{...l("displayName"),type:"text",id:"displayName",className:"input-field pl-10",placeholder:"Ditt navn"})]}),u.displayName&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.displayName.message})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-post"}),(0,pw.jsxs)("div",{className:"relative",children:[(0,pw.jsx)(CE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,pw.jsx)("input",{...l("email"),type:"email",id:"email",className:"input-field pl-10",placeholder:"din@email.no"})]}),u.email&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.email.message})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Passord"}),(0,pw.jsxs)("div",{className:"relative",children:[(0,pw.jsx)(jE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,pw.jsx)("input",{...l("password"),type:t?"text":"password",id:"password",className:"input-field pl-10 pr-10",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,pw.jsx)("button",{type:"button",onClick:()=>n(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?(0,pw.jsx)(IE,{className:"h-5 w-5"}):(0,pw.jsx)(AE,{className:"h-5 w-5"})})]}),u.password&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.password.message})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bekreft passord"}),(0,pw.jsxs)("div",{className:"relative",children:[(0,pw.jsx)(jE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,pw.jsx)("input",{...l("confirmPassword"),type:r?"text":"password",id:"confirmPassword",className:"input-field pl-10 pr-10",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,pw.jsx)("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?(0,pw.jsx)(IE,{className:"h-5 w-5"}):(0,pw.jsx)(AE,{className:"h-5 w-5"})})]}),u.confirmPassword&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.confirmPassword.message})]}),(0,pw.jsx)("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center",children:s?"Oppretter konto...":"Opprett konto"})]}),(0,pw.jsx)("div",{className:"mt-6 text-center",children:(0,pw.jsxs)("p",{className:"text-sm text-gray-600",children:["Har du allerede en konto?"," ",(0,pw.jsx)(st,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Logg inn her"})]})})]})})},VE=Cw("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),UE=Cw("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),zE=Cw("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),$E=Cw("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),qE=()=>{const{firebaseUser:t}=gw(),[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(0);return(0,e.useEffect)(()=>{if(i>0){const e=setTimeout(()=>s(i-1),1e3);return()=>clearTimeout(e)}},[i]),t?(0,pw.jsx)("div",{className:"max-w-md mx-auto",children:(0,pw.jsxs)("div",{className:"card",children:[(0,pw.jsx)("div",{className:"text-center",children:t.emailVerified?(0,pw.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,pw.jsx)(VE,{className:"h-12 w-12 text-green-500 mr-3"}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h2",{className:"text-2xl font-bold text-green-600",children:"E-post verifisert!"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Din konto er n\xe5 aktiv"})]})]}):(0,pw.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,pw.jsx)(UE,{className:"h-12 w-12 text-yellow-500 mr-3"}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Verifiser din e-post"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Vi har sendt en verifiseringslenke til"}),(0,pw.jsx)("p",{className:"font-medium text-gray-900",children:t.email})]})]})}),!t.emailVerified&&(0,pw.jsxs)("div",{className:"space-y-4",children:[(0,pw.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,pw.jsxs)("h3",{className:"font-medium text-red-900 mb-2 flex items-center",children:[(0,pw.jsx)(UE,{className:"h-4 w-4 mr-2"}),"Viktig: Sjekk s\xf8ppelpost!"]}),(0,pw.jsxs)("p",{className:"text-sm text-red-800",children:["Verifiserings-e-posten kan havne i ",(0,pw.jsx)("strong",{children:"s\xf8ppelpost"})," eller ",(0,pw.jsx)("strong",{children:"spam-mappen"}),". Sjekk der f\xf8rst!"]})]}),(0,pw.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,pw.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Hvor \xe5 lete:"}),(0,pw.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,pw.jsxs)("li",{children:["\u2022 ",(0,pw.jsx)("strong",{children:"S\xf8ppelpost/spam-mappen"})," (mest sannsynlig)"]}),(0,pw.jsx)("li",{children:"\u2022 Hovedinnboksen din"}),(0,pw.jsx)("li",{children:"\u2022 Promotions-fanen (Gmail)"}),(0,pw.jsx)("li",{children:"\u2022 Vent 5-10 minutter"})]})]}),(0,pw.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,pw.jsxs)("h3",{className:"font-medium text-green-900 mb-2 flex items-center",children:[(0,pw.jsx)(zE,{className:"h-4 w-4 mr-2"}),"N\xe5r du finner e-posten:"]}),(0,pw.jsxs)("ol",{className:"text-sm text-green-800 space-y-1",children:[(0,pw.jsxs)("li",{children:["1. ",(0,pw.jsx)("strong",{children:"\xc5pne e-posten"})," fra UngService"]}),(0,pw.jsxs)("li",{children:["2. ",(0,pw.jsx)("strong",{children:"Klikk p\xe5 lenken"}),' "Bekreft e-postadresse"']}),(0,pw.jsx)("li",{children:"3. Du blir omdirigert tilbake til appen"}),(0,pw.jsx)("li",{children:"4. Din konto er n\xe5 aktivert!"})]})]}),(0,pw.jsxs)("div",{className:"border-t pt-4",children:[(0,pw.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Fikk du ikke e-posten? Klikk p\xe5 knappen under for \xe5 sende en ny."}),(0,pw.jsx)("button",{onClick:async()=>{if(t){r(!0);try{await Ca(t),dn.success("Verifiserings-e-post sendt!"),s(60)}catch(vN){dn.error("Kunne ikke sende verifiserings-e-post: "+vN.message)}finally{r(!1)}}},disabled:n||i>0,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,pw.jsxs)(pw.Fragment,{children:[(0,pw.jsx)($E,{className:"animate-spin h-4 w-4 mr-2"}),"Sender..."]}):i>0?`Send ny om ${i}s`:(0,pw.jsxs)(pw.Fragment,{children:[(0,pw.jsx)(CE,{className:"h-4 w-4 mr-2"}),"Send ny verifiserings-e-post"]})})]})]}),(0,pw.jsx)("div",{className:"mt-6 text-center",children:(0,pw.jsx)("button",{onClick:()=>window.location.reload(),className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Oppdater siden"})})]})}):null},BE=[{value:"grass-cutting",label:"Klippe gress",icon:"\ud83c\udf3f"},{value:"weed-removal",label:"Fjerne ugress",icon:"\ud83c\udf31"},{value:"bark-soil",label:"Legge bark eller ny jord",icon:"\ud83e\udeb4"},{value:"hedge-trimming",label:"Klippe hekk",icon:"\ud83c\udf33"},{value:"trash-removal",label:"Kj\xf8re s\xf8ppel",icon:"\ud83d\uddd1\ufe0f"},{value:"washing",label:"Spyle",icon:"\ud83d\udca6"},{value:"cleaning",label:"Rengj\xf8re",icon:"\ud83e\uddf9"},{value:"window-washing",label:"Vaske vinduer",icon:"\ud83e\ude9f"},{value:"carrying",label:"B\xe6rejobb",icon:"\ud83d\udcaa"},{value:"painting",label:"Male",icon:"\ud83c\udfa8"},{value:"staining",label:"Beise",icon:"\ud83e\udeb5"},{value:"repair",label:"Reparere",icon:"\ud83d\udd27"},{value:"tidying",label:"Rydde",icon:"\ud83d\udce6"},{value:"car-washing",label:"Vaske bilen",icon:"\ud83d\ude97"},{value:"snow-shoveling",label:"Sn\xf8m\xe5king",icon:"\u2744\ufe0f"},{value:"moving-help",label:"Hjelpe med flytting",icon:"\ud83d\udce6"},{value:"salt-sand",label:"Str\xf8 med sand / salt",icon:"\ud83e\uddc2"},{value:"pet-sitting",label:"Dyrepass",icon:"\ud83d\udc15"},{value:"other",label:"Annet",icon:"\u2728"}],HE=()=>{var t,n;const{currentUser:r}=gw(),i=te(),[s,a]=(0,e.useState)(!1),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)("one-time"),[d,h]=(0,e.useState)("hourly"),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)("no"),[y,v]=(0,e.useState)(0),[b,w]=(0,e.useState)(0),[x,k]=(0,e.useState)(1),S=SE({title:cE().min(5,"Tittel m\xe5 v\xe6re minst 5 tegn").required("Tittel er p\xe5krevd"),description:cE().min(20,"Beskrivelse m\xe5 v\xe6re minst 20 tegn").required("Beskrivelse er p\xe5krevd"),categories:NE().min(1,"Velg minst \xe9n kategori").required("Kategori er p\xe5krevd"),jobType:cE().oneOf(["one-time","recurring"],"Velg jobbtype").required("Jobbtype er p\xe5krevd"),priceType:cE().oneOf(["hourly","fixed"],"Velg prisetype").required("Prisetype er p\xe5krevd"),carRequired:XS().required("Velg om bil kreves"),equipmentRequired:cE().oneOf(["yes","some","no"],"Velg utstyrsbehov").required("Utstyrsbehov er p\xe5krevd"),wage:dE().when("priceType",{is:"hourly",then:e=>e.min(50,"L\xf8nn m\xe5 v\xe6re minst 50 kr/timen").max(1e3,"L\xf8nn kan ikke v\xe6re mer enn 1000 kr/timen").required("L\xf8nn er p\xe5krevd"),otherwise:e=>e.min(100,"Pris m\xe5 v\xe6re minst 100 kr").max(1e4,"Pris kan ikke v\xe6re mer enn 10 000 kr").required("Pris er p\xe5krevd")}).required("L\xf8nn er p\xe5krevd"),address:cE().min(5,"Adresse m\xe5 v\xe6re minst 5 tegn").required("Adresse er p\xe5krevd")}).required(),{register:E,handleSubmit:N,formState:{errors:_},setValue:T}=nS({resolver:lS(S),defaultValues:{jobType:"one-time",priceType:"hourly",carRequired:!1,equipmentRequired:"no"}}),C=e=>{u(e),T("jobType",e)},j=e=>{h(e),T("priceType",e)},I=e=>{p(e),T("carRequired",e)},A=e=>{g(e),T("equipmentRequired",e)};return(0,e.useEffect)(()=>{T("jobType",c),T("priceType",d),T("carRequired",f),T("equipmentRequired",m)},[T,c,d,f,m]),(0,pw.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,pw.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,pw.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Publiser ny jobb"}),(0,pw.jsxs)("form",{onSubmit:N(async e=>{if(console.log("Form submitted with data:",e),console.log("Current user:",r),console.log("Local state - expectedDuration:",y),console.log("Local state - wage:",b),console.log("Local state - numberOfWorkers:",x),console.log("Local state - selectedCategories:",o),console.log("Local state - selectedJobType:",c),console.log("Local state - selectedPriceType:",d),console.log("Local state - carRequired:",f),console.log("Local state - equipmentRequired:",m),r)if(0!==o.length)if(y<=0)dn.error("Du m\xe5 angi forventet varighet");else if(b<=0)dn.error("Du m\xe5 angi l\xf8nn");else{a(!0);try{const{address:t,...n}=e;console.log("Form data without address:",n),console.log("Address from form:",t);const s={title:e.title,description:e.description,categories:o,jobType:c,priceType:d,wage:b,carRequired:f,equipmentRequired:m,employerId:r.id,employer:{id:r.id,email:r.email,displayName:r.displayName,role:r.role,rating:r.rating||0,completedJobs:r.completedJobs||0,createdAt:r.createdAt,isEmailVerified:r.isEmailVerified},numberOfWorkers:x,expectedDuration:y,location:{address:t,coordinates:{lat:0,lng:0}},requirements:{carRequired:f,equipmentRequired:m},status:"open",applicants:[],createdAt:new Date,updatedAt:new Date};console.log("Job data to be saved:",s);const a=await Ex.createJob(s);console.log("Job created with ID:",a),dn.success("Jobb publisert!"),i("/jobs")}catch(vN){console.error("Error creating job:",vN),dn.error("Kunne ikke publisere jobb: "+vN.message)}finally{a(!1)}}else dn.error("Du m\xe5 velge minst \xe9n kategori");else dn.error("Du m\xe5 v\xe6re innlogget for \xe5 publisere jobber")}),className:"space-y-6",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tittel *"}),(0,pw.jsx)("input",{...E("title"),type:"text",id:"title",className:"input-field",placeholder:"F.eks. Klippe gress i hagen"}),_.title&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.title.message})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Kategorier *"}),(0,pw.jsx)("div",{className:"grid grid-cols-4 gap-3",children:BE.map(e=>(0,pw.jsxs)("button",{type:"button",onClick:()=>(e=>{const t=o.includes(e)?o.filter(t=>t!==e):[...o,e];l(t),T("categories",t)})(e.value),className:"p-3 border rounded-lg text-center transition-colors "+(o.includes(e.value)?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-xl mb-1",children:e.icon}),(0,pw.jsx)("div",{className:"text-xs font-medium",children:e.label})]},e.value))}),_.categories&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.categories.message})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Antall arbeidere \xf8nsket"}),(0,pw.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"Hvor mange personer trenger du for \xe5 utf\xf8re jobben?"}),(0,pw.jsx)("div",{className:"grid grid-cols-4 gap-3",children:[1,2,3,4].map(e=>(0,pw.jsxs)("button",{type:"button",onClick:()=>{k(e)},className:"p-4 border rounded-lg text-center transition-colors "+(x===e?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc65"}),(0,pw.jsxs)("div",{className:"text-sm font-medium",children:[e," ",1===e?"person":"personer"]})]},e))})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Type jobb *"}),(0,pw.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,pw.jsxs)("button",{type:"button",onClick:()=>C("one-time"),className:"p-4 border rounded-lg text-center transition-colors "+("one-time"===c?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd28"}),(0,pw.jsx)("div",{className:"text-sm font-medium",children:"Engangsjobb"}),(0,pw.jsx)("div",{className:"text-xs text-gray-500",children:"Enkelt oppdrag"})]}),(0,pw.jsxs)("button",{type:"button",onClick:()=>C("recurring"),className:"p-4 border rounded-lg text-center transition-colors "+("recurring"===c?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd04"}),(0,pw.jsx)("div",{className:"text-sm font-medium",children:"Gjentakende jobb"}),(0,pw.jsx)("div",{className:"text-xs text-gray-500",children:"Regelmessig arbeid"})]})]}),_.jobType&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.jobType.message})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Prisetype *"}),(0,pw.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,pw.jsxs)("button",{type:"button",onClick:()=>j("hourly"),className:"p-4 border rounded-lg text-center transition-colors "+("hourly"===d?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-2xl mb-2",children:"\u23f0"}),(0,pw.jsx)("div",{className:"text-sm font-medium",children:"Timebetalt"}),(0,pw.jsx)("div",{className:"text-xs text-gray-500",children:"Per time"})]}),(0,pw.jsxs)("button",{type:"button",onClick:()=>j("fixed"),className:"p-4 border rounded-lg text-center transition-colors "+("fixed"===d?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcb0"}),(0,pw.jsx)("div",{className:"text-sm font-medium",children:"Fastpris"}),(0,pw.jsx)("div",{className:"text-xs text-gray-500",children:"Fast bel\xf8p"})]})]}),_.priceType&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.priceType.message})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forventet varighet"}),(0,pw.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"hourly"===d?"Angi hvor mange timer jobben forventes \xe5 ta. Dette p\xe5virker totalprisen.":"Angi hvor mange timer jobben forventes \xe5 ta. Dette er kun informativt."}),(0,pw.jsx)("input",{type:"number",step:"0.5",min:"0.5",max:"24",className:"input-field",placeholder:"F.eks. 2.5 timer",value:y||"",onChange:e=>{return t=parseFloat(e.target.value)||0,void v(t);var t}})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"wage",className:"block text-sm font-medium text-gray-700 mb-2",children:"hourly"===d?x>1?"L\xf8nn per time per arbeider *":"L\xf8nn per time *":x>1?`L\xf8nn fordelt p\xe5 ${x} arbeidere *`:"L\xf8nn *"}),(0,pw.jsx)("input",{...E("wage",{valueAsNumber:!0}),type:"number",id:"wage",min:"hourly"===d?50:100,max:"hourly"===d?1e3:1e4,className:"input-field",placeholder:"hourly"===d?"150 kr/timen":x>1?500*x+" kr totalt":"500 kr",value:b||"",onChange:e=>{return t=parseFloat(e.target.value)||0,void w(t);var t}}),_.wage&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.wage.message})]}),"hourly"===d&&y>0&&b>0&&(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forventet total l\xf8nn"}),(0,pw.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,pw.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[Math.round(y*b*x).toLocaleString()," kr"]}),(0,pw.jsxs)("div",{className:"text-sm text-gray-600",children:[y," timer \xd7 ",b," kr/timen \xd7 ",x," ",1===x?"arbeider":"arbeidere"]})]})]}),"fixed"===d&&x>1&&b>0&&(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total l\xf8nn fordelt"}),(0,pw.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,pw.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[b.toLocaleString()," kr totalt"]}),(0,pw.jsxs)("div",{className:"text-sm text-gray-600",children:[Math.round(b/x).toLocaleString()," kr per ","arbeider"]})]})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Jobbkrav *"}),(0,pw.jsxs)("div",{className:"mb-4",children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bil kreves"}),(0,pw.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,pw.jsxs)("button",{type:"button",onClick:()=>I(!0),className:"p-3 border rounded-lg text-center transition-colors "+(!0===f?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-lg mb-1",children:"\ud83d\ude97"}),(0,pw.jsx)("div",{className:"text-sm font-medium",children:"Ja"})]}),(0,pw.jsxs)("button",{type:"button",onClick:()=>I(!1),className:"p-3 border rounded-lg text-center transition-colors "+(!1===f?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-lg mb-1",children:"\u274c"}),(0,pw.jsx)("div",{className:"text-sm font-medium",children:"Nei"})]})]})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Utstyr kreves"}),(0,pw.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,pw.jsxs)("button",{type:"button",onClick:()=>A("yes"),className:"p-3 border rounded-lg text-center transition-colors "+("yes"===m?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-lg mb-1",children:"\ud83d\udd27"}),(0,pw.jsx)("div",{className:"text-sm font-medium",children:"M\xe5 ha med alt"})]}),(0,pw.jsxs)("button",{type:"button",onClick:()=>A("some"),className:"p-3 border rounded-lg text-center transition-colors "+("some"===m?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-lg mb-1",children:"\u26a0\ufe0f"}),(0,pw.jsx)("div",{className:"text-sm font-medium",children:"M\xe5 ha med noe"})]}),(0,pw.jsxs)("button",{type:"button",onClick:()=>A("no"),className:"p-3 border rounded-lg text-center transition-colors "+("no"===m?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,pw.jsx)("div",{className:"text-lg mb-1",children:"\u274c"}),(0,pw.jsx)("div",{className:"text-sm font-medium",children:"M\xe5 ikke ha med"})]})]})]}),(_.carRequired||_.equipmentRequired)&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:(null===(t=_.carRequired)||void 0===t?void 0:t.message)||(null===(n=_.equipmentRequired)||void 0===n?void 0:n.message)})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Beskrivelse"}),(0,pw.jsx)("textarea",{...E("description"),id:"description",rows:4,className:"input-field",placeholder:"Beskriv jobben i detalj. Hva skal gj\xf8res? Er verkt\xf8y tilgjengelig? Spesielle krav?"}),_.description&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.description.message})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse *"}),(0,pw.jsx)("input",{...E("address"),type:"text",id:"address",className:"input-field",placeholder:"F.eks. Storgata 1, Oslo"}),_.address&&(0,pw.jsx)("p",{className:"text-red-500 text-sm mt-1",children:_.address.message})]}),(0,pw.jsx)("button",{type:"submit",disabled:s,className:"w-full btn-primary",children:s?"Publiserer...":"Publiser jobb"})]})]})})})},WE=()=>{const{currentUser:t}=gw(),[n,r]=(0,e.useState)("overview"),[i]=(0,e.useState)([]),[s]=(0,e.useState)([]),a=[{label:"Jobber publisert",value:i.length,icon:Iw,color:"text-blue-600"},{label:"Aktive s\xf8knader",value:s.filter(e=>"pending"===e.status).length,icon:Aw,color:"text-yellow-600"},{label:"Fullf\xf8rte jobber",value:i.filter(e=>"completed"===e.status).length,icon:VE,color:"text-green-600"},{label:"Gjennomsnittlig rating",value:"4.7",icon:Nx,color:"text-purple-600"}],o=e=>{switch(e){case"open":return"text-green-600 bg-green-100";case"in-progress":return"text-blue-600 bg-blue-100";case"completed":default:return"text-gray-600 bg-gray-100";case"cancelled":return"text-red-600 bg-red-100"}},l=e=>{switch(e){case"open":return"\xc5pen";case"in-progress":return"P\xe5g\xe5r";case"completed":return"Fullf\xf8rt";case"cancelled":return"Kansellert";default:return e}};return t?(0,pw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,pw.jsxs)("div",{className:"mb-8",children:[(0,pw.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,pw.jsxs)("p",{className:"text-gray-600",children:["Velkommen tilbake, ",t.displayName,"!"]})]}),"overview"===n&&(0,pw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:a.map((e,t)=>(0,pw.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,pw.jsxs)("div",{className:"flex items-center",children:[(0,pw.jsx)("div",{className:`p-2 rounded-lg ${e.color} bg-opacity-10`,children:(0,pw.jsx)(e.icon,{className:"h-6 w-6"})}),(0,pw.jsxs)("div",{className:"ml-4",children:[(0,pw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,pw.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.value})]})]})},t))}),(0,pw.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,pw.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Oversikt",icon:Rx},{id:"my-jobs",label:"Mine jobber",icon:Iw},{id:"applications",label:"S\xf8knader",icon:Aw},{id:"booked",label:"Booket",icon:Px}].map(e=>(0,pw.jsxs)("button",{onClick:()=>r(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center "+(n===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,pw.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]},e.id))})}),(0,pw.jsxs)("div",{className:"space-y-6",children:["overview"===n&&(0,pw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,pw.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Nylige jobber"})}),(0,pw.jsx)("div",{className:"p-6",children:i.slice(0,3).map(e=>(0,pw.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,pw.jsx)("p",{className:"text-sm text-gray-500",children:e.location.address})]}),(0,pw.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${o(e.status)}`,children:l(e.status)})]},e.id))})]}),(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,pw.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Nylige s\xf8knader"})}),(0,pw.jsx)("div",{className:"p-6",children:s.slice(0,3).map(e=>{var t;return(0,pw.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h4",{className:"font-medium text-gray-900",children:e.worker.displayName}),(0,pw.jsxs)("p",{className:"text-sm text-gray-500",children:[(null===(t=e.message)||void 0===t?void 0:t.substring(0,50))||"Ingen melding","..."]})]}),(0,pw.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("pending"===e.status?"text-yellow-600 bg-yellow-100":"accepted"===e.status?"text-green-600 bg-green-100":"text-red-600 bg-red-100"),children:"pending"===e.status?"Venter":"accepted"===e.status?"Godtatt":"Avvist"})]},e.id)})})]})]}),"my-jobs"===n&&(0,pw.jsxs)("div",{children:[(0,pw.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,pw.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Mine jobber"}),(0,pw.jsxs)("a",{href:"/#/jobs/new",className:"btn-primary flex items-center",children:[(0,pw.jsx)(px,{className:"h-4 w-4 mr-2"}),"Publiser ny jobb"]})]}),(0,pw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>(0,pw.jsx)(Ix,{job:e,showApplyButton:!1},e.id))})]}),"applications"===n&&(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"S\xf8knader p\xe5 dine jobber"}),(0,pw.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,pw.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,pw.jsxs)("div",{className:"flex items-start justify-between",children:[(0,pw.jsxs)("div",{className:"flex-1",children:[(0,pw.jsxs)("div",{className:"flex items-center mb-2",children:[(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.worker.displayName}),(0,pw.jsxs)("div",{className:"flex items-center ml-4",children:[(0,pw.jsx)(Nx,{className:"h-4 w-4 text-yellow-400 mr-1"}),(0,pw.jsx)("span",{className:"text-sm text-gray-600",children:e.worker.rating.toFixed(1)})]})]}),(0,pw.jsx)("p",{className:"text-gray-600 mb-4",children:e.message||"Ingen melding"}),(0,pw.jsxs)("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[(0,pw.jsxs)("span",{children:[e.worker.completedJobs," jobber fullf\xf8rt"]}),(0,pw.jsxs)("span",{children:["S\xf8knad sendt ",e.createdAt.toLocaleDateString("nb-NO")]})]})]}),"pending"===e.status&&(0,pw.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,pw.jsx)("button",{onClick:()=>{return t=e.id,void console.log("Accepting application:",t);var t},className:"btn-primary text-sm",children:"Godta"}),(0,pw.jsx)("button",{onClick:()=>{return t=e.id,void console.log("Rejecting application:",t);var t},className:"btn-secondary text-sm",children:"Avvis"})]})]})},e.id))})]}),"booked"===n&&(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Booket til jobber"}),(0,pw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,pw.jsx)(Px,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,pw.jsx)("p",{className:"text-gray-500",children:"Ingen booket jobber enn\xe5"})]})})]})]})]}):(0,pw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,pw.jsx)("p",{children:"Du m\xe5 v\xe6re innlogget for \xe5 se dashboard."})})};class KE{static async createConversation(e){const t={participants:e,createdAt:uv(),updatedAt:uv()};return(await sv(Gg(dw,"conversations"),t)).id}static async getOrCreateConversation(e,t){const n=Fy(Gg(dw,"conversations"),Uy("participants","array-contains",e)),r=await nv(n);let i=null;return r.forEach(e=>{e.data().participants.includes(t)&&(i=e.id)}),i||await this.createConversation([e,t])}static async sendMessage(e,t){const n={...t,timestamp:uv()},r=await sv(Gg(dw,"messages"),n);return await iv(Qg(dw,"conversations",e),{lastMessage:t.content,lastMessageTime:uv(),updatedAt:uv()}),r.id}static subscribeToConversations(e,t){return av(Fy(Gg(dw,"conversations"),Uy("participants","array-contains",e),qy("updatedAt","desc")),async n=>{const r=[];for(const t of n.docs){var i,s,a;const n=t.data(),o=n.participants.find(t=>t!==e);let l=null;if(o)try{const e=Qg(dw,"users",o),t=await ev(e);t.exists()&&(l=t.data())}catch(vN){console.error("Error fetching user data:",vN)}r.push({id:t.id,participants:n.participants,lastMessage:n.lastMessage||null,lastMessageTime:(null===(i=n.lastMessageTime)||void 0===i?void 0:i.toDate())||null,createdAt:(null===(s=n.createdAt)||void 0===s?void 0:s.toDate())||new Date,updatedAt:(null===(a=n.updatedAt)||void 0===a?void 0:a.toDate())||new Date,otherUser:l})}t(r)})}static subscribeToMessages(e,t){return av(Fy(Gg(dw,"messages"),Uy("conversationId","==",e),qy("timestamp","asc")),async e=>{const n=[];for(const t of e.docs){var r;const e=t.data();let i=null;if(e.senderId)try{const t=Qg(dw,"users",e.senderId),n=await ev(t);n.exists()&&(i=n.data())}catch(vN){console.error("Error fetching sender data:",vN)}n.push({id:t.id,conversationId:e.conversationId,senderId:e.senderId,sender:i,content:e.content,timestamp:(null===(r=e.timestamp)||void 0===r?void 0:r.toDate())||new Date,isRead:e.isRead||!1})}t(n)})}static async markMessagesAsRead(e,t){const n=Fy(Gg(dw,"messages"),Uy("conversationId","==",e),Uy("senderId","!=",t),Uy("isRead","==",!1)),r=(await nv(n)).docs.map(e=>iv(e.ref,{isRead:!0}));await Promise.all(r)}static async getUserById(e){try{if(!e)return console.error("No user ID provided"),null;const n=Qg(dw,"users",e),r=await ev(n);if(r.exists()){var t;const e=r.data();return{id:r.id,email:e.email||"",displayName:e.displayName||"Ukjent bruker",photoURL:e.photoURL,role:e.role||"worker",bio:e.bio,phone:e.phone,age:e.age,address:e.address,city:e.city,experience:e.experience,skills:e.skills||[],location:e.location,rating:e.rating||0,completedJobs:e.completedJobs||0,createdAt:(null===(t=e.createdAt)||void 0===t?void 0:t.toDate())||new Date,isEmailVerified:e.isEmailVerified||!1}}return console.warn("User not found:",e),null}catch(vN){return console.error("Error fetching user:",vN),null}}}const GE=Cw("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),QE=Cw("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),JE=Cw("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),YE=()=>{var t,n;const{currentUser:r}=gw(),[i]=ct(),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)(""),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(null),y=(0,e.useRef)(null),v=i.get("user"),b=i.get("jobId");(0,e.useEffect)(()=>{(()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[c]);const w=async()=>{if(d.trim()&&o&&r){p(!0);try{const e={conversationId:o.id,senderId:r.id,sender:r,content:d.trim(),isRead:!1};await KE.sendMessage(o.id,e);const t=k(o);t&&await vw.notifyNewMessage(t.id,r.displayName,d.trim().substring(0,50)+(d.trim().length>50?"...":""),o.id),h(""),dn.success("Melding sendt!")}catch(vN){dn.error("Kunne ikke sende melding: "+vN.message)}finally{p(!1)}}},x=e=>new Date(e).toLocaleTimeString("nb-NO",{hour:"2-digit",minute:"2-digit"}),k=e=>r&&e.otherUser||null,S=(0,e.useCallback)(async(e,t)=>{if(r)try{const n=await KE.getUserById(e);if(!n)return void dn.error("Kunne ikke finne brukeren. Pr\xf8v igjen senere.");g(n);const i=await KE.getOrCreateConversation(r.id,e);if(t){const e={conversationId:i,senderId:r.id,sender:r,content:"Hei! Jeg er interessert i jobben din. Kan vi snakke mer om det?",isRead:!1};await KE.sendMessage(i,e)}const a=s.find(e=>e.id===i);if(a)l(a);else{const t={id:i,participants:[r.id,e],otherUser:n,createdAt:new Date,updatedAt:new Date};l(t)}dn.success("Samtale startet! Du kan n\xe5 sende meldinger.")}catch(vN){console.error("Error starting conversation:",vN),dn.error("Kunne ikke starte samtale. Pr\xf8v igjen senere.")}},[r,s]);return(0,e.useEffect)(()=>{if(!r)return;const e=KE.subscribeToConversations(r.id,e=>{a(e)});return()=>e()},[r]),(0,e.useEffect)(()=>{if(!o)return;const e=KE.subscribeToMessages(o.id,e=>{u(e)});return r&&KE.markMessagesAsRead(o.id,r.id),()=>e()},[o,r]),(0,e.useEffect)(()=>{v&&r&&v!==r.id&&S(v,b||void 0)},[v,b,r,S]),r?(0,pw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg h-[600px] flex",children:[(0,pw.jsxs)("div",{className:"w-1/3 border-r border-gray-200",children:[(0,pw.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,pw.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Meldinger"})}),(0,pw.jsx)("div",{className:"overflow-y-auto h-full",children:0===s.length?(0,pw.jsxs)("div",{className:"p-4 text-center",children:[(0,pw.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,pw.jsx)(GE,{className:"h-6 w-6 text-gray-400"})}),(0,pw.jsx)("p",{className:"text-sm text-gray-500",children:"Ingen samtaler enn\xe5"}),(0,pw.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Du vil se meldinger her n\xe5r du starter samtaler"})]}):s.map(e=>{const t=k(e);return(0,pw.jsx)("div",{onClick:()=>l(e),className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 "+((null===o||void 0===o?void 0:o.id)===e.id?"bg-primary-50 border-primary-200":""),children:(0,pw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pw.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,pw.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:(null===t||void 0===t?void 0:t.displayName)||"Ukjent bruker"}),(0,pw.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.lastMessage||"Ingen meldinger enn\xe5"})]}),(0,pw.jsx)("div",{className:"text-xs text-gray-400",children:e.lastMessageTime&&x(e.lastMessageTime)})]})},e.id)})})]}),(0,pw.jsx)("div",{className:"flex-1 flex flex-col",children:o?(0,pw.jsxs)(pw.Fragment,{children:[(0,pw.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-blue-50",children:(0,pw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pw.jsxs)("div",{className:"flex items-center",children:[(0,pw.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,pw.jsx)(yx,{className:"h-6 w-6 text-primary-600"})}),(0,pw.jsxs)("div",{className:"ml-3",children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null===(t=k(o))||void 0===t?void 0:t.displayName)||"Ukjent bruker"}),(0,pw.jsx)("p",{className:"text-sm text-gray-600",children:"worker"===(null===(n=k(o))||void 0===n?void 0:n.role)?"Arbeidstaker":"Arbeidsgiver"})]})]}),m&&v&&(0,pw.jsxs)("div",{className:"text-right",children:[(0,pw.jsx)("p",{className:"text-xs text-gray-500",children:"Ny samtale"}),(0,pw.jsx)("p",{className:"text-xs text-primary-600 font-medium",children:"Du kan n\xe5 sende meldinger"})]})]})}),(0,pw.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===c.filter(e=>e.conversationId===o.id).length?(0,pw.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,pw.jsx)(GE,{className:"h-6 w-6 text-gray-400"})}),(0,pw.jsx)("p",{className:"text-sm text-gray-500",children:"Ingen meldinger enn\xe5"}),(0,pw.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Start samtalen ved \xe5 sende en melding"})]})}):c.filter(e=>e.conversationId===o.id).map(e=>(0,pw.jsx)("div",{className:"flex "+(e.senderId===r.id?"justify-end":"justify-start"),children:(0,pw.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+(e.senderId===r.id?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"),children:[(0,pw.jsx)("p",{className:"text-sm",children:e.content}),(0,pw.jsx)("p",{className:"text-xs mt-1 "+(e.senderId===r.id?"text-primary-100":"text-gray-500"),children:x(e.timestamp)})]})},e.id)),(0,pw.jsx)("div",{ref:y})]}),(0,pw.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,pw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,pw.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:(0,pw.jsx)(QE,{className:"h-5 w-5"})}),(0,pw.jsx)("div",{className:"flex-1",children:(0,pw.jsx)("textarea",{value:d,onChange:e=>h(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w())},placeholder:"Skriv en melding...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:1})}),(0,pw.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:(0,pw.jsx)(JE,{className:"h-5 w-5"})}),(0,pw.jsx)("button",{onClick:w,disabled:f||!d.trim(),className:"p-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,pw.jsx)(GE,{className:"h-5 w-5"})})]})})]}):(0,pw.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,pw.jsx)(GE,{className:"h-8 w-8 text-gray-400"})}),(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Velg en samtale"}),(0,pw.jsx)("p",{className:"text-gray-500",children:"Velg en samtale fra listen for \xe5 starte \xe5 chatte"})]})})})]})}):(0,pw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,pw.jsx)("p",{children:"Du m\xe5 v\xe6re innlogget for \xe5 se meldinger."})})};class XE{static async createReview(e){const t=await sv(Gg(dw,"reviews"),{...e,createdAt:uv()});return await this.updateUserRating(e.revieweeId),t.id}static subscribeToUserReviews(e,t){return av(Fy(Gg(dw,"reviews"),Uy("revieweeId","==",e),qy("createdAt","desc")),e=>{const n=[];e.forEach(e=>{var t;n.push({id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date})}),t(n)})}static async getJobReviews(e){const t=Fy(Gg(dw,"reviews"),Uy("jobId","==",e),qy("createdAt","desc")),n=await nv(t),r=[];return n.forEach(e=>{var t;r.push({id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date})}),r}static async updateUserRating(e){const t=Fy(Gg(dw,"reviews"),Uy("revieweeId","==",e)),n=await nv(t);let r=0,i=0;n.forEach(e=>{const t=e.data();r+=t.rating,i++});const s=i>0?r/i:0,a=Qg(dw,"users",e);await iv(a,{rating:Math.round(10*s)/10,completedJobs:i})}static async getUserReviewStats(e){const t=Fy(Gg(dw,"reviews"),Uy("revieweeId","==",e)),n=await nv(t);let r=0,i=0;const s={1:0,2:0,3:0,4:0,5:0};return n.forEach(e=>{const t=e.data();r+=t.rating,i++,s[t.rating]++}),{averageRating:i>0?Math.round(r/i*10)/10:0,totalReviews:i,ratingDistribution:s}}static async hasUserReviewedJob(e,t){const n=Fy(Gg(dw,"reviews"),Uy("reviewerId","==",e),Uy("jobId","==",t));return!(await nv(n)).empty}static async getRecentUserReviews(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const n=Fy(Gg(dw,"reviews"),Uy("revieweeId","==",e),qy("createdAt","desc")),r=await nv(n),i=[];return r.forEach(e=>{var n;i.length<t&&i.push({id:e.id,...e.data(),createdAt:(null===(n=e.data().createdAt)||void 0===n?void 0:n.toDate())||new Date})}),i}}const ZE=Cw("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),eN=Cw("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),tN=t=>{let{user:n,onSave:r,onCancel:i}=t;const[s,a]=(0,e.useState)({displayName:n.displayName||"",bio:n.bio||"",age:n.age||"",city:n.city||"",address:n.address||"",phone:n.phone||"",experience:n.experience||"",skills:n.skills||[]}),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),d=(e,t)=>{a(n=>({...n,[e]:t}))},h=()=>{o.trim()&&!s.skills.includes(o.trim())&&(a(e=>({...e,skills:[...e.skills,o.trim()]})),l(""))};return(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,pw.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Rediger profil"}),(0,pw.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:(0,pw.jsx)(xx,{className:"h-5 w-5"})})]}),(0,pw.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0);try{const e={displayName:s.displayName,bio:s.bio,age:s.age?parseInt(s.age.toString()):void 0,city:s.city,address:s.address,phone:s.phone,experience:s.experience,skills:s.skills};await r(e),dn.success("Profil oppdatert!")}catch(vN){console.error("Error updating profile:",vN),dn.error("Kunne ikke oppdatere profil")}finally{u(!1)}},className:"space-y-6",children:[(0,pw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Navn *"}),(0,pw.jsx)("input",{type:"text",id:"displayName",value:s.displayName,onChange:e=>d("displayName",e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:"Alder"}),(0,pw.jsx)("input",{type:"number",id:"age",value:s.age,onChange:e=>d("age",e.target.value),min:"13",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),(0,pw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"By"}),(0,pw.jsx)("input",{type:"text",id:"city",value:s.city,onChange:e=>d("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon"}),(0,pw.jsx)("input",{type:"tel",id:"phone",value:s.phone,onChange:e=>d("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),(0,pw.jsx)("input",{type:"text",id:"address",value:s.address,onChange:e=>d("address",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Om meg"}),(0,pw.jsx)("textarea",{id:"bio",value:s.bio,onChange:e=>d("bio",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",placeholder:"Fortell litt om deg selv..."})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{htmlFor:"experience",className:"block text-sm font-medium text-gray-700 mb-1",children:"Erfaring"}),(0,pw.jsx)("textarea",{id:"experience",value:s.experience,onChange:e=>d("experience",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",placeholder:"Beskriv din erfaring med ulike typer arbeid..."})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ferdigheter"}),(0,pw.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,pw.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),h()),placeholder:"Legg til ferdighet...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"}),(0,pw.jsx)("button",{type:"button",onClick:h,className:"px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:(0,pw.jsx)(px,{className:"h-4 w-4"})})]}),s.skills.length>0&&(0,pw.jsx)("div",{className:"flex flex-wrap gap-2",children:s.skills.map((e,t)=>(0,pw.jsxs)("span",{className:"inline-flex items-center bg-primary-100 text-primary-800 text-sm px-3 py-1 rounded-full",children:[e,(0,pw.jsx)("button",{type:"button",onClick:()=>{return t=e,void a(e=>({...e,skills:e.skills.filter(e=>e!==t)}));var t},className:"ml-2 text-primary-600 hover:text-primary-800",children:(0,pw.jsx)(xx,{className:"h-3 w-3"})})]},t))})]}),(0,pw.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,pw.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Avbryt"}),(0,pw.jsx)("button",{type:"submit",disabled:c,className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,pw.jsxs)(pw.Fragment,{children:[(0,pw.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Lagrer..."]}):(0,pw.jsxs)(pw.Fragment,{children:[(0,pw.jsx)(eN,{className:"h-4 w-4 mr-2"}),"Lagre endringer"]})})]})]})]})},nN=()=>{const{userId:t}=ne(),{currentUser:n}=gw(),[r,i]=(0,e.useState)(null),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[c]=(0,e.useState)([]),[u,d]=(0,e.useState)(!0),[h,f]=(0,e.useState)("overview"),[p,m]=(0,e.useState)(!1),g=(0,e.useCallback)(async()=>{try{d(!0);const e=XE.subscribeToUserReviews(t,e=>{a(e)}),n=await XE.getUserReviewStats(t);return l(n),e}catch(vN){console.error("Error loading user profile:",vN),dn.error("Kunne ikke laste brukerprofil")}finally{d(!1)}},[t]);(0,e.useEffect)(()=>{t&&g()},[t,g]);const y=e=>(0,pw.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((t,n)=>(0,pw.jsx)(Nx,{className:"h-4 w-4 "+(n<Math.floor(e)?"text-yellow-400 fill-current":"text-gray-300")},n)),(0,pw.jsxs)("span",{className:"ml-1 text-sm text-gray-600",children:["(",e.toFixed(1),")"]})]});return u?(0,pw.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,pw.jsxs)("div",{className:"animate-pulse",children:[(0,pw.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg mb-6"}),(0,pw.jsxs)("div",{className:"space-y-4",children:[(0,pw.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,pw.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,pw.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})}):r?(0,pw.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:p&&r?(0,pw.jsx)(tN,{user:r,onSave:async e=>{if(n)try{i(t=>t?{...t,...e}:null),m(!1)}catch(vN){throw console.error("Error updating profile:",vN),vN}},onCancel:()=>m(!1)}):(0,pw.jsxs)(pw.Fragment,{children:[(0,pw.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:(0,pw.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,pw.jsx)("div",{className:"flex-shrink-0",children:r.photoURL?(0,pw.jsx)("img",{className:"h-24 w-24 rounded-full object-cover",src:r.photoURL,alt:r.displayName}):(0,pw.jsx)("div",{className:"h-24 w-24 rounded-full bg-primary-100 flex items-center justify-center",children:(0,pw.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:r.displayName.charAt(0).toUpperCase()})})}),(0,pw.jsxs)("div",{className:"flex-1",children:[(0,pw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:r.displayName}),(0,pw.jsx)("p",{className:"text-gray-600",children:r.email}),(0,pw.jsxs)("div",{className:"flex items-center mt-2",children:[y(r.rating),(0,pw.jsxs)("span",{className:"ml-4 text-sm text-gray-500",children:[r.completedJobs," fullf\xf8rte oppdrag"]})]})]}),(0,pw.jsx)("div",{className:"text-right",children:(0,pw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,pw.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+("worker"===r.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"worker"===r.role?"Arbeidstaker":"Arbeidsgiver"}),n&&n.id===r.id&&(0,pw.jsx)("button",{onClick:()=>m(!0),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,pw.jsx)(ZE,{className:"h-4 w-4"})})]})})]}),r.bio&&(0,pw.jsx)("p",{className:"mt-4 text-gray-700",children:r.bio}),(0,pw.jsxs)("div",{className:"mt-4 space-y-2",children:[r.age&&(0,pw.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,pw.jsx)("span",{className:"text-sm font-medium w-20",children:"Alder:"}),(0,pw.jsxs)("span",{className:"text-sm",children:[r.age," \xe5r"]})]}),r.city&&(0,pw.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,pw.jsx)("span",{className:"text-sm font-medium w-20",children:"By:"}),(0,pw.jsx)("span",{className:"text-sm",children:r.city})]}),r.address&&(0,pw.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,pw.jsx)("span",{className:"text-sm font-medium w-20",children:"Adresse:"}),(0,pw.jsx)("span",{className:"text-sm",children:r.address})]}),r.phone&&(0,pw.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,pw.jsx)("span",{className:"text-sm font-medium w-20",children:"Telefon:"}),(0,pw.jsx)("span",{className:"text-sm",children:r.phone})]}),r.experience&&(0,pw.jsxs)("div",{className:"flex items-start text-gray-600",children:[(0,pw.jsx)("span",{className:"text-sm font-medium w-20",children:"Erfaring:"}),(0,pw.jsx)("span",{className:"text-sm",children:r.experience})]}),r.skills&&r.skills.length>0&&(0,pw.jsxs)("div",{className:"flex items-start text-gray-600",children:[(0,pw.jsx)("span",{className:"text-sm font-medium w-20",children:"Ferdigheter:"}),(0,pw.jsx)("div",{className:"flex flex-wrap gap-1",children:r.skills.map((e,t)=>(0,pw.jsx)("span",{className:"inline-block bg-primary-100 text-primary-800 text-xs px-2 py-1 rounded",children:e},t))})]})]}),r.location&&(0,pw.jsxs)("div",{className:"flex items-center mt-4 text-gray-600",children:[(0,pw.jsx)(_x,{className:"h-4 w-4 mr-2"}),r.location.address]}),(0,pw.jsx)("div",{className:"flex items-center mt-4 space-x-6",children:(0,pw.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,pw.jsx)(Px,{className:"h-4 w-4 mr-2"}),(0,pw.jsxs)("span",{className:"text-sm",children:["Medlem siden ",r.createdAt.toLocaleDateString("nb-NO")]})]})})]})]})}),(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,pw.jsx)("div",{className:"border-b border-gray-200",children:(0,pw.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,pw.jsx)("button",{onClick:()=>f("overview"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("overview"===h?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Oversikt"}),(0,pw.jsxs)("button",{onClick:()=>f("reviews"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("reviews"===h?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Anmeldelser (",s.length,")"]}),(0,pw.jsxs)("button",{onClick:()=>f("jobs"),className:"py-4 px-1 border-b-2 font-medium text-sm "+("jobs"===h?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Tidligere oppdrag (",c.length,")"]})]})}),(0,pw.jsxs)("div",{className:"p-6",children:["overview"===h&&(0,pw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,pw.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vurderinger"}),o&&(0,pw.jsxs)("div",{className:"space-y-4",children:[(0,pw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pw.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:o.averageRating.toFixed(1)}),(0,pw.jsx)("div",{className:"flex",children:[...Array(5)].map((e,t)=>(0,pw.jsx)(Nx,{className:"h-5 w-5 "+(t<Math.floor(o.averageRating)?"text-yellow-400 fill-current":"text-gray-300")},t))})]}),(0,pw.jsxs)("p",{className:"text-sm text-gray-600",children:["Basert p\xe5 ",o.totalReviews," anmeldelser"]}),(()=>{if(!o)return null;const e=Math.max(...Object.values(o.ratingDistribution));return(0,pw.jsx)("div",{className:"space-y-2",children:[5,4,3,2,1].map(t=>(0,pw.jsxs)("div",{className:"flex items-center",children:[(0,pw.jsx)("span",{className:"text-sm text-gray-600 w-4",children:t}),(0,pw.jsx)(Nx,{className:"h-4 w-4 text-yellow-400 fill-current mx-1"}),(0,pw.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2 mx-2",children:(0,pw.jsx)("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:o.ratingDistribution[t]/e*100+"%"}})}),(0,pw.jsx)("span",{className:"text-sm text-gray-600 w-8",children:o.ratingDistribution[t]})]},t))})})()]})]}),(0,pw.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Siste aktivitet"}),(0,pw.jsx)("div",{className:"space-y-3",children:s.slice(0,3).map(e=>(0,pw.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,pw.jsx)("div",{className:"flex-shrink-0",children:(0,pw.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,pw.jsx)(Nx,{className:"h-4 w-4 text-primary-600"})})}),(0,pw.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,pw.jsxs)("p",{className:"text-sm text-gray-900",children:["Fikk ",e.rating," stjerner"]}),(0,pw.jsx)("p",{className:"text-xs text-gray-500",children:ax(e.createdAt,{addSuffix:!0,locale:ux})})]})]},e.id))})]})]}),"reviews"===h&&(0,pw.jsx)("div",{className:"space-y-4",children:0===s.length?(0,pw.jsxs)("div",{className:"text-center py-8",children:[(0,pw.jsx)(Nx,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ingen anmeldelser enn\xe5"}),(0,pw.jsx)("p",{className:"text-gray-500",children:"Denne brukeren har ikke mottatt noen anmeldelser enn\xe5."})]}):s.map(e=>(0,pw.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,pw.jsxs)("div",{className:"flex items-start justify-between",children:[(0,pw.jsxs)("div",{className:"flex items-center space-x-3",children:[e.reviewer.photoURL?(0,pw.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.reviewer.photoURL,alt:e.reviewer.displayName}):(0,pw.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center",children:(0,pw.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.reviewer.displayName.charAt(0).toUpperCase()})}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.reviewer.displayName}),(0,pw.jsx)("div",{className:"flex items-center",children:y(e.rating)})]})]}),(0,pw.jsx)("span",{className:"text-sm text-gray-500",children:ax(e.createdAt,{addSuffix:!0,locale:ux})})]}),(0,pw.jsx)("p",{className:"mt-3 text-gray-700",children:e.comment})]},e.id))}),"jobs"===h&&(0,pw.jsx)("div",{className:"space-y-4",children:0===c.length?(0,pw.jsxs)("div",{className:"text-center py-8",children:[(0,pw.jsx)(Iw,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ingen fullf\xf8rte oppdrag"}),(0,pw.jsx)("p",{className:"text-gray-500",children:"Denne brukeren har ikke fullf\xf8rt noen oppdrag enn\xe5."})]}):c.map(e=>(0,pw.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,pw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:e.title}),(0,pw.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,pw.jsxs)("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-500",children:[(0,pw.jsxs)("div",{className:"flex items-center",children:[(0,pw.jsx)(Aw,{className:"h-4 w-4 mr-1"}),e.expectedDuration," timer"]}),(0,pw.jsxs)("div",{className:"flex items-center",children:[(0,pw.jsx)(yx,{className:"h-4 w-4 mr-1"}),e.numberOfWorkers," ",1===e.numberOfWorkers?"arbeider":"arbeidere"]}),(0,pw.jsxs)("div",{className:"flex items-center",children:[(0,pw.jsx)(Tx,{className:"h-4 w-4 mr-1"}),e.wage," kr/timen"]})]})]}),(0,pw.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Fullf\xf8rt"})]})},e.id))})]})]})]})}):(0,pw.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Bruker ikke funnet"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Brukeren du leter etter eksisterer ikke."})]})})},rN=()=>{const{requestPermission:t}=ww(),[n,r]=(0,e.useState)(!1),i=[{id:"new-message",title:"Nye meldinger",description:"F\xe5 varsel n\xe5r noen sender deg en melding",icon:jw,enabled:!0},{id:"job-request",title:"Jobbs\xf8knader",description:"F\xe5 varsel n\xe5r noen s\xf8ker p\xe5 dine jobber",icon:Iw,enabled:!0},{id:"application-status",title:"S\xf8knadsstatus",description:"F\xe5 varsel n\xe5r dine s\xf8knader blir godkjent eller avvist",icon:Iw,enabled:!0},{id:"job-reminder",title:"Jobbp\xe5minnelser",description:"F\xe5 p\xe5minnelse 1 time f\xf8r jobben starter",icon:Aw,enabled:!0}];return(0,pw.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,pw.jsxs)("div",{className:"mb-8",children:[(0,pw.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Varselinnstillinger"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Administrer hvordan du vil motta varsler og p\xe5minnelser"})]}),(0,pw.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:(0,pw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,pw.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,pw.jsx)(Dw,{className:"h-6 w-6 text-primary-600"})}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Push-varsler"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"F\xe5 varsler direkte p\xe5 enheten din, selv n\xe5r du ikke er p\xe5 nettsiden"})]})]}),(0,pw.jsx)("button",{onClick:async()=>{r(!0);try{await t()}finally{r(!1)}},disabled:n,className:"btn-primary",children:n?"Aktiverer...":"Aktiver push-varsler"})]})}),(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,pw.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,pw.jsx)(vx,{className:"h-6 w-6 text-gray-600"}),(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Varseltyper"})]}),(0,pw.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,pw.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,pw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,pw.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:(0,pw.jsx)(e.icon,{className:"h-5 w-5 text-gray-600"})}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,pw.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]}),(0,pw.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,pw.jsx)("input",{type:"checkbox",defaultChecked:e.enabled,className:"sr-only peer"}),(0,pw.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]},e.id))})]}),(0,pw.jsx)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,pw.jsxs)("div",{className:"flex",children:[(0,pw.jsx)("div",{className:"flex-shrink-0",children:(0,pw.jsx)(Dw,{className:"h-5 w-5 text-blue-400"})}),(0,pw.jsxs)("div",{className:"ml-3",children:[(0,pw.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Om varsler"}),(0,pw.jsx)("div",{className:"mt-2 text-sm text-blue-700",children:(0,pw.jsx)("p",{children:"Varsler hjelper deg \xe5 holde deg oppdatert p\xe5 viktige hendelser i applikasjonen. Du kan n\xe5r som helst endre disse innstillingene."})})]})]})})]})},iN=Cw("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),sN=()=>{const{currentUser:t}=gw(),[n,r]=(0,e.useState)([]),[i,s]=(0,e.useState)([]),[a,o]=(0,e.useState)(!0);(0,e.useEffect)(()=>{if(!t||"employer"!==t.role)return;(async()=>{try{const e=await Ex.getApplicationsForEmployer(t.id);r(e);const n=Array.from(new Set(e.map(e=>e.jobId))),i=n.map(e=>Ex.getJobById(e)),a=await Promise.all(i);s(a)}catch(vN){console.error("Error loading applications:",vN),dn.error("Kunne ikke laste s\xf8knader")}finally{o(!1)}})()},[t]);const l=async(e,t)=>{try{await Ex.updateApplicationStatus(e,t),r(n=>n.map(n=>n.id===e?{...n,status:t}:n)),dn.success(`S\xf8knad ${"accepted"===t?"godkjent":"avvist"}!`)}catch(vN){console.error("Error updating application:",vN),dn.error("Kunne ikke oppdatere s\xf8knad")}},c=e=>{const t=i.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.title)||"Ukjent jobb"};return t&&"employer"===t.role?a?(0,pw.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,pw.jsxs)("div",{className:"animate-pulse",children:[(0,pw.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,pw.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,pw.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),(0,pw.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e))})]})}):(0,pw.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,pw.jsxs)("div",{className:"mb-8",children:[(0,pw.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Jobbs\xf8knader"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Se og h\xe5ndter s\xf8knader p\xe5 dine jobber"})]}),0===n.length?(0,pw.jsxs)("div",{className:"text-center py-12",children:[(0,pw.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,pw.jsx)(yx,{className:"h-8 w-8 text-gray-400"})}),(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ingen s\xf8knader enn\xe5"}),(0,pw.jsx)("p",{className:"text-gray-500",children:"Du vil se s\xf8knader her n\xe5r folk s\xf8ker p\xe5 dine jobber."})]}):(0,pw.jsx)("div",{className:"space-y-6",children:n.map(e=>(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,pw.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,pw.jsxs)("div",{className:"flex-1",children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c(e.jobId)}),(0,pw.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,pw.jsx)(Aw,{className:"h-4 w-4 mr-1"}),(0,pw.jsxs)("span",{children:["S\xf8kt ",e.createdAt.toLocaleDateString("nb-NO")]})]})]}),(0,pw.jsx)("div",{className:"px-3 py-1 text-sm font-medium rounded-full "+("pending"===e.status?"bg-yellow-100 text-yellow-800":"accepted"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"pending"===e.status?"Venter":"accepted"===e.status?"Godkjent":"Avvist"})]}),(0,pw.jsxs)("div",{className:"flex items-center mb-4",children:[(0,pw.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:(0,pw.jsx)("span",{className:"text-primary-600 font-medium",children:e.worker.displayName.charAt(0)})}),(0,pw.jsxs)("div",{className:"flex-1",children:[(0,pw.jsx)("h4",{className:"font-medium text-gray-900",children:e.worker.displayName}),(0,pw.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,pw.jsx)(Nx,{className:"h-3 w-3 text-yellow-400 mr-1"}),(0,pw.jsx)("span",{children:e.worker.rating.toFixed(1)}),(0,pw.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,pw.jsxs)("span",{children:[e.worker.completedJobs," fullf\xf8rte jobber"]})]})]})]}),e.message&&(0,pw.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,pw.jsx)("p",{className:"text-gray-700",children:e.message})}),(0,pw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,pw.jsxs)(st,{to:`/messages?user=${e.workerId}&jobId=${e.jobId}`,className:"flex items-center text-primary-600 hover:text-primary-700 font-medium",children:[(0,pw.jsx)(gx,{className:"h-4 w-4 mr-1"}),"Send melding"]}),"pending"===e.status&&(0,pw.jsxs)("div",{className:"flex space-x-2",children:[(0,pw.jsxs)("button",{onClick:()=>l(e.id,"accepted"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,pw.jsx)(VE,{className:"h-4 w-4 mr-1"}),"Godkjenn"]}),(0,pw.jsxs)("button",{onClick:()=>l(e.id,"rejected"),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,pw.jsx)(iN,{className:"h-4 w-4 mr-1"}),"Avvis"]})]})]})]},e.id))})]}):(0,pw.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ingen tilgang"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Du m\xe5 v\xe6re arbeidsgiver for \xe5 se s\xf8knader."})]})})},aN=Cw("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),oN=()=>{const{jobId:t}=ne(),n=te(),{currentUser:r}=gw(),[i,s]=(0,e.useState)(null),[a,o]=(0,e.useState)(!0),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),h=(0,e.useCallback)(async()=>{o(!0);try{if(console.log("Loading job with ID:",t),console.log("Current user:",r),!t)return console.error("No job ID provided"),dn.error("Ingen jobb ID funnet"),void s(null);const e=await Ex.getJobById(t);if(console.log("Job data loaded successfully:",e),s(e),r&&"worker"===r.role){const e=await Ex.getApplicationStatus(t,r.id);c(e)}}catch(vN){console.error("Error loading job:",vN),console.error("Error details:",vN),dn.error("Kunne ikke laste jobb: "+vN.message),s(null)}finally{o(!1)}},[t,r]);(0,e.useEffect)(()=>{t&&h()},[t,h]);const f=e=>{switch(e){case"grass-cutting":return"\ud83c\udf3f";case"weed-removal":return"\ud83c\udf31";case"bark-soil":return"\ud83e\udeb4";case"hedge-trimming":return"\ud83c\udf33";case"trash-removal":return"\ud83d\uddd1\ufe0f";case"washing":return"\ud83d\udca6";case"cleaning":return"\ud83e\uddf9";case"window-washing":return"\ud83e\ude9f";case"carrying":return"\ud83d\udcaa";case"painting":return"\ud83c\udfa8";case"staining":return"\ud83e\udeb5";case"repair":return"\ud83d\udd27";case"tidying":case"moving-help":return"\ud83d\udce6";case"car-washing":return"\ud83d\ude97";case"snow-shoveling":return"\u2744\ufe0f";case"salt-sand":return"\ud83e\uddc2";case"pet-sitting":return"\ud83d\udc15";default:return"\u2728"}},p=e=>{switch(e){case"grass-cutting":return"Klippe gress";case"weed-removal":return"Fjerne ugress";case"bark-soil":return"Legge bark eller ny jord";case"hedge-trimming":return"Klippe hekk";case"trash-removal":return"Kj\xf8re s\xf8ppel";case"washing":return"Spyle";case"cleaning":return"Rengj\xf8re";case"window-washing":return"Vaske vinduer";case"carrying":return"B\xe6rejobb";case"painting":return"Male";case"staining":return"Beise";case"repair":return"Reparere";case"tidying":return"Rydde";case"car-washing":return"Vaske bilen";case"snow-shoveling":return"Sn\xf8m\xe5king";case"moving-help":return"Hjelpe med flytting";case"salt-sand":return"Str\xf8 med sand / salt";case"pet-sitting":return"Dyrepass";default:return"Annet"}};return a?(0,pw.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,pw.jsxs)("div",{className:"animate-pulse",children:[(0,pw.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,pw.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),(0,pw.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),(0,pw.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):i?(0,pw.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,pw.jsxs)("button",{onClick:()=>n("/jobs"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[(0,pw.jsx)(aN,{className:"h-4 w-4 mr-2"}),"Tilbake til jobber"]}),(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,pw.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,pw.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,pw.jsxs)("div",{className:"flex-1",children:[(0,pw.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.title}),(0,pw.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,pw.jsx)(yx,{className:"h-4 w-4 mr-1"}),(0,pw.jsx)("span",{children:"Publisert av "}),(0,pw.jsx)(st,{to:`/profile/${i.employer.id}`,className:"font-medium text-primary-600 hover:text-primary-700 ml-1",children:i.employer.displayName}),(0,pw.jsxs)("div",{className:"flex items-center ml-2",children:[(0,pw.jsx)(Nx,{className:"h-3 w-3 text-yellow-400 mr-1"}),(0,pw.jsx)("span",{children:i.employer.rating.toFixed(1)})]})]})]}),(0,pw.jsx)("div",{className:"flex items-center space-x-2",children:(0,pw.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full "+("open"===i.status?"bg-green-100 text-green-800":"in-progress"===i.status?"bg-blue-100 text-blue-800":"completed"===i.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:"open"===i.status?"\xc5pen":"in-progress"===i.status?"P\xe5g\xe5r":"completed"===i.status?"Fullf\xf8rt":"Kansellert"})})]}),(0,pw.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,pw.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:(g=i.jobType,"one-time"===g?"Engangsjobb":"Gjentakende jobb")}),(0,pw.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:(m=i.priceType,"hourly"===m?"Timebetalt":"Fastpris")})]}),(0,pw.jsxs)("div",{className:"mb-4",children:[(0,pw.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Kategorier:"}),(0,pw.jsx)("div",{className:"flex flex-wrap gap-2",children:i.categories.map((e,t)=>(0,pw.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800",children:[(0,pw.jsx)("span",{className:"mr-2",children:f(e)}),p(e)]},t))})]}),(0,pw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,pw.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,pw.jsx)(_x,{className:"h-4 w-4 mr-2"}),(0,pw.jsx)("span",{children:i.location.address})]}),(0,pw.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,pw.jsx)(Aw,{className:"h-4 w-4 mr-2"}),(0,pw.jsxs)("span",{children:[i.expectedDuration," timer"]})]}),(0,pw.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,pw.jsx)(yx,{className:"h-4 w-4 mr-2"}),(0,pw.jsxs)("span",{children:[i.numberOfWorkers," ",1===i.numberOfWorkers?"arbeider":"arbeidere"]})]}),(0,pw.jsxs)("div",{className:"flex items-center text-sm font-semibold text-primary-600",children:[(0,pw.jsx)(Tx,{className:"h-4 w-4 mr-2"}),(0,pw.jsxs)("span",{children:[i.wage," kr/timen"]})]})]})]}),(0,pw.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Jobbkrav"}),(0,pw.jsxs)("div",{className:"space-y-3",children:[(0,pw.jsxs)("div",{className:"flex items-center",children:[(0,pw.jsx)(Cx,{className:"h-4 w-4 mr-3 text-gray-400"}),(0,pw.jsxs)("span",{className:"text-gray-700",children:["Bil kreves: ",(0,pw.jsx)("span",{className:"font-medium",children:i.requirements.carRequired?"Ja":"Nei"})]})]}),(0,pw.jsxs)("div",{className:"flex items-center",children:[(0,pw.jsx)(jx,{className:"h-4 w-4 mr-3 text-gray-400"}),(0,pw.jsxs)("span",{className:"text-gray-700",children:["Utstyr: ",(0,pw.jsx)("span",{className:"font-medium",children:(e=>{switch(e){case"yes":return"Ja, utstyr kreves";case"some":return"Noe utstyr n\xf8dvendig";case"no":return"Nei, ingen utstyr";default:return""}})(i.requirements.equipmentRequired)})]})]})]})]}),(0,pw.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,pw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Beskrivelse"}),(0,pw.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:i.description})]}),(0,pw.jsx)("div",{className:"p-6",children:(0,pw.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:["worker"===(null===r||void 0===r?void 0:r.role)&&(0,pw.jsx)("button",{onClick:async()=>{if(r&&i){d(!0);try{await Ex.applyForJob(i.id,r.id,"Jeg er interessert i denne jobben"),c("pending"),dn.success("S\xf8knad sendt! Arbeidsgiveren vil bli varslet.")}catch(vN){console.error("Error applying for job:",vN),vN.message.includes("permissions")?dn.error("Tillatelse feilet. Pr\xf8v \xe5 logge inn p\xe5 nytt."):vN.message.includes("allerede s\xf8kt")?(dn.error("Du har allerede s\xf8kt p\xe5 denne jobben"),c("pending")):dn.error("Kunne ikke sende s\xf8knad. Pr\xf8v igjen senere.")}finally{d(!1)}}},disabled:u||null!==l,className:"flex-1 px-6 py-3 rounded-lg font-medium transition-colors "+("pending"===l?"bg-yellow-100 text-yellow-800 cursor-not-allowed":"accepted"===l?"bg-green-100 text-green-800 cursor-not-allowed":"rejected"===l?"bg-red-100 text-red-800 cursor-not-allowed":u?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700"),children:u?"Sender s\xf8knad...":"pending"===l?"S\xf8knad sendt":"accepted"===l?"Godkjent":"rejected"===l?"Ikke godkjent":"S\xf8k p\xe5 jobb"}),(0,pw.jsxs)("button",{onClick:()=>{r&&i&&n(`/messages?user=${i.employerId}&jobId=${i.id}`)},className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:[(0,pw.jsx)(gx,{className:"h-4 w-4 mr-2 inline"}),"Send melding til ",i.employer.displayName]})]})})]})]}):(0,pw.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,pw.jsxs)("div",{className:"text-center",children:[(0,pw.jsx)(UE,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,pw.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Jobb ikke funnet"}),(0,pw.jsx)("p",{className:"text-gray-600 mb-6",children:"Jobben du leter etter eksisterer ikke eller har blitt fjernet."}),(0,pw.jsx)("button",{onClick:()=>n("/jobs"),className:"btn-primary",children:"G\xe5 tilbake til jobber"})]})});var m,g},lN=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!0),[s,a]=(0,e.useState)("all"),[o,l]=(0,e.useState)(""),c=(0,e.useCallback)(()=>{i(!0);try{console.log("Loading jobs...");const e=Ex.subscribeToJobs(e=>{console.log("Jobs loaded:",e.length),console.log("Jobs data:",e),n(e),i(!1)});return e}catch(vN){return console.error("Error loading jobs:",vN),dn.error("Kunne ikke laste jobber"),i(!1),()=>{}}},[]);(0,e.useEffect)(()=>{const e=c();return()=>{e&&e()}},[c]);const u=t.filter(e=>{const t="all"===s||e.categories.includes(s),n=""===o||e.title.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase())||e.location.address.toLowerCase().includes(o.toLowerCase());return t&&n});return r?(0,pw.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,pw.jsxs)("div",{className:"animate-pulse",children:[(0,pw.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,pw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,pw.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,pw.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,pw.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),(0,pw.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},t))})]})}):null===t?(0,pw.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,pw.jsxs)("div",{className:"text-center py-12",children:[(0,pw.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,pw.jsx)("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,pw.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Feil ved lasting av jobber"}),(0,pw.jsx)("p",{className:"text-gray-500",children:"Det oppstod en feil ved lasting av jobber. Pr\xf8v \xe5 laste siden p\xe5 nytt."})]})}):(0,pw.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,pw.jsxs)("div",{className:"mb-8",children:[(0,pw.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Alle jobber"}),(0,pw.jsx)("p",{className:"text-gray-600",children:"Finn jobber som passer deg"})]}),(0,pw.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:(0,pw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"S\xf8k"}),(0,pw.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),placeholder:"S\xf8k i jobbtittel, beskrivelse eller adresse...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,pw.jsxs)("div",{children:[(0,pw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Kategori"}),(0,pw.jsx)("select",{value:s,onChange:e=>a(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[{value:"all",label:"Alle kategorier"},{value:"grass-cutting",label:"Klippe gress"},{value:"weed-removal",label:"Fjerne ugress"},{value:"bark-soil",label:"Legge bark eller ny jord"},{value:"hedge-trimming",label:"Klippe hekk"},{value:"trash-removal",label:"Kj\xf8re s\xf8ppel"},{value:"washing",label:"Spyle"},{value:"cleaning",label:"Rengj\xf8re"},{value:"window-washing",label:"Vaske vinduer"},{value:"carrying",label:"B\xe6rejobb"},{value:"painting",label:"Male"},{value:"staining",label:"Beise"},{value:"repair",label:"Reparere"},{value:"tidying",label:"Rydde"},{value:"car-washing",label:"Vaske bilen"},{value:"snow-shoveling",label:"Sn\xf8m\xe5king"},{value:"moving-help",label:"Hjelpe med flytting"},{value:"salt-sand",label:"Str\xf8 med sand / salt"},{value:"pet-sitting",label:"Dyrepass"},{value:"other",label:"Annet"}].map(e=>(0,pw.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})}),0===u.length?(0,pw.jsxs)("div",{className:"text-center py-12",children:[(0,pw.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,pw.jsx)("svg",{className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,pw.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),(0,pw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ingen jobber funnet"}),(0,pw.jsx)("p",{className:"text-gray-500",children:"Det er ingen jobber som matcher dine kriterier akkurat n\xe5."})]}):(0,pw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>(0,pw.jsx)(Ix,{job:e},e.id))})]})},cN=e=>{let{children:t}=e;const{currentUser:n,firebaseUser:r,loading:i}=gw();return console.log("ProtectedRoute - currentUser:",n),console.log("ProtectedRoute - firebaseUser:",r),console.log("ProtectedRoute - loading:",i),i?(console.log("ProtectedRoute - showing loading spinner"),(0,pw.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,pw.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})})):n?r&&!r.emailVerified?(console.log("ProtectedRoute - redirecting to email verification"),(0,pw.jsx)(be,{to:"/verify-email"})):(console.log("ProtectedRoute - showing protected content"),(0,pw.jsx)(pw.Fragment,{children:t})):(console.log("ProtectedRoute - redirecting to login"),(0,pw.jsx)(be,{to:"/login"}))},uN=e=>{let{children:t}=e;const{currentUser:n,firebaseUser:r,loading:i}=gw();return i?(0,pw.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,pw.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):n&&null!==r&&void 0!==r&&r.emailVerified?(0,pw.jsx)(be,{to:"/"}):(0,pw.jsx)(pw.Fragment,{children:t})},dN=e=>{let{children:t}=e;return(0,pw.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,pw.jsx)(Sx,{}),(0,pw.jsx)("main",{children:t})]})},hN=()=>(0,pw.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,pw.jsx)(RE,{})}),fN=()=>(0,pw.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,pw.jsx)(FE,{})}),pN=()=>(0,pw.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,pw.jsx)(qE,{})}),mN=()=>(0,pw.jsx)(rt,{children:(0,pw.jsx)(dN,{children:(0,pw.jsxs)(ke,{children:[(0,pw.jsx)(we,{path:"/",element:(0,pw.jsx)(Ox,{})}),(0,pw.jsx)(we,{path:"/login",element:(0,pw.jsx)(uN,{children:(0,pw.jsx)(hN,{})})}),(0,pw.jsx)(we,{path:"/signup",element:(0,pw.jsx)(uN,{children:(0,pw.jsx)(fN,{})})}),(0,pw.jsx)(we,{path:"/verify-email",element:(0,pw.jsx)(pN,{})}),(0,pw.jsx)(we,{path:"/jobs/new",element:(0,pw.jsx)(cN,{children:(0,pw.jsx)(HE,{})})}),(0,pw.jsx)(we,{path:"/dashboard",element:(0,pw.jsx)(cN,{children:(0,pw.jsx)(WE,{})})}),(0,pw.jsx)(we,{path:"/messages",element:(0,pw.jsx)(cN,{children:(0,pw.jsx)(YE,{})})}),(0,pw.jsx)(we,{path:"/profile",element:(0,pw.jsx)(cN,{children:(0,pw.jsx)(nN,{})})}),(0,pw.jsx)(we,{path:"/profile/:userId",element:(0,pw.jsx)(nN,{})}),(0,pw.jsx)(we,{path:"/notifications/settings",element:(0,pw.jsx)(cN,{children:(0,pw.jsx)(rN,{})})}),(0,pw.jsx)(we,{path:"/jobs",element:(0,pw.jsx)(lN,{})}),(0,pw.jsx)(we,{path:"/jobs/applications",element:(0,pw.jsx)(cN,{children:(0,pw.jsx)(sN,{})})}),(0,pw.jsx)(we,{path:"/jobs/:jobId",element:(0,pw.jsx)(oN,{})}),(0,pw.jsx)(we,{path:"*",element:(0,pw.jsx)(be,{to:"/"})})]})})}),gN=()=>(0,pw.jsx)(yw,{children:(0,pw.jsxs)(xw,{children:[(0,pw.jsx)(mN,{}),(0,pw.jsx)(un,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}),yN=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)})};t.createRoot(document.getElementById("root")).render((0,pw.jsx)(e.StrictMode,{children:(0,pw.jsx)(gN,{})})),yN()})()})();
//# sourceMappingURL=main.f1be571c.js.map